@SKIP_MOVE_14(ARG:0, ARG:1)
#DIM 현재의위치
;현재위치 취득
IF ARG:1
	현재의위치 = ARG:1
ELSE
	현재의위치 = CFLAG:MASTER:현재위치
ENDIF


;잠정 목적지에 직접 이동할 수 있는 경우
IF CAN_MOVE(현재의위치, ARG) & 1
	;거기에 이동
	RETURN ARG
ENDIF




;막다른 골목으로부터 갈 수 있는 장소는 고정이므로, 거기를 목표로 한다
SELECTCASE 현재의위치
CASE P1408욕실
	RETURN P1407탈의실
CASE P1414·201 TO P1422·2층서재
	RETURN P1423·2층통로
CASE P1424·301 TO P1432·3층휴게실
	RETURN P1433·3층통로
CASE P1434·B01 TO P1441·지하도장
	RETURN P1443·지하통로
CASE P1444·지하온천
	RETURN P1442·지하탈의실

CASE P1445·지하감옥
	RETURN P1443·지하통로
ENDSELECT

;직접 이동할 수 없는 경우,  1개가까운 위치를 잠정 목적지로 다시 설정해 루프
;지점 추가시 요점 보충(전케이스 수정하는 것)
SELECTCASE ARG
	CASE P1401현관
		RETURN 1413
	CASE 1402
		IF INRANGE(현재의위치, 1409,1412)
			RETURN 1409
		ELSE
			RETURN 1413
		ENDIF
	CASE 1403 TO 1407
		RETURN 1413
	CASE 1408
		RETURN 1407
	CASE 1409
		IF GROUPMATCH(현재의위치,1412)
			RETURN 1410
		ELSE
			RETURN 1402
		ENDIF
	CASE 1410
		RETURN 1409
	CASE 1411
		RETURN 1409
	CASE 1412
		RETURN 1410
	CASE 1413
		IF INRANGE(현재의위치, 1414,1433)
			RETURN 1423
		ELSEIF INRANGE(현재의위치, 1434,1444)
			RETURN 1443
		ELSE
			RETURN 1402
		ENDIF
	CASE 1414 TO 1422
		RETURN 1423
	CASE 1423
		IF INRANGE(현재의위치, 1424,1432)
			RETURN 1433
		ELSE
			RETURN 1413
		ENDIF
	CASE 1424 TO 1432
		RETURN 1433
	CASE 1433
		RETURN 1423
	CASE 1434 TO 1442
		RETURN 1443
	CASE 1443
		RETURN 1413
	CASE 1444
		RETURN 1442
	CASE 1445
		RETURN 1443
ENDSELECT
