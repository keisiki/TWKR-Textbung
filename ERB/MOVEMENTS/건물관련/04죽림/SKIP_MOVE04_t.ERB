;-----------------------------------------------------------
;원거리 이동 설정
;ARG     목적지
;ARG:1   현위치
;RETURN  다음 목적지
;-----------------------------------------------------------
@SKIP_MOVE_4(ARG, ARG:1)
#DIM 현재의위치
;現在位置取得
IF ARG:1
	현재의위치 = ARG:1
ELSE
	현재의위치 = CFLAG:MASTER:현재위치
ENDIF

;目的地に直接移動できる場合そこに移動
SIF CAN_MOVE(현재의위치, ARG) & 1
	RETURN ARG

;袋小路から行ける場所は固定なので、そこを目指す
SELECTCASE 현재의위치
CASE P406손님용화장실
	RETURN P403대합실
CASE P418측간, P430지하실
	RETURN P407복도
CASE P420목욕탕
	RETURN P419탈의실
CASE P424헛간
	RETURN P409툇마루
CASE P427창고, P4282층빈방
	RETURN P4262층복도
CASE P431토끼동굴, P432카게로의집
	RETURN P433사각의죽림
CASE P437메디슨의집
	RETURN P436무명의언덕
CASE P439라바의집
	RETURN P438태양의밭
CASE P441온천
	RETURN P434미혹의샛길
CASE P451몽환관쿠루미방, P452몽환관엘리방
	RETURN P450몽환관현관
CASE P453몽환관부엌, P454몽환관목욕탕, P455몽환관화장실, P456몽환관창고, P460몽환관빈방
	RETURN P465몽환관홀
CASE P457몽환관무게츠방, P459몽환관겐게츠방
	RETURN P458몽환관복도
CASE P464몽환관발코니
	RETURN P463몽환관유카방
ENDSELECT

;直接移動できない場合、1つ近い位置を暫定目的地に設定し直してループ
;基本的に最短で行けるコースを設定する
;現在地によってコースが変わることも考慮して対応する
SELECTCASE ARG
	CASE P401영원정입구
		SELECTCASE 현재의위치
		CASE P415객실 TO P417부엌, P421마당, P422뒷마당
			RETURN P405조제실
		CASE P404진찰실 TO P430지하실
			RETURN P403대합실
		CASE P431토끼동굴, P432카게로의집, P442빈오두막, P443미스티아의집, P444밤참새의포장마차
			RETURN P433사각의죽림
		CASEELSE
			RETURN P435우물
		ENDSELECT
	CASE P403대합실
		SELECTCASE 현재의위치
		CASE P405조제실, P417부엌, P422뒷마당
			RETURN P404진찰실
		CASE P408중앙복도 TO P430지하실
			RETURN P407복도
		CASEELSE
			RETURN P401영원정입구
		ENDSELECT
	CASE P404진찰실
		SELECTCASE 현재의위치
		CASE P417부엌, P422뒷마당, P416거실, P415객실, P421마당
			RETURN P405조제실
		CASEELSE
			RETURN P403대합실
		ENDSELECT
	CASE P405조제실
		SELECTCASE 현재의위치
		CASE P421마당
			RETURN P422뒷마당
		CASE P408중앙복도 TO P416거실, P424헛간
			RETURN P417부엌
		CASE P403대합실, P406손님용화장실, P407복도, P418측간 TO P420목욕탕, P4262층복도 TO P430지하실
			RETURN P404진찰실
		CASEELSE
			RETURN P401영원정입구
		ENDSELECT
	CASE P406손님용화장실
		RETURN P403대합실
	CASE P407복도
		SELECTCASE 현재의위치
		CASE P420목욕탕
			RETURN P419탈의실
		CASE P427창고, P4282층빈방
			RETURN P4262층복도
		CASE P421마당, P422뒷마당, P424헛간
			RETURN P409툇마루
		CASE P410테위방 TO P417부엌
			RETURN P408중앙복도
		CASEELSE
			RETURN P403대합실
		ENDSELECT
	CASE P408중앙복도
		SELECTCASE 현재의위치
		CASE P417부엌, P422뒷마당, P405조제실, P424헛간
			RETURN P416거실
		CASEELSE
			RETURN P407복도
		ENDSELECT
	CASE P409툇마루
		SELECTCASE 현재의위치
		CASE P417부엌, P415객실, P405조제실
			RETURN P416거실
		CASE P422뒷마당
			RETURN P421마당
		CASEELSE
			RETURN P407복도
		ENDSELECT
	CASE P410테위방, P411우동게방
		RETURN P408중앙복도
	CASE P412빈방, P413에이린방, P414카구야방
		SELECTCASE 현재의위치
		CASE P421마당, P422뒷마당, P427창고
			RETURN P409툇마루
		CASEELSE
			RETURN P408중앙복도
		ENDSELECT
	CASE P415객실
		SELECTCASE 현재의위치
		CASE P409툇마루, P424헛간, P421마당
			RETURN P416거실
		CASE P403대합실, P407복도, P410테위방 TO P414카구야방, P418측간 TO P420목욕탕, P4262층복도 TO P430지하실
			RETURN P408중앙복도
		CASEELSE
			RETURN P417부엌
		ENDSELECT
	CASE P416거실
		SELECTCASE 현재의위치
		CASE P424헛간, P421마당
			RETURN P409툇마루
		CASE P403대합실, P407복도, P410테위방 TO P414카구야방, P418측간 TO P420목욕탕, P4262층복도 TO P430지하실
			RETURN P408중앙복도
		CASEELSE
			RETURN P417부엌
		ENDSELECT
	CASE P417부엌
		SELECTCASE 현재의위치
		CASE P421마당
			RETURN P422뒷마당
		CASE P407복도 TO P420목욕탕, P424헛간 TO P430지하실
			RETURN P416거실
		CASEELSE
			RETURN P405조제실
		ENDSELECT
	CASE P418측간, P419탈의실
		RETURN P407복도
	CASE P420목욕탕
		RETURN P419탈의실
	CASE P421마당
		SELECTCASE 현재의위치
		CASE P403대합실, P404진찰실, P406손님용화장실 TO P416거실, P418측간 TO P420목욕탕, P424헛간 TO P430지하실
			RETURN P409툇마루
		CASEELSE
			RETURN P422뒷마당
		ENDSELECT
	CASE P422뒷마당
		SELECTCASE 현재의위치
		CASE P408중앙복도, P410테위방 TO P416거실
			RETURN P417부엌
		CASE P407복도, P409툇마루, P418측간 TO P420목욕탕, P424헛간 TO P430지하실
			RETURN P421마당
		CASEELSE
			RETURN P405조제실
		ENDSELECT
	CASE P424헛간
		RETURN P409툇마루
	CASE P4262층복도, P430지하실
		RETURN P407복도
	CASE P427창고, P4282층빈방
		RETURN P4262층복도

	CASE P431토끼동굴, P432카게로의집
		RETURN P433사각의죽림
	CASE P433사각의죽림
		SELECTCASE 현재의위치
		CASE P440폐가, P441온천, P445모코우의집 TO P447죽림입구
			RETURN P434미혹의샛길
		CASEELSE
			RETURN P401영원정입구
		ENDSELECT
	CASE P434미혹의샛길
		SELECTCASE 현재의위치
		CASE P431토끼동굴, P432카게로의집, P442빈오두막 TO P444밤참새의포장마차
			RETURN P433사각의죽림
		CASEELSE
			RETURN P435우물
		ENDSELECT
	CASE P435우물
		SELECTCASE 현재의위치
		CASE P403대합실 TO P430지하실
			RETURN P401영원정입구
		CASE P437메디슨의집, P438태양의밭, P439라바의집, P450몽환관현관 TO P466몽환관정원
			RETURN P436무명의언덕
		CASE P431토끼동굴, P432카게로의집, P442빈오두막 TO P444밤참새의포장마차
			RETURN P433사각의죽림
		CASEELSE
			RETURN P434미혹의샛길
		ENDSELECT
	CASE P436무명의언덕
		SELECTCASE 현재의위치
		CASE P439라바의집, P450몽환관현관 TO P466몽환관정원
			RETURN P438태양의밭
		CASEELSE
			RETURN P435우물
		ENDSELECT
	CASE P437메디슨의집
		RETURN P436무명의언덕
	CASE P438태양의밭
		SELECTCASE 현재의위치
		CASE P451몽환관쿠루미방 TO P461몽환관거실, P463몽환관유카방 TO P465몽환관홀
			RETURN P450몽환관현관
		CASE P462몽환관테라스
			RETURN P466몽환관정원
		CASEELSE
			RETURN P436무명의언덕
		ENDSELECT
	CASE P439라바의집
		RETURN P438태양의밭
	CASE P440폐가, P441온천
		RETURN P434미혹의샛길
	CASE P442빈오두막, P443미스티아의집
		SELECTCASE 현재의위치
		CASE P446사당, P447죽림입구
			RETURN P444밤참새의포장마차
		CASEELSE
			RETURN P433사각의죽림
		ENDSELECT
	CASE P444밤참새의포장마차
		SELECTCASE 현재의위치
		CASE P440폐가, P445모코우의집
			RETURN P447죽림입구
		CASEELSE
			RETURN P433사각의죽림
		ENDSELECT
	CASE P445모코우의집
		SELECTCASE 현재의위치
		CASE P444밤참새의포장마차, P440폐가, P446사당, P443미스티아의집
			RETURN P447죽림입구
		CASEELSE
			RETURN P434미혹의샛길
		ENDSELECT
	CASE P446사당
		SELECTCASE 현재의위치
		CASE P443미스티아의집, P442빈오두막
			RETURN P444밤참새의포장마차
		CASE P440폐가, P445모코우의집
			RETURN P447죽림입구
		CASEELSE
			RETURN P434미혹의샛길
		ENDSELECT
	CASE P447죽림입구
		SELECTCASE 현재의위치
		CASE P443미스티아의집, P442빈오두막
			RETURN P444밤참새의포장마차
		CASEELSE
			RETURN P434미혹의샛길
		ENDSELECT

	CASE P450몽환관현관
		SELECTCASE 현재의위치
		CASE P453몽환관부엌 TO P464몽환관발코니
			RETURN P465몽환관홀
		CASEELSE
			RETURN P438태양의밭
		ENDSELECT
	CASE P451몽환관쿠루미방, P452몽환관엘리방
		RETURN P450몽환관현관
	CASE P453몽환관부엌, P454몽환관목욕탕, P455몽환관화장실, P456몽환관창고, P460몽환관빈방
		RETURN P465몽환관홀
	CASE P457몽환관무게츠방, P459몽환관겐게츠방
		RETURN P458몽환관복도
	CASE P458몽환관복도
		SELECTCASE 현재의위치
		CASE P464몽환관발코니
			RETURN P463몽환관유카방
		CASE P462몽환관테라스, P466몽환관정원
			RETURN P461몽환관거실
		CASEELSE
			RETURN P465몽환관홀
		ENDSELECT
	CASE P461몽환관거실
		SELECTCASE 현재의위치
		CASE P457몽환관무게츠방, P459몽환관겐게츠방, P463몽환관유카방, P464몽환관발코니
			RETURN P458몽환관복도
		CASE P466몽환관정원
			RETURN P462몽환관테라스
		CASEELSE
			RETURN P465몽환관홀
		ENDSELECT
	CASE P462몽환관테라스
		SELECTCASE 현재의위치
		CASE P453몽환관부엌 TO P460몽환관빈방, P463몽환관유카방 TO P465몽환관홀
			RETURN P461몽환관거실
		CASEELSE
			RETURN P466몽환관정원
		ENDSELECT
	CASE P463몽환관유카방
		RETURN P458몽환관복도
	CASE P464몽환관발코니
		RETURN P463몽환관유카방
	CASE P465몽환관홀
		SELECTCASE 현재의위치
		CASE P462몽환관테라스
			RETURN P461몽환관거실
		CASE P457몽환관무게츠방, P459몽환관겐게츠방, P463몽환관유카방, P464몽환관발코니
			RETURN P458몽환관복도
		CASEELSE
			RETURN P450몽환관현관
		ENDSELECT
	CASE P466몽환관정원
		SELECTCASE 현재의위치
		CASE P451몽환관쿠루미방 TO P456몽환관창고, P460몽환관빈방
			RETURN P450몽환관현관
		CASE P457몽환관무게츠방 TO P459몽환관겐게츠방, P461몽환관거실 TO P464몽환관발코니
			RETURN P462몽환관테라스
		CASEELSE
			RETURN P438태양의밭
		ENDSELECT
ENDSELECT