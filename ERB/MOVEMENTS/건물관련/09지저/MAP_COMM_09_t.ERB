;--------------------------------------------------
;	맵내 이동 처리 확장 패치 부속
;		지저 MAP용 함수
;--------------------------------------------------
@MAP_PLACENAME_9(ARG)
#FUNCTIONS
#DIM PLACEID
IF GET_MAPID(ARG) == MAIN_MAP
	SELECTCASE ARG
		CASE 901 TO (MAXROOM - 1)
			RETURNF STR:(ARG + 8000)
		CASE 998
			RETURNF OMANEKI_PLACE()
		CASE 999
			RETURNF "스키마 공간"
		CASE MAXROOM
			RETURNF "지상"
		CASEELSE
			RETURNF "불명"
	ENDSELECT
ELSE
	RETURNF "불명"
ENDIF

;@MAP_VIEWING_9
;
;SIF CHK_FOCUS(927, CFLAG:MASTER:현재위치, 930)
;	CALL MAP_OLD_HELL
;SIF CHK_FOCUS(902, CFLAG:MASTER:현재위치, 926)
;	CALL MAP_TIREIDEN
;SIF (CFLAG:MASTER:현재위치 == 901) || CHK_FOCUS(931, CFLAG:MASTER:현재위치, 948)
;	CALL MAP_OLD_CITY
;RETURN 1

@MAP_VIEWING_9(AA)
#DIMS REF AA, 0
IF !TFLAG:맵변환
	IF CHK_FOCUS(927, CFLAG:MASTER:현재위치, 930)
		TFLAG:맵변환 = 3
	ELSEIF (CFLAG:MASTER:현재위치 == 901) || CHK_FOCUS(931, CFLAG:MASTER:현재위치, 948)
		TFLAG:맵변환 = 2
	ELSE
		TFLAG:맵변환 = 1
	ENDIF
ENDIF
CALL DRAW_INFORMATIONLINE(@"%MAPNAME:(TFLAG:맵변환)%")
PRINTFORML 
TRYCALLFORM MAP_CHIREIDEN_{TFLAG:맵변환}(AA)


@MAP_CAN_MOVE_9(ARG, ARG:1)
#FUNCTION
#DIM 재택
SELECTCASE ARG
	;구서계단, 동쪽 계단, 분수, 지장
	CASE 907, 908, 924, 947
		RETURNF 0
	;러브호텔, 당신 이외는 들어가지 않는다
	CASE 935
		SIF ARG:1 != MASTER
			RETURNF 0
	CASEELSE
		RETURNF 1
ENDSELECT
RETURNF 1

@MAP_CANNOT_WORD_9(ARG)
SELECTCASE TFLAG:이동불능메시지
ENDSELECT
;PRINTW 공사중
;CLEARLINE 2
;REUSELASTLINE 
;RETURN

@MAP소개_9
;とりあえず5行
PRINTFORML ※紹介文募集中※
PRINTFORML 
PRINTFORML 
PRINTFORML 
PRINTFORML 
