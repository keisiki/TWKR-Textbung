;감옥 맵관련 짧은 파일 일괄 처리용.
;GETMAP_12.ERB
@GETMAP_15(ARG)
CALL GETMAP_BASIC(ARG)

;MAP_COMM_12.ERB
@MAP_PLACENAME_15(ARG)
#FUNCTIONS

IF GET_MAPID(ARG) == MAIN_MAP
	SELECTCASE ARG
		CASE 1501 TO (MAXROOM - 1)
			RETURNF STR:(ARG + 8000)
        ;방 초대시(?)
        CASE 1598
            RETURNF OMANEKI_PLACE()
		CASE 1599
			RETURNF "스키마 공간"
		CASEELSE
			RETURNF "불명"
	ENDSELECT
ELSE
	RETURNF "불명"
ENDIF

@MAP_VIEWING_15(AA)
#DIMS REF AA, 0
IF !TFLAG:맵변환
	TFLAG:맵변환 = 1
ENDIF
CALL DRAW_INFORMATIONLINE(@"%MAPNAME:(TFLAG:맵변환)%")
PRINTFORML 
TRYCALLFORM MAP_창관_1(AA)

@MAP_CAN_MOVE_15(ARG, ARG:1)
#FUNCTION
RETURNF 1

@MAP소개_15
;とりあえず5行
PRINTFORML 마을 지하 어딘가에 있는 창관
PRINTFORML 
PRINTFORML 
PRINTFORML 
PRINTFORML 

;PLACE_12.ERB
@KICKOUT_15()
#FUNCTION
SELECTCASE CHK_INHOME(CFLAG:MASTER:현재위치)
    ;귀찮으니 걍 카운터로
    CASEELSE
        RETURNF 1501
ENDSELECT
;RETURNF 101

@BATHCHECK_15(ARG)
#FUNCTION
SELECTCASE CHK_INHOME(CFLAG:MASTER:현재위치)
    ;직원실
	CASE 1502
		RETURNF 1
ENDSELECT
RETURNF 0

@BATHROOM_15(ARG)
#FUNCTION
;직원실
RETURNF 1502

@MAP_UNIQUEMESSAGE_15
;장소별 특수 정경묘사 필요시 가필
;예시로 출구만 써둠. 출구가 출력될 지 의문이긴 한데...
SELECTCASE CFLAG:MASTER:현재위치
    CASE 1501
        PRINTL 직원이 카운터에 서 있다...
        RETURN 1
ENDSELECT
RETURN 0

;-----------------------------------------
;자택이 아닐때 대체 장소 ID를 돌려주는 함수
;ARG, 대상ID
;RETURNF, 대체가 끝난 대상ID
;-----------------------------------------
@MAP_SEARCH_REPLACEMENT_15(ARG)
#FUNCTION

SELECTCASE ARG
	CASE 1501
        RETURNF 1510
    CASE 1502
        RETURNF 1520
	CASE 1503
        RETURNF 1530
	CASE 1504
        RETURNF 1540
	CASE 1505
        RETURNF 1550
	CASE 1506
        RETURNF 1560
	CASE 1507
        RETURNF 1570
ENDSELECT
RETURNF 0


@MAP15_AREANAME(PLACE_ID)
#FUNCTIONS
#LOCALSIZE 1
#LOCALSSIZE 1
#DIM PLACE_ID
IF MAIN_MAP == 15
	RETURNF "매음굴"
ENDIF