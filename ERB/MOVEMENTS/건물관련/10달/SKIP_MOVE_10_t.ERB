;-----------------------------------------------------------
;원거리 이동 설정
;ARG     목적지
;ARG:1   현위치
;RETURN  다음 목적지
;-----------------------------------------------------------
@SKIP_MOVE_10(ARG, ARG:1)
#DIM 현재의위치
;現在位置取得
IF ARG:1
	현재의위치 = ARG:1
ELSE
	현재의위치 = CFLAG:MASTER:현재위치
ENDIF

;目的地に直接移動できる場合そこに移動
SIF CAN_MOVE(현재의위치, ARG) & 1
	RETURN ARG

;袋小路から行ける場所は固定なので、そこを目指す
SELECTCASE 현재의위치
	CASE P1006사구메댁・침실
		RETURN P1005사구메댁・거실
	CASE P1007빈집
		RETURN P1002달의도시
	CASE P1008링고댁, P1009세이란댁
		RETURN P1003옥토거리
	CASE P1012주점, P1013야채가게
		RETURN P1004광장
	CASE P1023문지기초소
		RETURN P1020와타츠키정・대문
	CASE P1025옥토초소
		RETURN P1024옥토식당
	CASE P1030와타츠키정・목욕탕
		RETURN P1029와타츠키정・탈의실
	CASE P1031보물창고, P1032레이센방, P1033와타츠키정・빈방
		RETURN P10221층회랑
	CASE P1036정자
		RETURN P1035안뜰
	CASE P1041토요히메방, P1042요리히메방, P1043서재, P1044응접실
		RETURN P10402층회랑
	CASE P1051도레미댁・침실, P1052도레미댁・창고
		RETURN P1050도레미댁・거실
	CASE P1054도레미댁・목욕탕, P1055도레미댁・화장실
		RETURN P1053도레미댁・세면소
	CASE P1062부엌, P1063순호저택・빈방, P1064클라운피스방, P1065헛간, P1068순호저택・안뜰
		RETURN P1061거실
	CASE P1067순호저택・목욕탕
		RETURN P1066순호저택・탈의실
	CASE P1071순호방, P1072헤카티아방
		RETURN P1070옥상
ENDSELECT

;直接移動できない場合、1つ近い位置を暫定目的地に設定し直してループ
;基本的に最短で行けるコースを設定する
;現在地によってコースが変わることも考慮して対応する
SELECTCASE ARG
	CASE P1001괴안통로
		SELECTCASE 현재의위치
		CASE P1051도레미댁・침실 TO P1055도레미댁・화장실
			RETURN P1050도레미댁・거실
		CASEELSE
			RETURN P1002달의도시
		ENDSELECT
	CASE P1002달의도시
		SELECTCASE 현재의위치
		CASE P1006사구메댁・침실
			RETURN P1005사구메댁・거실
		CASE P1021와타츠키정・현관 TO P1044응접실
			RETURN P1020와타츠키정・대문
		CASE P1050도레미댁・거실 TO P1055도레미댁・화장실
			RETURN P1001괴안통로
		CASEELSE
			RETURN P1003옥토거리
		ENDSELECT
	CASE P1003옥토거리
		SELECTCASE 현재의위치
		CASE P1012주점, P1013야채가게
			RETURN P1004광장
		CASE P1015모래사장, P1016후미, P1060순호저택・현관 TO P1072헤카티아방
			RETURN P1014복숭아숲
		CASEELSE
			RETURN P1002달의도시
		ENDSELECT
	CASE P1004광장
		RETURN P1003옥토거리
	CASE P1005사구메댁・거실, P1007빈집
		RETURN P1002달의도시
	CASE P1006사구메댁・침실
		RETURN P1005사구메댁・거실
	CASE P1008링고댁, P1009세이란댁
		RETURN P1003옥토거리
	CASE P1010식사처, P1011과자처
		SELECTCASE 현재의위치
		CASE P1012주점, P1013야채가게
			RETURN P1004광장
		CASEELSE
			RETURN P1003옥토거리
		ENDSELECT
	CASE P1012주점, P1013야채가게
		RETURN P1004광장
	CASE P1014복숭아숲
		SELECTCASE 현재의위치
		CASE P1016후미, P1060순호저택・현관 TO P1072헤카티아방
			RETURN P1015모래사장
		CASEELSE
			RETURN P1003옥토거리
		ENDSELECT
	CASE P1015모래사장
		SELECTCASE 현재의위치
		CASE P1060순호저택・현관 TO P1072헤카티아방
			RETURN P1016후미
		CASEELSE
			RETURN P1014복숭아숲
		ENDSELECT
	CASE P1016후미
		SELECTCASE 현재의위치
		CASE P1060순호저택・현관 TO P1072헤카티아방
			RETURN P1060순호저택・현관
		CASEELSE
			RETURN P1015모래사장
		ENDSELECT

	CASE P1020와타츠키정・대문
		SELECTCASE 현재의위치
		CASE P1025옥토초소
			RETURN P1024옥토식당
		CASE P1021와타츠키정・현관 TO P1044응접실
			RETURN P1021와타츠키정・현관
		CASEELSE
			RETURN P1002달의도시
		ENDSELECT
	CASE P1021와타츠키정・현관
		SELECTCASE 현재의위치
		CASE P1025옥토초소
			RETURN P1024옥토식당
		CASE P1027주방
			RETURN P1028식자재창고
		CASE P1021와타츠키정・현관 TO P1044응접실
			RETURN P10221층회랑
		CASEELSE
			RETURN P1020와타츠키정・대문
		ENDSELECT
	CASE P10221층회랑
		SELECTCASE 현재의위치
		CASE P1027주방
			RETURN P1026식당
		CASE P1036정자
			RETURN P1035안뜰
		CASE P1030와타츠키정・목욕탕
			RETURN P1029와타츠키정・탈의실
		CASE P1041토요히메방 TO P1044응접실
			RETURN P10402층회랑
		CASEELSE
			RETURN P1021와타츠키정・현관
		ENDSELECT
	CASE P1023문지기초소
		RETURN P1020와타츠키정・대문
	CASE P1024옥토식당
		SELECTCASE 현재의위치
		CASE P10221층회랑, P1026식당 TO P1044응접실
			RETURN P1021와타츠키정・현관
		CASEELSE
			RETURN P1020와타츠키정・대문
		ENDSELECT
	CASE P1025옥토초소
		RETURN P1024옥토식당
	CASE P1026식당
		SELECTCASE 현재의위치
		CASE P1028식자재창고
			RETURN P1027주방
		CASEELSE
			RETURN P10221층회랑
		ENDSELECT
	CASE P1027주방
		SELECTCASE 현재의위치
		CASE P10221층회랑, P1029와타츠키정・탈의실 TO P1044응접실
			RETURN P1026식당
		CASEELSE
			RETURN P1028식자재창고
		ENDSELECT
	CASE P1028식자재창고
		SELECTCASE 현재의위치
		CASE P1026식당
			RETURN P1027주방
		CASEELSE
			RETURN P1021와타츠키정・현관
		ENDSELECT
	CASE P1029와타츠키정・탈의실, P1031보물창고, P1032레이센방, P1033와타츠키정・빈방, P1035안뜰, P10402층회랑
		RETURN P10221층회랑
	CASE P1030와타츠키정・목욕탕
		RETURN P1029와타츠키정・탈의실
	CASE P1036정자
		RETURN P1035안뜰
	CASE P1041토요히메방, P1042요리히메방, P1043서재, P1044응접실
		RETURN P10402층회랑

	CASE P1050도레미댁・거실
		SELECTCASE 현재의위치
		CASE P1054도레미댁・목욕탕, P1055도레미댁・화장실
			RETURN P1053도레미댁・세면소
		CASEELSE
			RETURN P1001괴안통로
		ENDSELECT
	CASE P1051도레미댁・침실, P1052도레미댁・창고, P1053도레미댁・세면소
		RETURN P1050도레미댁・거실
	CASE P1054도레미댁・목욕탕, P1055도레미댁・화장실
		RETURN P1053도레미댁・세면소

	CASE P1060순호저택・현관
		SELECTCASE 현재의위치
		CASE P1060순호저택・현관 TO P1072헤카티아방
			RETURN P1061거실
		CASEELSE
			RETURN P1016후미
		ENDSELECT
	CASE P1061거실
		SELECTCASE 현재의위치
		CASE P1067순호저택・목욕탕
			RETURN P1066순호저택・탈의실
		CASE P1071순호방 TO P1072헤카티아방
			RETURN P1070옥상
		CASEELSE
			RETURN P1060순호저택・현관
		ENDSELECT
	CASE P1062부엌, P1063순호저택・빈방, P1064클라운피스방, P1065헛간, P1066순호저택・탈의실, P1068순호저택・안뜰, P1070옥상
		RETURN P1061거실
	CASE P1067순호저택・목욕탕
		RETURN P1066순호저택・탈의실
	CASE P1071순호방, P1072헤카티아방
		RETURN P1070옥상
ENDSELECT