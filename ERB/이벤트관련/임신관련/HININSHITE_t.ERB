@HININSHITE(ARG)

IF ESTRUS_CYCLE(ARG) == 150
	LOCALS = 위험일
ELSEIF ESTRUS_CYCLE(ARG) != 15
	LOCALS = 안전한 날이 아니다
ENDIF

IF TALENT:ARG:153
	;PRINTL Feed
	IF CFLAG:ARG:임신경과일수 <= 15||CFLAG:ARG:손님아이임신경과 <= 15
		PRINTFORML %CALLNAME:ARG%는 아직 몸이 불안해서 안정기까지 기다렸으면 좋겠다고 말하면서 삽입을 거절했다.
		TFLAG:16 = 1
	ELSEIF CFLAG:ARG:임신경과일수 >= 36||CFLAG:ARG:손님아이임신경과 >=36
		PRINTFORML %CALLNAME:ARG%는 출산이 가까운 시일내에 되었으므로 출산까지 기다렸으면 좋겠다고 말하면서 삽입을 거절했다.
		TFLAG:16 = 1
	ENDIF
	RETURN 0
ENDIF
;WAIT

IF CFLAG:ARG:육아인원수 >= 1 && CFLAG:ARG:육아인원수 <= 3
	PRINTFORML %CALLNAME:ARG%는 더 이상의 아이를 동시에 기르는 것은 아무래도 무리라며
	PRINTFORML 확실하게 피임해주었으면 한다고 말해 왔다…
ELSE
	PRINTFORML %CALLNAME:ARG%는 오늘은 %LOCALS%가 나오면 와 피임 해 주었으면 한다고 말해 왔다…
ENDIF

IF CFLAG:ARG:생해금 < 2
	CALL KOJO_MESSAGE_SEND("EVENT", 18, TARGET, 1,0)
ELSE
	CALL KOJO_MESSAGE_SEND("EVENT", 31, TARGET, 0,0)
ENDIF

WAIT
PRINTFORML [1] 콘돔을 붙인다(나머지 {ITEM:45}장)
PRINTFORML [2] 피임약을 건네준다(나머지 {ITEM:49}정)
SIF !TCVAR:간절히원함 && !CFLAG:ARG:육아인원수
PRINTL [3] 생으로 하게 해주세요 제발요
SIF (TEQUIP:TARGET:밧줄 || TEQUIP:TARGET:구속) && !CFLAG:ARG:육아인원수
PRINTL [4] 좋아 임신만은 절대 해 받는다
SIF CFLAG:ARG:육아인원수 && CFLAG:ARG:육아중해금 == 0
PRINTL [5] 정말로 피임해주었으면 할까 물어본다

PRINTL [0] 포기한다
$LOOP
INPUT
IF RESULT == 1
	IF !ITEM:45
		PRINTL 콘돔이 없다
		GOTO LOOP
	ELSE
		ITEM:45 -= 1
		PRINTL 콘돔을 씌웠다
		TEQUIP:MASTER:콘돔 = 1
	ENDIF
ELSEIF RESULT == 2
	IF !ITEM:49
		PRINTL 피임약이 없다
		GOTO LOOP
	ELSE
		ITEM:49 -= 1
		TCVAR:ARG:피임약 = 1
		PRINTFORML %CALLNAME:ARG%에 피임약을 먹였다 
	ENDIF
ELSEIF RESULT == 3 && !CFLAG:ARG:육아인원수
	TCVAR:ARG:간절히원함 = 1
	CALL OGAMITAOSHI(ARG)
ELSEIF RESULT == 4 && !CFLAG:ARG:육아인원수
	TCVAR:ARG:억지로 = 1
ELSEIF RESULT == 5 && CFLAG:ARG:육아인원수
	CALL NAMA_POISONING(ARG)
ELSE
	TFLAG:16 = 3
	TFLAG:17 = ARG
ENDIF
RETURN 0

@妊娠可否(ARG)
#FUNCTION
SIF TEQUIP:PLAYER:콘돔 || TCVAR:ARG:피임약
	RETURNF 0
SIF TALENT:ARG:유치 && !TALENT:ARG:초경
	RETURNF 0
SIF TALENT:ARG:비생물 || TALENT:ARG:봉래인 || TALENT:ARG:임신
	RETURNF 0
RETURNF 1

@피임요구(ARG)
IF 임신가부(ARG) && TALENT:MASTER:2 & 2 && !TFLAG:16 && !TALENT:ARG:무지 && !TCVAR:ARG:억지로 && !TCVAR:ARG:만취
	IF !CFLAG:ARG:생해금 && ESTRUS_CYCLE(ARG) != 15
		CALL HININSHITE(ARG)
	ELSEIF CFLAG:ARG:생해금 < 2 && ESTRUS_CYCLE(ARG) == 150
		CALL HININSHITE(ARG)
	ELSEIF TALENT:ARG:육아중 && CFLAG:ARG:출산경과일 <= 50 && !TFLAG:16 && ESTRUS_CYCLE(TARGET) != 15 && !CFLAG:ARG:육아중해금
		CALL HININSHITE(ARG)
	ENDIF
ENDIF

@임신가부(ARG)
#FUNCTION
SIF TEQUIP:PLAYER:콘돔 || TCVAR:ARG:피임약
	RETURNF 0
SIF TALENT:ARG:유치 && !TALENT:ARG:초경
	RETURNF 0
SIF TALENT:ARG:임신
	RETURNF 0
IF TALENT:ARG:비생물 || TALENT:ARG:봉래인
	SIF !TALENT:MASTER:만능잉태
		RETURNF 0
ENDIF
RETURNF 1