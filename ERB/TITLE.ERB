;rev로부터 꿀꺽

@SYSTEM_TITLE
LOADGLOBAL
RESULT = GLOBAL
SAVEGLOBAL
LOADGLOBAL
RESETBGCOLOR
;-KR- BGM_PATCH 대응
;=========== BGM_PATCH 수정지점 ===============
TRYCCALL IS_BGM_PATCH()
	CLEARMEMORY
CATCH
ENDCATCH
;=============================================
IF GAMEBASE_VERSION == 0
	WINDOW_TITLE = %GAMEBASE_TITLE% %eraTW_Version% with 텍붕이
ELSEIF GAMEBASE_VERSION < 0
	WINDOW_TITLE = %GAMEBASE_TITLE% 0.00
ENDIF
CLEARLINE 1
RESULT  = 1
LOCAL:2 = LINECOUNT
CALL COMPOSE_SPRITE
;-KR- BGM_PATCH 대응
;=========== BGM_PATCH 수정지점 ===============
TRYCCALL IS_BGM_PATCH()
	TRYCALLF RandomSong
CATCH
ENDCATCH
;=============================================
TRYCCALLFORM SHOP파일오염검사()
CATCH
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTL
	PRINTFORML SHOP_t.ERB 파일이 오염되어 실행시 오류가 발생합니다!
	THROW 인위적으로 삽입된 패치를 삭제해 주십시오!
ENDCATCH
IF RESULT != 69745882
	SETCOLOR C_RED
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTFORML WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!WARNING!
	PRINTL
	PRINTFORML SHOP_t.ERB 파일이 오염되어 실행시 오류가 발생합니다!
	RESETCOLOR
	THROW 인위적으로 삽입된 패치를 삭제해 주십시오!
ENDIF
$TITLE_SELECT
DO
	REDRAW 0
	CLEARLINE LINECOUNT - LOCAL:2
	FOR LOCAL:0, 0, 35
		HTML_PRINT "<p align='center'><img src='TW_title" + TOSTR(LOCAL:0, "000") + "'></p>"
	NEXT
	;-KR- BGM_PATCH 대응
	;=========== BGM_PATCH 수정지점 ===============
	TRYCCALL IS_BGM_PATCH()
		SETBGMVOLUME BGMVOLUME
		SETSOUNDVOLUME SOUNDVOLUME
	CATCH
	ENDCATCH
	;=============================================
	ALIGNMENT CENTER
	CUSTOMDRAWLINE ━
	PRINTFORML %GAMEBASE_TITLE% + 텍붕이 모드
	PRINTFORML \@ GAMEBASE_VERSION <= 0 ? %eraTW_Version% # %TOSTR(GAMEBASE_VERSION,"0,.###")% \@
	PRINTFORML %GAMEBASE_YEAR%
;		CALL HTMLPRINTL(@"%HTMLFONT(@"<b>%HTMLSTYLE(@"%GAMEBASE_TITLE%", 2)%</b>", "Courier New", )%")
;		CALL HTMLPRINTL(@"%HTMLFONT(@"<b>%eraTW_Version%</b>", "Courier New")%")
;		CALL HTMLPRINTL(@"%HTMLFONT(@"<b>(%GAMEBASE_YEAR%)</b>", "Courier New")%")
	PRINTL
	PRINTFORML %GAMEBASE_INFO%
	;PRINTFORML Updated by %GAMEBASE_AUTHOR%
	;-KR- BGM_PATCH 대응
	;=========== BGM_PATCH 수정지점 ===============
	TRYCCALL IS_BGM_PATCH()
		PRINTL 
		PRINTFORML BGM. %STR:PlayingBGM%
		PRINTL 
	CATCH
	ENDCATCH
	;=============================================
	CUSTOMDRAWLINE ━
	PRINTFORML [0] 시작하기
	PRINTFORML [1] 불러오기
	;-KR- BGM_PATCH 대응
	;=========== BGM_PATCH 수정지점 ===============
	TRYCCALL IS_BGM_PATCH()
		PRINTFORM  %@"BGM: {BGMVOLUME}\% ", 10,LEFT% 
		PRINTBUTTON "-", 1010
		PRINTBUTTON "+ ", 1011
		CALL PRINT_COLORBAR, BGMVOLUME,100, 20, UNICODE(0x25AE), UNICODE(0x25AE), 0x6de1ff, 0x00415f
		PRINTL
	CATCH
	ENDCATCH
	;=============================================
	ALIGNMENT LEFT
	REDRAW 1
	;-KR- BGM_PATCH 대응
	;=========== BGM_PATCH 수정지점 ===============
	TRYCCALL IS_BGM_PATCH()
		INPUT
		CUSTOMDRAWLINE ━
		SELECTCASE RESULT
			CASE 0
				RESETDATA
				ADDCHARA 0
				BEGIN FIRST
			CASE 1
				;LOADGAME
				;KR판 추가수정, 로드용 커스텀 함수
				CALL LOAD_SAVE(0,1)
				GOTO TITLE_SELECT
			CASE 1000
				SOUNDVOLUME = LIMIT(SOUNDVOLUME-10,0,100)
				SAVEGLOBAL
			CASE 1001
				SOUNDVOLUME = LIMIT(SOUNDVOLUME+10,0,100)
				SAVEGLOBAL
			CASE 1010
				BGMVOLUME = LIMIT(BGMVOLUME-10,0,100)
				SAVEGLOBAL
			CASE 1011
				BGMVOLUME = LIMIT(BGMVOLUME+10,0,100)
				SAVEGLOBAL
		ENDSELECT
	CATCH
	;=============================================
	INPUT
	CUSTOMDRAWLINE ━
	SELECTCASE RESULT
		CASE 0
			RESETDATA
			ADDCHARA 0
			BEGIN FIRST
		CASE 1
			;LOADGAME
			;KR판 추가수정, 로드용 커스텀 함수
			CALL LOAD_SAVE(0,1)
			GOTO TITLE_SELECT
	ENDSELECT
	;-KR- BGM_PATCH 대응
	;=========== BGM_PATCH 수정지점 ===============
	ENDCATCH
	;=============================================

LOOP RESULT

