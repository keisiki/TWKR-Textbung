

@COMPOSE_SPRITE
CALL COMPOSE_SPRITE_55
CALL COMPOSE_SPRITE_62
CALL COMPOSE_SPRITE_63
CALL COMPOSE_SPRITE_PRESET([[신키]])
CALL COMPOSE_SPRITE_PRESET([[코스즈]])
CALL COMPOSE_SPRITE_PRESET([[란]])
CALL COMPOSE_SPRITE_PRESET([[레티]])
CALL COMPOSE_SPRITE_PRESET([[토요히메]])
{
CALL COMPOSE_SPRITE_PRESET([[츠카사]],"別顔_裸_/別顔_服_/別顔_服_バニー_",
"通常/笑顔/怒り/発情/トロ顔/イキ顔/半目/悪い顔")
}

@COMPOSE_SPRITE_63
#DIM G_ID
#DIM TEMP
#DIM 素体COUNT
#DIM 表情COUNT
{
#DIMS 表情 = "通常", "笑顔", "怒り", "ブチギレ", "微笑", "デレデレ", "ウィンク", "誘惑","発情","発情2",
"オナニー","発情3", "トロ顔", "トロ笑い", "絶頂", "幸せックス","性交", 
}
;リソースの命名規則を代入
{
#DIMS 素体 = 
"別顔_裸_", 
"別顔_服_", 
"別顔_服_下着A_",
"別顔_服_下着B_",
"別顔_服_白ワンピ_",
"別顔_服_バニー_",
"別顔_服_冬服_"
}
;仮素体のレイヤー合成順を代入
{
#DIMS PAT = 
"00", "裸ベース", "99", 
"00", "裸ベース", "いつもの服", "99", 
"00", "裸ベース", "スポブラ", "99", 
"00", "裸ベース", "ゴージャス下着", "99", 
"00", "裸ベース", "サマーセット", "99", 
"00", "裸ベース", "バニースーツ", "99", 
"00", "裸ベース", "リブニット", "99", 
"END"
}
;#DIMS エフェクト = 

;もう作ってある/リソース未導入なら帰る
SIF SPRITECREATED("別顔_裸_通常_63") || !SPRITECREATED("63別顔_裸ベース")
	RETURN
;立ち絵素体ベース生成
;もっと増やしたい
COUNT = 0
WHILE PAT:COUNT != "END"
IF PAT:COUNT == "00"
	G_ID = 0
	CALL 画像合成(G_ID, "ダミー", 0, 0, 180, 180)
	COUNT ++
	CONTINUE
ENDIF
IF PAT:COUNT == "99"
	SPRITECREATE @"63別顔_素体%素体:TEMP%", G_ID
	COUNT ++
	TEMP ++
	CONTINUE
ENDIF
CALL 画像合成(G_ID, @"63別顔_%PAT:COUNT%")
COUNT ++
WEND
;立ち絵画像合成
FOR 素体COUNT, 0, 7
	FOR 表情COUNT, 0, 17
		G_ID = 0
		CALL 画像合成(G_ID, @"63別顔_素体%素体:素体COUNT%")
		CALL 画像合成(G_ID, @"63別顔_表情%表情:表情COUNT%")
		SPRITECREATE @"%素体:素体COUNT%%表情:表情COUNT%_63", G_ID
		;DEBUGPRINTFORML 完成 %素体:素体COUNT%%表情:表情COUNT%_63
		;CALL PRINT_FACE, [[影狼]], @"%表情:表情COUNT%", @"%素体:素体COUNT%", "", ""
	NEXT
NEXT


@COMPOSE_SPRITE_62
#DIM G_ID
#DIM TEMP
#DIM 素体COUNT
#DIM 表情COUNT
#DIMS 表情 = "睡眠", "眯笑", "通常", "不悦", "貘笑", "笑顔", "微开口", "快感缓", "开口", "快感急", "怒1", "怒2", "怒り", "怒3", "怒4"
{
#DIMS 素体 = 
"別立ち_裸_", 
"別立ち_巨乳裸_", 
"別立ち_爆乳裸_", 
"別立ち_妊娠裸_", 
"別立ち_妊娠巨乳裸_", 
"別立ち_妊娠爆乳裸_",
"別立ち_扶她裸_", 
"別立ち_扶她巨乳裸_", 
"別立ち_扶她爆乳裸_", 
"別立ち_扶她妊娠裸_", 
"別立ち_扶她妊娠巨乳裸_", 
"別立ち_扶她妊娠爆乳裸_", 

"別立ち_服_胸罩_", 
"別立ち_巨乳服_胸罩_", 
"別立ち_爆乳服_胸罩_", 
"別立ち_妊娠服_胸罩_", 
"別立ち_妊娠巨乳服_胸罩_", 
"別立ち_妊娠爆乳服_胸罩_",
"別立ち_扶她服_胸罩_", 
"別立ち_扶她巨乳服_胸罩_", 
"別立ち_扶她爆乳服_胸罩_", 
"別立ち_扶她妊娠服_胸罩_", 
"別立ち_扶她妊娠巨乳服_胸罩_", 
"別立ち_扶她妊娠爆乳服_胸罩_", 

"別立ち_服_下着_", 
"別立ち_巨乳服_下着_", 
"別立ち_爆乳服_下着_", 
"別立ち_妊娠服_下着_", 
"別立ち_妊娠巨乳服_下着_", 
"別立ち_妊娠爆乳服_下着_",
"別立ち_扶她服_下着_", 
"別立ち_扶她巨乳服_下着_", 
"別立ち_扶她爆乳服_下着_", 
"別立ち_扶她妊娠服_下着_", 
"別立ち_扶她妊娠巨乳服_下着_", 
"別立ち_扶她妊娠爆乳服_下着_", 

"別立ち_服_", 
"別立ち_巨乳服_", 
"別立ち_爆乳服_", 
"別立ち_妊娠服_", 
"別立ち_妊娠巨乳服_", 
"別立ち_妊娠爆乳服_"
}
{
#DIMS PAT = 
"00", "裸基础", "99", 
"00", "裸基础", "裸巨乳", "99", 
"00", "裸基础", "裸爆乳", "99", 
"00", "裸基础", "裸妊腹", "99", 
"00", "裸基础", "裸巨乳", "裸妊腹", "99", 
"00", "裸基础", "裸爆乳", "裸妊腹", "99", 
"00", "裸基础", "裸丁日", "99", 
"00", "裸基础", "裸巨乳", "裸丁日", "99", 
"00", "裸基础", "裸爆乳", "裸丁日", "99", 
"00", "裸基础", "裸妊腹", "裸丁日", "99", 
"00", "裸基础", "裸巨乳", "裸妊腹", "裸丁日", "99", 
"00", "裸基础", "裸爆乳", "裸妊腹", "裸丁日", "99", 

"00", "裸基础", "胸罩贫", "99", 
"00", "裸基础", "裸巨乳", "胸罩巨", "99", 
"00", "裸基础", "裸爆乳", "胸罩爆", "99", 
"00", "裸基础", "裸妊腹", "胸罩贫", "99", 
"00", "裸基础", "裸巨乳", "裸妊腹", "胸罩巨", "99", 
"00", "裸基础", "裸爆乳", "裸妊腹", "胸罩爆", "99", 
"00", "裸基础", "裸丁日", "胸罩贫", "99", 
"00", "裸基础", "裸巨乳", "裸丁日", "胸罩巨", "99", 
"00", "裸基础", "裸爆乳", "裸丁日", "胸罩爆", "99", 
"00", "裸基础", "裸妊腹", "裸丁日", "胸罩贫", "99", 
"00", "裸基础", "裸巨乳", "裸妊腹", "裸丁日", "胸罩巨", "99", 
"00", "裸基础", "裸爆乳", "裸妊腹", "裸丁日", "胸罩爆", "99", 

"00", "裸基础", "胸罩贫", "内裤普", "99", 
"00", "裸基础", "裸巨乳", "胸罩巨", "内裤普", "99", 
"00", "裸基础", "裸爆乳", "胸罩爆", "内裤普", "99", 
"00", "裸基础", "裸妊腹", "胸罩贫", "内裤妊", "99", 
"00", "裸基础", "裸巨乳", "裸妊腹", "胸罩巨", "内裤妊", "99", 
"00", "裸基础", "裸爆乳", "裸妊腹", "胸罩爆", "内裤妊", "99", 
"00", "裸基础", "裸丁日", "胸罩贫", "内裤普", "99", 
"00", "裸基础", "裸巨乳", "裸丁日", "胸罩巨", "内裤普", "99", 
"00", "裸基础", "裸爆乳", "裸丁日", "胸罩爆", "内裤普", "99", 
"00", "裸基础", "裸妊腹", "裸丁日", "胸罩贫", "内裤妊", "99", 
"00", "裸基础", "裸巨乳", "裸妊腹", "裸丁日", "胸罩巨", "内裤妊", "99", 
"00", "裸基础", "裸爆乳", "裸妊腹", "裸丁日", "胸罩爆", "内裤妊", "99", 

"00", "裸基础", "外衣贫", "99", 
"00", "裸基础", "外衣贫", "外衣巨", "99", 
"00", "裸基础", "外衣贫", "外衣爆", "99", 
"00", "裸基础", "外衣贫", "外衣妊", "99", 
"00", "裸基础", "外衣贫", "外衣巨", "外衣妊", "99", 
"00", "裸基础", "外衣贫", "外衣爆", "外衣妊", "99", 

"END"
}
#DIMS 效果 = "先走汁", "精渍裸", "精渍内衣", "精渍扶她内衣", "精渍外衣", "鼻红晕", "腮红", "线状红晕", "眼泪", "眼中爱心", "吐息", "断面图内射", "断面图怀孕内射", "断面图储精罐", "断面图怀孕", "断面图安定期", "断面图安定期储精罐", "气泡睡眠", "气泡愤怒", "气泡羞涩", "气泡愉悦", "气泡沉默", "气泡疑惑", "气泡不悦", "气泡欲求"

;もう作ってある/リソース未導入なら帰る
SIF SPRITECREATED("別立ち_裸_通常_62") || !SPRITECREATED("62別立_裸基础")
	RETURN

;立ち絵素体ベース/胎内透視・断面図・照れ系エフェクト生成
COUNT = 0
WHILE PAT:COUNT != "END"
IF PAT:COUNT == "00"
	G_ID = 0
	CALL 画像合成(G_ID, "ダミー", 0, 0, 300, 300)
	COUNT ++
	CONTINUE
ENDIF
IF PAT:COUNT == "99"
	SPRITECREATE @"62別立_素体%素体:TEMP%", G_ID
	COUNT ++
	TEMP ++
	CONTINUE
ENDIF
CALL 画像合成(G_ID, @"62別立_%PAT:COUNT%")
COUNT ++
WEND

;立ち絵画像合成
FOR 素体COUNT, 0, 42
	FOR 表情COUNT, 0, 15
		G_ID = 0
		CALL 画像合成(G_ID, @"62別立_素体%素体:素体COUNT%")
		CALL 画像合成(G_ID, @"62別立_表情%表情:表情COUNT%")
		SPRITECREATE @"%素体:素体COUNT%%表情:表情COUNT%_62", G_ID
		;DEBUGPRINTFORML 完成 %素体:素体COUNT%%表情:表情COUNT%_62
	NEXT
NEXT

;效果生成（直接使用会因为offset和图片size的原因产生畸变）
TEMP = 0
FOR TEMP, 0, 25
	G_ID = 0
	CALL 画像合成(G_ID, "ダミー", 0, 0, 300, 300)
	CALL 画像合成(G_ID, @"62別立_%效果:TEMP%")
	SPRITECREATE @"別立ち_%效果:TEMP%_62", G_ID
NEXT


@COMPOSE_SPRITE_55
#DIM G_ID
#DIM TEMP
#DIM 素体COUNT
#DIM 表情COUNT
#DIMS TEMP_NAME
#DIMS 表情 = "通常", "笑顔", "怒り", "発情", "絶頂", "驚き", "睡眠"
{
#DIMS 素体 = "別立ち_裸_", "別立ち_服_", "別立ち_服_下着_", "別立ち_爆乳裸_", "別立ち_爆乳服_", "別立ち_爆乳服_下着_", "別立ち_妊娠裸_", "別立ち_妊娠服_", "別立ち_妊娠服_下着_", "別立ち_爆乳妊娠裸_", "別立ち_爆乳妊娠服_", "別立ち_爆乳妊娠服_下着_",
			 "別立ち_裸_", "別立ち_服_", "別立ち_服_下着_", "別立ち_爆乳裸_", "別立ち_爆乳服_", "別立ち_爆乳服_下着_", "別立ち_妊娠裸_", "別立ち_妊娠服_", "別立ち_妊娠服_下着_", "別立ち_爆乳妊娠裸_", "別立ち_爆乳妊娠服_", "別立ち_爆乳妊娠服_下着_",
			 "55_中出し0", "55_中出し1", "55_中出し2", "55_中出し3", "55_中出し4",
			 "55_挿入0", "55_挿入1", "55_挿入2", "55_挿入3", "55_挿入4",
			 "別立ち_胎内0_55", "別立ち_胎内1_55", "別立ち_胎内2_55", "別立ち_胎内3_55", "別立ち_胎内4_55", "別立ち_胎内5_55", "別立ち_胎内6_55", "別立ち_テレテレ_55", "別立ち_照れ_55"
}
{
#DIMS PAT = "00", "A1", "99", "00", "A1", "B1", "99", "00", "A1", "C1", "D1", "99", "00", "A1", "E1", "99", "00", "A1", "B1", "H1", "99", "00", "A1", "L1", "D1", "99", "00", "A1", "F1", "99", "00", "A1", "B1", "I1", "99", "00", "A1", "D1", "F1", "C1", "99", "00", "A1", "E1", "F1", "G1", "99", "00", "A1", "B1", "H1", "I1", "J1", "99", "00", "A1", "D1", "F1", "L1", "M1", "99",
			"00", "A2", "99", "00", "A2", "B2", "99", "00", "A2", "C2", "D1", "99", "00", "A2", "E2", "99", "00", "A2", "B2", "J2", "99", "00", "A2", "L2", "D1", "99", "00", "A2", "F1", "F2", "99", "00", "A2", "B2", "I1", "I2", "99", "00", "A2", "D1", "F1", "F2", "K2", "99", "00", "A2", "F1", "F2", "G2", "99", "00", "A2", "B2", "I1", "I2", "J2", "99", "00", "A2", "D1", "F1", "F2", "M2", "99",
			"00", "A19", "B20", "99", "00", "A19", "C20", "99", "00", "A19", "D20", "99", "00", "A19", "E20", "99", "00", "A19", "F20", "99", 
			"00", "A19", "B21", "C21", "99", "00", "A19", "B21", "C21", "D21", "99", "00", "A19", "B21", "C21", "E21", "99", "00", "A19", "B21", "C21", "F21", "99", "00", "A19", "B21", "C21", "F21", "99",
			"00", "A19", "B19", "C19", "99", "00", "A19", "D19", "99", "00", "A19", "E19", "99", "00", "A19", "F19", "99", "00", "A19", "G19", "99", "00", "A19", "H19", "99", "00", "A19", "I19", "99", "00", "I3", "K3", "99", "00", "J3", "99", "END"
}
;もう作ってある/リソース未導入なら帰る
SIF SPRITECREATED("別立ち_裸_通常_55") || !SPRITECREATED("55_A1")
	RETURN
	
;立ち絵素体ベース/胎内透視・断面図・照れ系エフェクト生成
WHILE PAT:COUNT != "END"
IF PAT:COUNT == "00"
	G_ID = 0
	CALL 画像合成(G_ID, "ダミー")
	COUNT ++
	CONTINUE
ENDIF
IF PAT:COUNT == "99"
	SIF TEMP < 24
		TEMP_NAME = %\@ TEMP < 12 ? 1 # 2 \@% 
	SPRITECREATE @"%素体:TEMP%%TEMP_NAME%", G_ID
	COUNT ++
	TEMP ++
	TEMP_NAME = 
	CONTINUE
ENDIF
CALL 画像合成(G_ID, @"55_%PAT:COUNT%")
COUNT ++
WEND

;立ち絵画像合成
FOR 素体COUNT, 0, 12
	FOR 表情COUNT, 0, 7
		G_ID = 0
		CALL 画像合成(G_ID, @"%素体:素体COUNT%%\@ RAND:2 ? 1 # 2 \@%")
		CALL 画像合成(G_ID, @"55_%UNICODE(0X0042 + 表情COUNT)%3")
		SPRITECREATE @"%素体:素体COUNT%%表情:表情COUNT%_55", G_ID
		;DEBUGPRINTFORML 完成 %素体:素体COUNT%%表情:表情COUNT%_55
	NEXT
NEXT

;手っ取り早く別顔をつくるための関数
@COMPOSE_SPRITE_PRESET(C_ID, BODY, EXPRESSION)
#DIM C_ID
#DIM G_ID
#DIM TEMP
#DIM 素体COUNT
#DIM 表情COUNT
#DIMS 表情,15
#DIMS EXPRESSION
#DIMS 素体,10
#DIMS BODY

SIF BODY == ""
	BODY = 別顔_裸_/別顔_服_
SPLIT BODY, "/", 素体

SIF EXPRESSION == ""
	EXPRESSION = 通常/笑顔/怒り/発情/トロ顔/イキ顔
SPLIT EXPRESSION, "/", 表情

;もう作ってある/リソース未導入なら帰る
SIF SPRITECREATED(@"%素体:0%笑顔_%TOSTR(C_ID)%")
	RETURN

;立ち絵画像合成
FOR 素体COUNT, 0, 10
	SIF 素体:素体COUNT == ""
		BREAK
	FOR 表情COUNT, 1, 15
		SIF 表情:表情COUNT == ""
			BREAK
		G_ID = 0
		CALL 画像合成(G_ID, "ダミー", 0, 0, 180, 180)
		CALL 画像合成(G_ID, @"%素体:素体COUNT%通常_%TOSTR(C_ID)%")
		CALL 画像合成(G_ID, @"%TOSTR(C_ID)%別顔_表情%表情:表情COUNT%")
		SPRITECREATE @"%素体:素体COUNT%%表情:表情COUNT%_%TOSTR(C_ID)%", G_ID
	NEXT
NEXT
