;-------------------------------------------------
;도구를산다
;-------------------------------------------------
@COM423
;TFLAG:194 = 1
;;PRINTFORML {ITEMSALES:62}
;CALL ITEM_SALES
;DRAWLINE
;CALL LIST_ITEM("캇파 도구")
;DRAWLINE
;PRINTL 「지금이라면 싸게 해 두어」
;PRINTFORML 구입할 아이템을 선택해주세요 소지금 :\\%TOSTR(MONEY,"#,###")%
;;CALL TOOL_BUY
;CALL SHOW_ITEM, "캇파 도구", 3
;PRINTL
;DRAWLINE
;PRINT [100] - 돌아간다　　　　　[101] - 도구의 개조　[102] - 도구의 개발
;INPUT
;LOCAL = RESULT
;SELECTCASE LOCAL
;CASE 100
;	RETURN -1
;CASE 101
;	CALL TOOL_CUSTOM
;	SIF RESULT
;		RETURN RESULT
;CASE 102
;	PRINTL 「개발하려면 git이 필요하다」
;	PRINTW git란 도대체…
;	RETURN -1
;CASEELSE
;	SELECTCASE ITEMSTOCK(LOCAL)
;	CASE 1, 4
;		RETURN -1
;	CASE 2
;		PRINTW 품절입니다
;		RETURN -1
;	CASE 3
;		PRINTW 소지금이 충분하지 않습니다
;		RETURN -1
;	CASE 5
;		PRINTW 이미 충분히 가지고 있습니다
;		RETURN -1
;	CASEELSE
;		SIF !INRANGE(LOCAL, 0, 100)
;			RETURN -1
;	ENDSELECT
;	PRINTFORML %조사처리(ITEMNAME:LOCAL,"를")% 구입하겠습니까?
;	PRINTL [0] - 네  [1] - 아니오
;	INPUT
;	SIF RESULT
;		RETURN -1
;	ITEM:LOCAL ++
;	SELECTCASE ITEMSALES:LOCAL
;	CASE IS > 1
;		ITEMSALES:LOCAL --
;	CASE 1
;		ITEMSALES:LOCAL = -1
;	ENDSELECT
;	MONEY -= ITEMPRICE:LOCAL / 3
;ENDSELECT
;RESTART


;도구를산다
@COM_ABLE423
;일단 정지
RETURN 0
;정지 중에는 불가
SIF FLAG:70 == 1
	RETURN 0
;이동 실행 판정
SIF !TFLAG:100
	RETURN 0
;일괄관리
SIF GLOBAL_COMABLE(423)
	RETURN RESULT
;니토리가 있는 곳
SIF TARGET != 51
	RETURN 0
SIF CFLAG:우후후 == 2
	RETURN 0
RETURN 1
