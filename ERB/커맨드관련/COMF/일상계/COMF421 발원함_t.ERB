;-------------------------------------------------
;발원함
;일상계 커맨드, 레벨 1
;-------------------------------------------------
@COM421
#DIM 감도상승캐릭
PRINTL 무엇을 바랍니까?
$INPUT_LOOP
PRINTL [0] - 결연(\5000)
SIF TALENT:MASTER:2 & 2
PRINTL [1] - 정력 절륜(\10000)
PRINTL [2] - 마음의 평안(\10000)
PRINTL [3] - 젖가슴 젖가슴(\10000)
PRINTL [10] - 여자 아이의 팬티를 주세요-!(\50000)
PRINTL [15] - 모두가 야한 기분이 들길(\100000)
SIF TARGET && ABL:새드끼 >= 3
	PRINTFORML [16] - \@ TALENT:연인?  환상향에서 제일 귀여운# \@%타겟이% 너무 격렬하므로 어떻게든 해
SIF TARGET
	PRINTFORML [20] - \@ TALENT:연인?  환상향에서 제일 귀여운# \@%타겟이% 좀 더 야하게 되도록
SIF TALENT:TARGET:연모 && !TALENT:임신
	PRINTFORML [21] - 자식기원(현재의 자식보정:{CFLAG:자식보정})
	
PRINTFORML [22] - 연인의 감도를 올리고 싶어
PRINTFORML [30] - 여자 아이에게 미움받아 버린 것을 어떻게든 하고 싶다
PRINTFORML [31] - 여자 아이에게 약점잡혀 버린 것을 어떻게든 하고 싶다
SIF CFLAG:MASTER:마력회수 && CFLAG:MASTER:요술망치 < 6
	PRINTFORML [40] - 요술망치의 대상을 없애면 좋겠다
SIF FLAG:개운대문구입회수 > 10
	PRINTFORML [50] - 악덕 상인에게 천벌을
PRINTL [999] - 역시 그만둔다
INPUT
SIF RESULT == 999
	RETURN -1

IF RESULT == 0
	IF MONEY < 5000
		PRINTL 돈이 부족하다
		GOTO INPUT_LOOP
	ENDIF
	PRINTL 누구를 떠올립니까?
	CALL SHOW_CHALALIST
	PRINTL [999] - 역시 그만둔다
	INPUT
	IF !INRANGE(RESULT, 1, CHARANUM)
		RETURN -1
	ELSE
		CALL GANKAKE_0(RESULT)
		MONEY -= 5000
	ENDIF
;정력 절륜
ELSEIF RESULT == 1
	IF MONEY < 10000
		PRINTL 돈이 부족하다
		GOTO INPUT_LOOP
	ENDIF
	MONEY -= 10000
	FLAG:발원내용 = 200
	IF EXP:MASTER:11 > (100 + FLAG:561 * 100) && FLAG:561 < 11
		LOCAL += 100
		FLAG:561 += 1
	ENDIF
	CALL BUFF_BASE(MASTER, BASE_정력, 500)
	FLAG:71 ++
;마음의 평안
ELSEIF RESULT == 2
	IF MONEY < 10000
		PRINTL 돈이 부족하다
		GOTO INPUT_LOOP
	ENDIF
	MONEY -= 10000
	CALL BUFF_BASE(MASTER, BASE_기력, 500)
	FLAG:발원내용 = 201
	FLAG:71 = 0
ELSEIF RESULT == 3
	IF MONEY < 10000
		PRINTL 돈이 부족하다
		GOTO INPUT_LOOP
	ENDIF
	MONEY -= 10000
	PRINTFORML %마스터는% 손을 모으면서 집중해서 젖가슴을 생각했다
	TFLAG:OPPAI = 1
ELSEIF RESULT == 10
	IF MONEY < 50000
		PRINTL 돈이 부족하다
		GOTO INPUT_LOOP
	ELSE
		MONEY -= 50000
		FLAG:발원내용 = 202
	ENDIF
ELSEIF RESULT == 15
	IF MONEY < 100000
		PRINTL 돈이 부족하다
		GOTO INPUT_LOOP
	ELSE
		MONEY -= 100000
		FLAG:발원내용 = 203
	ENDIF
ELSEIF RESULT == 16 && ABL:새드끼
		CALL IKENIE(TARGET, 7)
ELSEIF RESULT == 20 && TARGET != 0
		CALL IKENIE(TARGET, 2)
ELSEIF RESULT == 21 && TALENT:TARGET:연모
		CALL IKENIE(TARGET, 6)

;;
ELSEIF RESULT == 22
	PRINTL 누구를?
	DRAWLINE
	FOR LOCAL, 1, CHARANUM
		SIF TALENT:LOCAL:연인 && !CFLAG:LOCAL:출금
			PRINTFORMLC [{LOCAL}] %CALLNAME:LOCAL, 15, LEFT%
	NEXT
	PRINTL 
	DRAWLINE
	PRINTL [999] - 역시 그만둔다
	INPUT
	IF RESULT >= 1 && RESULT <= CHARANUM && TALENT:RESULT:연인
		감도상승캐릭=RESULT
		$INPUT_LOOP2
		PRINTFORML [1] - C감도 \@TALENT:감도상승캐릭:C감도?  - [%GET_TALENTNAME(101, TALENT:감도상승캐릭:C감도)%]  # \@   
		PRINTFORML [2] - V감도 \@TALENT:감도상승캐릭:V감도?  - [%GET_TALENTNAME(102, TALENT:감도상승캐릭:V감도)%]  # \@   	
		PRINTFORML [3] - A감도 \@TALENT:감도상승캐릭:A감도?  - [%GET_TALENTNAME(103, TALENT:감도상승캐릭:A감도)%]  # \@   
		PRINTFORML [4] - B감도 \@TALENT:감도상승캐릭:B감도?  - [%GET_TALENTNAME(104, TALENT:감도상승캐릭:B감도)%]  # \@   
		PRINTFORML [5] - M감도 \@TALENT:감도상승캐릭:M감도?  - [%GET_TALENTNAME(106, TALENT:감도상승캐릭:M감도)%]  # \@ 
		PRINTL [999] - 역시 그만둔다
		INPUT
		SELECTCASE RESULT
			CASE 1,2,3,4
				IF TALENT:감도상승캐릭:(100+RESULT)>=1
					PRINTL 더 이상 감도를 올릴 수 없습니다.
					RETURN -1
				ELSE
					CALL IKENIE(감도상승캐릭, 8+RESULT)
				ENDIF
			CASE 5
				IF TALENT:감도상승캐릭:M감도>=2
					PRINTL 더 이상 감도를 올릴 수 없습니다.
					RETURN -1
				ELSE
					CALL IKENIE(감도상승캐릭, 13)
				ENDIF
			CASE 999
				RETURN -1
		ENDSELECT
	ELSE
		RETURN -1
	ENDIF	
		
		
ELSEIF RESULT == 30
	PRINTL 누구를?
	DRAWLINE
	FOR LOCAL, 1, CHARANUM
		SIF MARK:LOCAL:반발각인 && !CFLAG:LOCAL:출금 && !TALENT:LOCAL:사망
			PRINTFORMLC [{LOCAL}] %CALLNAME:LOCAL, 15, LEFT%
	NEXT
	PRINTL 
	DRAWLINE
	PRINTL [999] - 역시 그만둔다
	INPUT
	IF RESULT >= 1 && RESULT <= CHARANUM && MARK:RESULT:반발각인
		CALL IKENIE(RESULT, 1)
	ELSE
		RETURN -1
	ENDIF
;;
ELSEIF RESULT == 31
	PRINTL 누구를?
	DRAWLINE
	FOR LOCAL, 1, CHARANUM
		SIF CFLAG:LOCAL:약점잡음 && !CFLAG:LOCAL:출금 && !TALENT:LOCAL:사망
			PRINTFORMLC [{LOCAL}] %CALLNAME:LOCAL, 15, LEFT%
	NEXT
	PRINTL 
	DRAWLINE
	PRINTL [999] - 역시 그만둔다
	INPUT
	IF RESULT >= 1 && RESULT <= CHARANUM && CFLAG:RESULT:약점잡음
		CALL IKENIE(RESULT, 8)
	ELSE
		RETURN -1
	ENDIF	
;;
ELSEIF RESULT == 40 && CFLAG:MASTER:마력회수 && CFLAG:MASTER:요술망치 < 6
	CALL IKENIE(71,3)
ELSEIF RESULT == 50 && FLAG:개운대문구입회수 > 10
	CALL IKENIE(53,5)
ENDIF
DOWNBASE:MASTER:기력 = 100
TIME += 10
RETURN 1


;발원함
@COM_ABLE421
;정지 중에는 불가
SIF FLAG:70 == 1
	RETURN 0
;청소 실행 판정
SIF !TFLAG:100
	RETURN 0
;벌써 오늘 기원 드려서 등 연주한다
SIF FLAG:발원내용 > 0
	RETURN 0
;일괄관리
SIF GLOBAL_COMABLE(421)
	RETURN RESULT
;새전함
SIF !하늘의성가(CFLAG:MASTER:현재위치) && CFLAG:MASTER:현재위치 != 모리야신사본전
	RETURN 0
;기력 0
SIF BASE:MASTER:기력 <= 0
	RETURN 0
SIF CFLAG:우후후 == 2
	RETURN 0
RETURN 1