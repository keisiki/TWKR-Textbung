;*********************************************************
;	커맨드 계로 사용하는 함수군
;*********************************************************
;*********************************************************
;TRAIN_MESSAGE의 MESSAGE_를 날릴 뿐(만큼)의 함수
;*********************************************************
;조교시 텍스트
@K17_SKIP_TRAIN_MESSAGE
DRAWLINE
RESULT = 1
SIF CFLAG:MASTER:우후후 != 2 && SELECTCOM != 461
	CALL 카운터호출처리
SIF FLAG:대사색깔
	TRYCALLFORM M_KOJO_COLOR_K{TARGET}
RETURN 1

;*********************************************************
;카운터마다 임의매매
;*********************************************************
@K17_SET_KOJO_COLOR
DRAWLINE
SIF FLAG:대사색깔
	TRYCALLFORM M_KOJO_COLOR_K{TARGET}
RETURN 1

;*********************************************************
;TRAIN에 포함되는 카운터 호출
;*********************************************************
@K17_CLL_COUNTER
SIF CFLAG:MASTER:우후후 != 2 && SELECTCOM != 461
	CALL 카운터호출처리
RETURN 1

;*********************************************************
;REACTION의 호출을 DRAWLINE없이
;*********************************************************
@K17_CLL_COUNTER_REACTIONMESSAGE
SIF TARGET <= 0
	RETURN 0

IF !TCVAR:카운터행동 && !TCVAR:22
	PRINTW
	RETURN 0
ENDIF

CALL DATUI_MESSAGE

SIF TCVAR:피임 || TCVAR:카운터행동
	RESETCOLOR

SIF TCVAR:피임
	CALL SET_HININ(TARGET)
RESULT = 0
TRYCALLFORM EVENT_COUNTE_MESSAGE{TCVAR:카운터행동}
SIF FLAG:대사색깔
	TRYCALLFORM M_KOJO_COLOR_K{TARGET}
TCVAR:카운터행동 = 0
;개행 없음이 있으므로 검지하는 대로 개행
SIF !LINEISEMPTY()
	PRINTL
PRINTL
RETURN 1
;*********************************************************
;TRAIN_MESSAGE의 MESSAGE_만을 자르는 함수
;*********************************************************
@K17_MESSAGE
RESETCOLOR
IF TEQUIP:유두빨기 && SELECTCOM != 11 && SELECTCOM != 21 && SELECTCOM != 22 && SELECTCOM != 7
	CALL MESSAGE_EQUIP_COM11
ELSEIF TEQUIP:가슴주무르기 && SELECTCOM != 12 && SELECTCOM != 21 && SELECTCOM != 22
	CALL MESSAGE_EQUIP_COM12
;ELSEIF TEQUIP:PLAYER:유두빨기자위 && SELECTCOM != 711 && SELECTCOM != 721 && SELECTCOM != 722 && SELECTCOM != 707
;	CALL MESSAGE_EQUIP_COM711
;ELSEIF TEQUIP:PLAYER:가슴주무르기자위 && SELECTCOM != 712 && SELECTCOM != 721 && SELECTCOM != 722
;	CALL MESSAGE_EQUIP_COM712
ENDIF
IF TFLAG:50
	TRYCALLFORM MESSAGE_SCOM{TFLAG:50}
ELSE
	TRYCALLFORM MESSAGE_COM{SELECTCOM}
ENDIF
SIF FLAG:대사색깔
	TRYCALLFORM M_KOJO_COLOR_K{TARGET}
RETURN 1

;*********************************************************
;K17_SKIP_TRAIN_MESSAGE 함수로 사이에 두어 지문 나중에 보내는 함수
;*********************************************************
@K17_REVERSE_TRAIN_MESSAGE
RESETCOLOR
IF TEQUIP:유두빨기 && SELECTCOM != 11 && SELECTCOM != 21 && SELECTCOM != 22 && SELECTCOM != 7
	CALL MESSAGE_EQUIP_COM11
ELSEIF TEQUIP:가슴주무르기 && SELECTCOM != 12 && SELECTCOM != 21 && SELECTCOM != 22
	CALL MESSAGE_EQUIP_COM12
;ELSEIF TEQUIP:PLAYER:유두빨기자위 && SELECTCOM != 711 && SELECTCOM != 721 && SELECTCOM != 722 && SELECTCOM != 707
;	CALL MESSAGE_EQUIP_COM711
;ELSEIF TEQUIP:PLAYER:가슴주무르기자위 && SELECTCOM != 712 && SELECTCOM != 721 && SELECTCOM != 722
;	CALL MESSAGE_EQUIP_COM712
ENDIF

IF TFLAG:50
	TRYCCALLFORM MESSAGE_SCOM{TFLAG:50}
		PRINTW
	CATCH
	ENDCATCH
ELSE
	TRYCCALLFORM MESSAGE_COM{SELECTCOM}
		PRINTW
	CATCH
	ENDCATCH
ENDIF
RESETCOLOR
RETURN 1
;*********************************************************
;지문도 자작하고 있다고(면) 여기서, 혼잡, 모브 묘사를 한다
;주인의 색의 문제
;*********************************************************
@K17_DATE_HITOGOMI_MESSAGE
#DIM DYNAMIC iReturn = 0
RESETCOLOR
TFLAG:400 = RAND:2
IF TFLAG:400 && (DATE_HITOGOMI() || WITH_MOB() == 9)
	CALL DATE_HITOGOMI_MESSAGE(CFLAG:PLAYER:현재위치)
	iReturn = 1
ENDIF
SIF FLAG:대사색깔
	TRYCALLFORM M_KOJO_COLOR_K{TARGET}
RETURN iReturn
;*********************************************************
;범용	：분노중
;로가 붙고 있을 때에 우선 불러 두면 무시할 수 있다
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_분노

SIF !CFLAG:TARGET:빡침
	RETURN 0

SELECTCASE RAND:3
	CASE 0
		PRINTFORM 「…………」
		TRYCALL K17_인형대사(-1, 1, K17_RS("바보 아냐ー?/그만 둬ー/화났어ー") )
		PRINTFORMDL %타겟은% 눈도 마주치지 않았다
	CASE 1
		PRINTFORM 「……흥」
		TRYCALL K17_인형대사(-1, 1, K17_RS("바보 아냐ー?/그만 둬ー/화났어ー") )
		PRINTFORMDL %타겟은% 불쾌한 듯이 시선을 돌렸다
	CASEELSE
		PRINTFORM 「……후우」
		TRYCALL K17_인형대사(-1, 1, K17_RS("바보 아냐ー?/그만 둬ー/화났어ー") )
		PRINTFORMDL %타겟은% 작게 한숨을 쉬었다
ENDSELECT
RETURN 1
;*********************************************************
;범용	：수면중
;잠꼬대
;STR 셔플 함수잡조만간 범용성 있는 것 만든다
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_수면
SIF FLAG:시간정지
	RETURN 1
SIF !CFLAG:TARGET:수면
	RETURN 0
SIF CFLAG:TARGET:수면
	PRINTFORML 「%K17_SHUFFLE_잠꼬대(K17_RS("흐냐아/쿠울"))%」
PRINTW
RETURN 1
;*********************************************************
;범용	：수면중 애무
;잠꼬대
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_수면애무
SIF FLAG:시간정지
	RETURN 1
SIF !CFLAG:TARGET:수면
	RETURN 0
SIF CFLAG:TARGET:수면
	PRINTFORML 「%K17_SHUFFLE_잠꼬대(K17_RS("흐냐아/에헤헷/흐니이/냐앙"))%」
PRINTW
RETURN 1
;*********************************************************
;범용	：수면중 펠라계
;입에 돌진하는 녀석
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_수면펠라
SIF !CFLAG:TARGET:수면 || FLAG:시간정지
	RETURN 0
PRINTFORML 「%K17_SHUFFLE_잠꼬대(K17_RS("흐아앙/으긋/아읏/으그읏"))%」
RETURN 1


@K17_SHUFFLE_잠꼬대(ARGS)
#FUNCTIONS
#DIMS DYNAMIC 잠꼬대,3="……","……",
잠꼬대:2= %ARGS%
FOR i, 0,2
	r = RAND(i, 3)
	SWAP 잠꼬대 :i, 잠꼬대 :r
NEXT
RETURNF 잠꼬대:0+잠꼬대:1+잠꼬대:2

;※※※※※※※※※※※※※※※※※※※※※※※※※
;일상계 커맨드
;
;기본 지문의 분기에 맞추고( 이제(벌써) 차라리 코피페 해 버려서) 쓴다
;
;※※※※※※※※※※※※※※※※※※※※※※※※※
;====================================================================================================
;300, 회화
;
;	현재의 구성
;	회화→관계 사정→화제 랜덤→관계 성별로 말표시
;			↓		↓
;			↓		장소·데이트중의 회화 예정)
;		우선 판정→관계 성별로 말표시
;
;	화제를 번호 추가해 관계 성별로 대답을 써 간다
;	주울 수 있으면(자) RETURN 1없었으면 0으로 돌려주어 재추첨
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_300
;커맨드 공통 메시지(TRAIN_MESSAGE) 
;삭제하면 「~이야기를 했다.」가 사라집니다
IF CFLAG:행동 == 5 && !(DAY % 14) && TIME <= 720
	CALL K17_SKIP_TRAIN_MESSAGE
ELSE
	CALL TRAIN_MESSAGE
ENDIF
;대사 메인 호출
CALL M_KOJO_MESSAGE_COM_K17_300_1
PRINTW
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_300_1
#DIM CONST 화제수 = 6	;최대 화제수정의 해 둔다
#DIM DYNAMIC iRTnum=0
#DIM DYNAMIC iRand=0
RESULT=0

;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !FLAG:시간정지

	;관계성을 세트
	iRTnum = K17_GRT_EX(TARGET)
	;DEBUGPRINTFORML 【M_KOJO_MESSAGE_COM_K17_300_1 iRTnum({iRTnum})】
	
	;------------우선 판정하는 것―--------------------
	;-----------------------------
	;업무중
	;-----------------------------
	IF CFLAG:행동 == 5
		;인형극중
		IF CFLAG:직종 == 40
			IF TIME >= 720
				;뒷정리
				PRINTFORM 「미안해요, 아직 정리할 게 좀 남아서……」
				TRYCALL K17_인형대사(-1, 1, K17_RS("도와줘ー/수고ー") )
			ELSE
				;공연중
				PRINTL
				TRYCALL M_KOJO_MESSAGE_COM_K17_300_1_회화_인형극
			ENDIF
		;가사
		ELSE
			PRINTFORML 「미안해요, 잠시 집 청소 좀 해야 돼서……」
		ENDIF
		RETURN 1
	ENDIF
	
	;-----------------------------
	;친구 인정 플래그 보존
	;이벤트 플래그 갖게하는 것도 미묘……제대로 한 것 만들까
	;-----------------------------
	IF !CFLAG:K17C_ID:K17C_CF_친구이벤트
		IF ABL:친밀 >= 5
			PRINTFORML 「뭔가, 요즘 자주 대화하게 되네……」
			PRINTFORML 「뭐, 장난이라도 치는 게 아니라면, 조금은 신뢰해줘도 괜찮겠지」
			CFLAG:K17C_ID:K17C_CF_친구이벤트=1
			TRYCALL K17_RELATION_EV(K17C_RTF_친구)
			RETURN 1
		ENDIF
	ENDIF
	
	;-----------------------------
	;팬티 함정 혐의  50넘고 있으면(자) 베이스 50으로 판정
	;거의 들킬 것
	;-----------------------------
	IF K17_CHECK_시간정지들킴(TARGET, 50,50)
		CALL M_KOJO_MESSAGE_COM_K17_300_1_회화_시간정지들킴
		TFLAG:호감도마이너스 = 2
		RETURN 1
	ENDIF
	;-----------------------------
	;인형극 본 그 날의 회화
	;-----------------------------
	IF TCVAR:K17C_ID:K17C_TC_인형극
		TRYCALL M_KOJO_MESSAGE_COM_K17_300_1_회화_인형극감상
		TCVAR:K17C_ID:K17C_TC_인형극 = 0
		RETURN 1
	ENDIF
	
	;분노 상태
	IF CFLAG:TARGET:빡침 == 1
		TRYCALL M_KOJO_MESSAGE_COM_K17_분노
	;회화불능시
	ELSEIF (TCVAR:회화불능 || MARK:반발각인 >= 3) && !TALENT:TARGET:연모
		TRYCALL M_KOJO_MESSAGE_COM_K17_300_1_회화_불능
	;취기 60%로 들어가는 만취라면 반드시
	ELSEIF (BASE:17:술기운 >= 1 && K17_PERCENT(60)) || TCVAR:만취
		TRYCALL M_KOJO_MESSAGE_COM_K17_300_1_회화_취기(iRTnum)
	;성공 판정
	ELSEIF TFLAG:193 >= 1
		TRYCALL M_KOJO_MESSAGE_COM_K17_300_1_회화_성공(iRTnum)
	;실패
	ELSEIF TFLAG:193 <= -1
		TRYCALL M_KOJO_MESSAGE_COM_K17_300_1_회화_실패(iRTnum)
	ELSE
		RESULT=0
	ENDIF
	
	;--------------통상 회화의 화제 랜덤-------------------
	;조만간 장소에 대해서도 들어갈 수 있을 예정
	;CFLAG:TARGET:데이트중은 행선지 들어가면 것으로 FLAG:데이트상대==17로 취할까
	;통상 회화 랜덤 검색에 가짜 두어
	i=0
	WHILE RESULT == 0
		iRand= RAND:화제수
		TRYCALLFORM M_KOJO_MESSAGE_COM_K17_300_1_화제_{iRand}(iRTnum)
		SIF RESULT
			BREAK
		IF i>=3
			iRTnum--
			i=0
		ENDIF
		SIF iRTnum<0
			BREAK
		i++
	WEND

ENDIF
RETURN 1

;*********************************************************
;회화	：인형극
;회화불능에서도 우선적으로 선택된다
;앨리스가 마음대로 말하고 있는 느낌
;10시 개막~12시 종연 12시부터는 정리의 심부름을 할 수 있다
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_회화_인형극

PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 인형극을 감상했다……
SIF !(TCVAR:K17C_ID:K17C_TC_인형극 & 8)
	PRINTW

;-------------------
;샹하이의 호감도 올린다
;-------------------
CFLAG:K17C_ID:K17C_CF_샹하이호감도 = MIN(CFLAG:K17C_ID:K17C_CF_샹하이호감도 + 10,10000)
;-------------------
;공연중
;공연 시간에 본다　30분 마다 4 분할
;-------------------
SELECTCASE (720 - TIME) / 30
	CASE IS >= 3
		IF !(TCVAR:K17C_ID:K17C_TC_인형극 & 1)
			PRINTFORML 「오늘도 와주셔서, 감사합니다」
			PRINTFORM 「그럼, 이제 개막하겠습니다……」
			TRYCALL K17_인형대사(K17C_샹하이, 0,"착한 아이들 모두ー")
			TRYCALL K17_인형대사(K17C_호라이, 1,"모여라ー")
			PRINTW
			PRINTFORML 「착한 아이에겐 재밌는 이야기를…… 나쁜 아이에게는 무서~운 이야기를 들려 드리겠습니다……」
			PRINTFORML 「%CALLNAME:TARGET%의 인형극, 시작할게∼」
			PRINTFORMDL 모여 있던 아이들에게서, 큰 환호성이 울렸다
			PRINTW
			TCVAR:K17C_ID:K17C_TC_인형극 |= 1
		ENDIF
		PRINTFORML 「옛날 옛적~, 어느 곳에, 나쁜~ 마녀를 무서워하던 나라가 있었습니다……」
		PRINTFORML 「나쁜~ 마녀는, 어디선가 갑자기 나타나서는, 아이들을 어딘가에 데려가 버리는 짓을 하고 있었습니다」
		PRINTFORML 「마을 사람들은 그런 마녀가 무서워서, 임금님에게 마녀를 퇴치해주길 바랬습니다」
		TRYCALL K17_인형대사(K17C_샹하이, 1,"임금님! 나쁜 마녀를 물리쳐주세요ー!")
		PRINTFORML 「하지만 임금님은 국민들의 소원을 좀처럼 들어주지 않으셨습니다」
		PRINTFORML 「이러니 저러니 하던 도중에, 결국 성에서 살던 공주님까지 마녀에게 납치 되어 버렸습니다……」
		TRYCALL K17_인형대사(K17C_호라이, 1,"꺄―！ 누가-도와줘―！")
	
	CASE 2
		IF !(TCVAR:K17C_ID:K17C_TC_인형극 & 2)
			PRINTFORML 「난처해진 임금님은 결국 결정을 내렸습니다」
			PRINTFORML 「임금님은 이 나라에서 가장 용감하고 정의로운 청년, 피노에게 마녀의 퇴치를 명했습니다」
			PRINTFORML 「피노는 국민들의 기대를 한 몸에 짊어진 채로, 마녀를 퇴치한 뒤 공주님을 구하겠다며 결심을 다졌습니다」
			TRYCALL K17_인형대사(K17C_샹하이, 1,"마녀 녀석―! 용서할 수 없어―!")
			PRINTW
			TCVAR:K17C_ID:K17C_TC_인형극 |= 2
		ENDIF
		PRINTFORML 「그렇게, 피노의 공주님을 구하러 가는 모험이 시작되었습니다……」
		TRYCALL K17_인형대사(K17C_샹하이, 1,"공주님―! 반드시 구해드리겠습니다―")
	
	CASE 1
		IF !(TCVAR:K17C_ID:K17C_TC_인형극 & 4)
			PRINTFORML 「피노의 모험은 험난한 여정을 거쳤습니다」
			PRINTFORML 「어느 때에는, 시간이 아무리 지나도 봄이 오지 않는 겨울의 숲을 지나며……」
			PRINTFORML 「또 어느 때에는, 밤이 영원히 계속되는 죽림을 지나며 모험을 계속했습니다」
			PRINTFORML 「동굴에서는 오니와 싸우고, 하늘보다도 높은 산의 정상에서 선녀나 천인과도 만나는 대모험이었습니다」
			PRINTFORML 「그리고 마침내, 드디어 마녀를 찾아냈습니다」
			TRYCALL K17_인형대사(K17C_샹하이, 1,"드디어 찾아냈다―! 마녀―!")
			PRINTW
			PRINTFORML 「피노는 마녀에게 공주님을 놓아주라고 말했지만, 마녀는 그 말을 들어주지 않았습니다」
			PRINTFORM 「나쁜 마녀 녀석! 퇴치해주겠어!」
			TRYCALL K17_인형대사(K17C_샹하이, 1,"간다―! 마녀!")
			PRINTFORML 「라고 말을 끝내는 순간, 두 명은 곧바로 싸움을 시작했습니다……」
			PRINTW
			TCVAR:K17C_ID:K17C_TC_인형극 |= 4
		ENDIF
		PRINTFORMDL 인형들이 난투극을 벌이며 섬광이 번쩍거리는 연출이 나왔다…… 저건 마법일까
		PRINTFORMDL 최후에는 작은 파열음이 나면서 연기가 피어오르고 있었다
		PRINTFORML 「그 후, 길고 긴 싸움의 끝, 피노는 나쁜 마녀를 간신히 해치웠습니다」
		PRINTW
		PRINTFORML 「당~했~다~~∼」
		TRYCALL K17_인형대사(K17C_샹하이, 0,"공주님! 무사해서 다행입니다!")
		TRYCALL K17_인형대사(K17C_호라이, 1,"구해줘서 고마워요!")
		PRINTFORML 「피노는 무사히, 공주님을 구했습니다」
	CASE 0
		IF !(TCVAR:K17C_ID:K17C_TC_인형극 & 8)
			PRINTFORML 「공주님을 구한 피노는 왕국에 돌아오자마자, 일약 영웅으로 떠올랐습니다」
			PRINTFORML 「그 후, 피노는 공주님과 결혼해서 오랫동안 행복하게 살았습니다……」
			TRYCALL K17_인형대사(K17C_샹하이, 0,"공주님, 반드시 행복하게 해드릴게요!")
			TRYCALL K17_인형대사(K17C_호라이, 1,"사랑해요, 왕자님!")
			PRINTFORML 「해피 엔딩, 해피 엔딩……」
			TCVAR:K17C_ID:K17C_TC_인형극 |= 8
		ELSE
			PRINTFORMDL 인형극은 벌써 끝나 있었고 %타겟은% 아이들에게 둘러싸여 있었다
			PRINTW
			PRINTFORML 「모두 착한 아이가 되어서 부모님 말씀 잘 들으렴」
			PRINTFORML 「말 안 듣는 나쁜 아이가 되면, 나쁜 마녀한테 끌려가 버릴테니깐……」
		ENDIF
		
ENDSELECT
RETURN 1

;*********************************************************
;회화	：인형극 감상
;회화불능에서도 우선적으로 선택된다
;일마지막 13시 정도인가? (으)로부터의 인형극을 1번에서도 보고 있을 때의 회화
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_회화_인형극감상
#DIM DYNAMIC iFlagNum = 0
#DIMS DYNAMIC cEX=""
;몇개 보았는지 센다
FOR i, 0,4
	SIF GETBIT(TCVAR:K17C_ID:K17C_TC_인형극, i)
		iFlagNum ++
NEXT

PRINTFORM 「……아아, 인형극 봐줬구나…… 뭔가 부끄럽네」
TRYCALL K17_인형대사(-1, 1,"부끄러ー")
PRINTW

;적당하게 호감도p
;읽은 수*10
TFLAG:호감도관리 += 10*iFlagNum

;본 수로 판정
IF iFlagNum < 4
	;전부 볼 수  없었다
	PRINTFORML 「저기 그래서, 인형극 어땠어……?」
	PRINTFORMDL %CALLNAME:TARGET%가 물어봐서, 인형극을 제대로 보지 않았던 %마스터는% 적당하게 대답했다
	PRINTFORML 「흐-응…… 뭐 다음엔 전부 봐줘」
ELSE
	SIF K17_GRT() >= K17C_사모
		cEX = 나라면 마녀도 구했을텐데
	CALL K17_CHOICE("「저기, 인형극 어땠어……?」","보통이야","좋았어", cEX)
	SELECTCASE RESULT
		CASE 0
			;보통
			PRINTFORML 「흐-응, 솔직한 감상이네」
			PRINTFORML 「억지로 칭찬 받는 것보다 좋았어. 고마워」
		CASE 1
			;좋았다
			PRINTFORML 「으응~, 정말로……?」
			PRINTFORML 「의외로 아이 같은 면이 있네, 후훗」
		CASE 2
			;마녀도 도왔다
			PRINTFORML 「엣…………」
			PRINTFORML 「뜻밖의 감상이네, 조금…… 놀랐, 어……」
			PRINTFORMDL %타겟은% 어째서인지 얼굴을 새빨갛게 물들인 채 숙여버렸다
			TFLAG:호감도보너스 += 100
			CFLAG:K17C_ID:K17C_CF_샹하이호감도 = MIN(CFLAG:K17C_ID:K17C_CF_샹하이호감도 + 100,10000)
	ENDSELECT
ENDIF
RETURN 1

;*********************************************************
;회화	：시간정지들킴
;혐의 +50%로 랜덤 한편 앨리스의 팬티를 가지고 있는 경우만
;사쿠야의 경우 100% 들킴
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_회화_시간정지들킴

PRINTFORML 「…………저기, 이 실 보여?」
PRINTFORMDL %CALLNAME:TARGET%가 치켜세운 손가락에 감겨진 마법의 실이, 조금 전 훔친 팬티를 숨긴 %CALLNAME:MASTER%의 주머니까지 뻗어 있었다……

SIF CFLAG:K17C_ID:K17C_CF_팬티몰수
	PRINTFORML 「이전에도 내 속옷을 훔쳤단 건 알고는 있었지만……」
PRINTFORML 「증거를 너무 남겨대니까……장난 정도라면 용서해 줄 생각이었지만……」
PRINTFORML 「어떻게 한건지……자백을 받아볼까」
PRINTW
PRINTFORMDL 슬쩍 훔친 팬티를 빼앗겼다
PRINTFORMDL 아무래도 단단히 각오해야 될 거 같다
PRINTL
PRINTFORMDW %CALLNAME:TARGET%에게 시간정지 능력이 들켜버렸다!
PRINTL
CALL K17_시간정지들킴

;후 처리
SIF !CFLAG:약점잡음
	PRINTFORMDW %CALLNAME:TARGET%에게 약점을 잡혔다
CFLAG:TARGET:약점잡음 += 5
VARSET PANTS_TEMP
FLAG:팬티수송 = 0
RETURN 1
;*********************************************************
;회화	：불능
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_회화_불능
SELECTCASE RAND:3
	CASE 0
		PRINTFORM 「………………」
		TRYCALL K17_인형대사(K17C_샹하이, 0)
		TRYCALL K17_인형대사(K17C_호라이, 1)
		PRINTFORMDL %타겟은% 한가로이 인형을 만지고 있었다
	CASE 1
		PRINTFORM 「……한가하네」
		TRYCALL K17_인형대사(-1, 1,@"한가 %K17_RS("하다/")%-")
		PRINTFORMDL %타겟은% 툭 내뱉듯 중얼거렸다
	CASEELSE
		PRINTFORM 「……후우」
		TRYCALL K17_인형대사(-1, 1,@"%K17_RS("후우/앨리스")%-")
		PRINTFORMDL %타겟은% 조용히 한숨을 쉬었다
ENDSELECT
RETURN 1
;*********************************************************
;회화	：취기 만취
;참조	：BASE:17:술기운 
;인수	：RELATION_TYPE
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_회화_취기(ARG)


;-----------------
;만취 처리 되돌린다
;-----------------
IF TCVAR:만취 && ARG >= K17C_연모
PRINTFORML 「∼%K17_CNAME()%?　%K17_RS("야한 짓 할 생각이지―/-난폭한 짓 할 생각이지―")%」
	RETURN 1
ELSEIF TCVAR:만취
	PRINTDATAL
		DATAFORM 「……%K17_RS("샹하이/호라이")%~ 엄청 커졌네-」
		DATAFORM 「……%K17_RS("마리……사? /엄……마?")%」
	ENDDATA
	RETURN 1
ENDIF

;-----------------
;통상 처리
;-----------------
SELECTCASE K17_MAX_LIMIT_RAND(ARG, K17C_사모, K17C_연인)
	CASE IS >= K17C_연인
		PRINTFORML 「후에∼~%K17_CNAME(0,1)% ~좋아해%K17_HEART()% ~에헤헤%K17_BLUSH()%」
		PRINTFORML 「두근두근하네~ ……아앙 %K17_HEART()% 그렇지? 두근두근」
		PRINTFORMDL %타겟이% 바짝 달라붙어선 가슴을 꽉 눌러 온다
		PRINTFORMDL ……두근두근했다!
	CASE IS >= K17C_연모
		PRINTFORML 「더워져버렸다아…… 저기 %K17_HEART()%」
		PRINTFORMDL %타겟이% 매료하려는 듯이 %K17_RS("가슴팍/"+K17_GET_CLOTHNAME_TOP(TARGET, 1)+"/쇄골의 근처")%를 풀어헤친다
		PRINTFORMDL %마스터는% 당황해서 고개를 돌렸다
	CASE IS >= K17C_사모우후후
		PRINTFORML 「……저기, 날 취하게 해서 뭐할 생각이야?」
		PRINTFORMDL %CALLNAME:TARGET%의 술에 취한 시선이 어딘가 요염하다
	CASE IS >= K17C_사모
		PRINTFORML 「……후우, 뭐야아? 갑자기 쳐다보고……」
		PRINTFORMDL %타겟이% 술에 취한 숨을 내뱉는 입술이 매우 요염하다
	CASEELSE
		PRINTFORML 「……미안해요, 조금…… 술은 약해서, 어지러워요」
		PRINTFORMDL %타겟은% 조용히 한숨을 쉬었다
ENDSELECT

SIF ALCOHOL_FACE(TARGET) == "취기"
	PRINTFORMDL 아직 그 정도로 마시진 않았는데, %타겟은% 술에 약한 것 같다
SIF ALCOHOL_FACE(TARGET) == "주정꾼"
	PRINTFORMDL %타겟은% 이미 발걸음이 위태롭다
SIF ALCOHOL_FACE(TARGET) == "곤드레만드레"
	PRINTFORMDL %타겟은% 벌써 잔뜩 취했다

RETURN 1

;*********************************************************
;회화	：성공 대성공
;참조	：TFLAG:TARGET:193
;인수	：RELATION_TYPE
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_회화_성공(ARG)

PRINTFORML 「%K17_CNAME()%, 진짜 이상한 사람이야……킥킥」
PRINTFORMDL %타겟은% 입가에 손을 댄 채로, 조용히 웃고 있다

SELECTCASE ARG
	CASE IS >= K17C_연인
		PRINTFORML 「……으응~……」
		PRINTFORMDL %타겟은% 먼 곳을 바라보며 신음했다
		PRINTFORMDL ……?
		PRINTFORML 「……%K17_CNAME()%, 좋아해요…… 사랑해」
		PRINTFORMDL %타겟은% 뒤돌아 보더니 활짝 웃으며 %CALLNAME:MASTER%에게 그렇게 고백했다
		PRINTFORML 「어떻게 해야 이 기분을 전부 전할 수 있을려나……?」
		RETURN 1
	CASE IS >= K17C_연모고백
		PRINTFORML 「……으응……행복해」
		PRINTFORML 「이런 날이 영원히 계속되면 좋을 텐데……」
		PRINTFORMDL %타겟이% 항상 웃는 얼굴로 지낼 수 있도록, 앞으로도 힘내자
		RETURN 1
	CASE IS >= K17C_사모
		PRINTFORML 「아 정말, 바보네, %K17_CNAME()%%K17_HEART()%」
		PRINTFORMDL %타겟이% %CALLNAME:MASTER%의 팔을 잡아 %K17_RS("가슴을/가슴을/가슴골에")% 세게 꽉 누르면서, 귓가에 속삭인다
		PRINTFORML 「……좋은 상상, 할 수 있었어?」
		RETURN 1
	CASE IS >= K17C_친구
		PRINTFORML 「어머, 의외로…… \@ TALENT:MASTER:성별 ==1 ? 있네 # 단련하고 있는 \@거야?」
		PRINTFORMDL 더듬더듬, %CALLNAME:TARGET%의 태연한 듯한 터치가 많아진 것 같다
		PRINTFORML 「아앗, 이 녀석, 이쪽은 만지면 안 돼…… %K17_BLUSH(1)%」
		RETURN 1
	CASEELSE
		PRINTFORML 「아……어머나……미안. %K17_RS("손/엉덩이/가슴")% 닿아버린 걸까?」
		PRINTFORMDL %타겟은% 조금 부끄러워하며 얼굴을 새빨갛게 했다
		PRINTFORML 「정말, 변태네」
		RETURN 1
ENDSELECT
RETURN 0

;*********************************************************
;회화	：실패대실패
;참조	：TFLAG:TARGET:193
;인수	：RELATION_TYPE
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_회화_실패(ARG)

PRINTFORML 「……후우」
PRINTFORMDL %타겟은% 지루한 것 같다
SELECTCASE ARG
	CASE IS >= K17C_사모
		PRINTFORML 「……좀 진정해. 어린애 같아」
		PRINTFORMDL %타겟은% %K17_RS("차가운 눈초리/차가운 시선이/따가운 눈초리")%어도 %K17_RS("곱다/아름답다/미인이")%고 말하면, 또 혼나겠지
		RETURN 1
	CASEELSE
		PRINTFORML 「……그 이야기 {RAND(2,4)}번째야」
		RETURN 1
ENDSELECT
RETURN 0


;*********************************************************
;	화제 0	걱정 많은 사람 앨리스
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_화제_0(ARG)

SELECTCASE ARG
	CASE IS >= K17C_연모생해금
		;동거(同居)  중인가 본다
		IF CFLAG:TARGET:초기위치 == CFLAG:MASTER:초기위치
			PRINTFORML 「%K17_CNAME()%, 또 %K17_RS("옷/머리")% 흐트러졌어」
			PRINTFORMDL 그렇게 말하면서 상냥하고 정성스레 고쳐주었다
			PRINTFORML 「정말, 내가 없으면 안 된다니깐」
		ELSE
			PRINTFORML 「%K17_CNAME()%가 제대로 %K17_RS("청소/자취")%할 수 있을지 걱정돼서……」
			PRINTFORMDL 그렇게 %K17_RS("애 취급/걱정")%하지 않아도……
			PRINTFORML 「역시 같이 사는게 나을까, 응?」
		ENDIF
		RETURN 1
	CASE IS >= K17C_사모우후후
		PRINTFORML 「이번엔 꼭 %K17_CNAME()%의 방에 가볼 거야」
		PRINTFORML 「제대로 %K17_RS("청소/자취")%하고 다니는 건지 체크해줄게」
		PRINTFORMDL 귀찮은 일이 될 거 같다……
		RETURN 1
	CASE IS >= K17C_사모
		PRINTFORML 「요즘 %K17_RS("청소/자취")% 잘 하고 있어?」
		PRINTFORML 「뭣하면 가끔은, 내가 대신 해줘도 상관 없는데」
		PRINTFORML 「가사는 자신 있으니까」
		PRINTFORMDL %타겟은% 좋은 %K17_RS("엄마가/모친이/마마가")% 될 것 같다
		PRINTFORML 「엣! 그건 무슨 말……%K17_BLUSH()%」
		RETURN 1
	CASE IS >= K17C_친구
		PRINTFORML 「요즘 %K17_RS("청소/자취/휴식은")% 잘 하고 있어?」
		PRINTFORMDL 역시 %K17_RS("애 취급/걱정")% 받고 있는 거야?
		RETURN 1
	CASE IS >= K17C_아는사람
		PRINTFORML 「%K17_CNAME()%, 분위기 좀 탔다고 이상한 짓 하면 안 돼?」
		PRINTFORMDL %타겟이% 주의를 주듯이 말했다
		PRINTFORMDL %K17_RS("애 취급/걱정")% 받고 있는 거야?
		RETURN 1
ENDSELECT
RETURN 0

;*********************************************************
;	화제 1	아는 사람등에 대해서
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_화제_1(ARG)
#DIM iFriends

;아는 사람 안에서 랜덤 선택
iFriends = K17_GET_FRIENDS(-1)
PRINTFORMDL %CALLNAME:iFriends%에 대해서 이야기를 들어 보았다
SELECTCASE iFriends
	CASE K17C_레이무ID
		PRINTFORML 「%K17_CNAME(iFriends)%인가. 정말이지 그 애는……」
		PRINTFORMDL 길어질 것 같다……
		RETURN 1
	CASE K17C_마리사ID
		PRINTFORML 「%K17_CNAME(iFriends)% 말이지, %K17_RS("또 책 훔치러 가는 거 아니야?/그 애도 걱정되네")%…… 정말……」
		PRINTFORMDL 길어질 것 같다……
		RETURN 1
	CASE K17C_파츄리ID
		PRINTFORML 「%K17_CNAME(iFriends)% 말이지. 같은 마법사로서 존경하지만, 나도 지지 않을거야」
		RETURN 1
	CASE K17C_유카ID, K17C_사쿠야ID
		PRINTFORML 「%K17_CNAME(iFriends)% 말이구나. 예쁘지……」

	CASE K17C_메디슨ID
		PRINTFORML 「%K17_CNAME(iFriends)% 말이지. 귀여워서 개인적으로 조금은 흥미 있어」
		RETURN 1
	CASE K17C_미마ID, K17C_루이즈ID, K17C_유메코ID
		PRINTFORML 「%K17_CNAME(iFriends)% 말이지. 으응~ 존경하고 있어」
		
	CASE K17C_신키ID
		PRINTFORML 「%K17_CNAME(iFriends)% 말이지. 그러니깐, 정말 존경하고 있고, 동경하고 있어」
		PRINTFORML 「%K17_CNAME(iFriends)%처럼 되고 싶어」
		RETURN 1
	CASEELSE
		RETURN 0
ENDSELECT
PRINTFORML 「저런 %K17_RS("미인이/근사한 사람이")% 되고 싶더라……」
PRINTFORMDL %CALLNAME:TARGET%도 충분히 근사하다고 생각한다……
RETURN 1

;*********************************************************
;	화제 2	마법, 인형에 대해
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_화제_2(ARG)

SELECTCASE ARG
	CASE IS >= K17C_연모생해금
		PRINTFORML 「설마 자립인형 완성보다, 이게 먼저 달성되어 버리다니……」
		PRINTFORMDL 무슨 뜻일까
		PRINTFORML 「정말, 여우 같은 사람……」
		RETURN 1
	CASE IS >= K17C_연모
		PRINTFORML 「나도 언젠가는 고향으로 돌아가게 될 줄 알았어……」
		PRINTFORML 「하지만 환상향에서 사는 것도 괜찮을 거 같아」
		PRINTFORMDL 어떤 심경의 변화라도 있던걸까?
		PRINTFORML 「……듣고 싶어? 됐어, 안 말할 거야%K17_BLUSH()%」
		RETURN 1
	CASE IS >= K17C_사모우후후
		PRINTFORML 「%K17_CNAME()% 마녀의 계약이라고, 알고 있으려나?」
		PRINTFORMDL 자세히는 모르지만 %K17_RS("목숨이/피/수명이")%라도 노려지는 건가?
		PRINTFORML 「뭐 그쪽 계열은 전문이 아니라서 딱히 상관없지만」
		RETURN 1
	CASE IS >= K17C_사모
		PRINTFORML 「언젠가는 자립인형을 완성시켜 보고 싶은데……」
		PRINTFORML 「아직 사람조차도 잘 모르겠어」
		RETURN 1
	CASE IS >= K17C_아는사람
		PRINTFORML 「%K17_RS("마법사/마법이")%라고 해도 생각보다 만능은 아니야」
		PRINTFORMDL 꿈처럼 뭐든게 가능한 거와 비슷한 게 아니었던 건가
		RETURN 1
ENDSELECT

RETURN 0
;*********************************************************
;	화제 3	현재의 관계 사정에 대해
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_화제_3(ARG)

PRINTFORMDL 과연 %타겟은% %마스터를% 어떻게 생각하는 걸까?
;여기는 정확하게 취득
SELECTCASE K17_GRT()
	CASE IS >=  K17C_연인
		IF TALENT:연인
			PRINTFORML 「사랑해, %K17_CNAME(MASTER, 1)%」
			PRINTFORMDL 즉답이었다……
			PRINTFORML 「%K17_RS("뭐야?/(어쩜,/뭐야,")% 부끄러워?」
		ELSE
			PRINTFORML 「사랑한답니다, 주인님」
			PRINTFORML 「후훗, 주인님은 농담. 그래도 가끔은 이런 것도 좋을지도?」
		ENDIF
		RETURN 1
	CASE IS >= K17C_연모생해금
		PRINTFORML 「%K17_CNAME()%이\@ TALENT:MASTER:성별 ==1 ? 마마 # 파파 \@가 되는 날도 가까워졌으려나……?」
		RETURN 1
	CASE IS >= K17C_연모
		IF TALENT:TARGET:연모
			PRINTFORML 「%K17_CNAME()%이라면 뭐든 허락해버리는 관계일려나? 후훗」
		ELSEIF TALENT:TARGET:애욕
			PRINTFORML 「이런 걸 문란한 관계라고 하는 걸까?」
		ENDIF
		RETURN 1
	CASE IS >= K17C_사모
		IF TALENT:TARGET:사모
			PRINTFORML 「어떻게 생각하는지, 듣고 싶어?」
			PRINTFORML 「%K17_CNAME()% 먼저 말하라니까, 정말%K17_BLUSH()%」
		ELSEIF TALENT:TARGET:섹프
			PRINTFORML 「몸만 섞는 관계 아냐?」
		ELSEIF TALENT:TARGET:연모
			;맑은 관계의 연모
			PRINTFORML 「%K17_CNAME()%이 날 소중히 여겨주는 건 항상 고맙게 생각해」
		ENDIF
		RETURN 1
	CASE K17C_친구
		PRINTFORML 「응? 그냥 지인이겠지?」
		PRINTFORML 「후훗, %K17_RS("거짓말이야/농담이야")%. %K17_RS("친구/친구")% 정도로 생각하고 있어」
		RETURN 1
	CASE IS >= K17C_아는사람
		PRINTFORML 「%K17_CNAME()%은, 뭐라고 해야 할지 눈을 뗄 수가 없더라」
		PRINTFORML 「손이 많이 가는 \@ TALENT:MASTER:성별 ==1 ? 여동생 # 남동생 \@, 일려나? 후훗……」
		RETURN 1
ENDSELECT
RETURN 0

;*********************************************************
;	화제 4	쪽 하고 싶다
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_화제_4(ARG)

PRINTFORMDL 예쁜 목소리로 말하는 입술에 자신도 모르게 시선이 멈춰 버렸다
;플래그 체크
IF K17_RT_FG(TARGET) &  K17C_RTF_키스
	SELECTCASE ARG
		CASE IS >= K17C_연모
			PRINTFORML 「응? 뭐야? 후훗, %K17_RS("말하지 않으면 모르잖아/해도 돼")%」
			PRINTFORMDL 놀림당했다
			RETURN 1
		CASE IS >= K17C_사모
			PRINTFORML 「읏%K17_BLUSH()% …… 또…… 하고 싶은 거……야?」
			PRINTFORMDL 신경 쓰이게 해버린 것 같다
			RETURN 1
		CASE IS >= K17C_아는사람
			PRINTFORML 「뭐……뭘 바라보고 있는 거야, 정말」
			PRINTFORMDL 시선을 피해버렸다
			RETURN 1
	ENDSELECT
ELSE
	;아직 키스해줘 없다
	SELECTCASE ARG
		CASE IS >= K17C_사모키스
			PRINTFORML 「~~~~%K17_BLUSH()%」
			PRINTFORMDL 신경 쓰이게 만들어 버린 걸까. %타겟은% 새빨간 얼굴로 고개를 숙여버렸다
			RETURN 1
		CASE IS >= K17C_사모
			PRINTFORML 「……아, 아무것도 아냐」
			PRINTFORMDL 시선이 마주치자 고개를 돌려버렸다
			RETURN 1
		CASE IS >= K17C_아는사람
			PRINTFORML 「……뭐야? 갑자기 쳐다보고는…… 읏∼~%K17_BLUSH()%」
			PRINTFORMDL 손으로 가려버렸다
			RETURN 1
	ENDSELECT
ENDIF
RETURN 0

;*********************************************************
;	화제 5	설득해
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_화제_5(ARG)
PRINTFORMDL %K17_RS("아름답게/미소를 지으며/우아하게")% 이야기하는 %CALLNAME:TARGET%…… 그 옆얼굴에 시선을 빼앗겨서, 자신도 모르게 %K17_RS("예쁘다/귀여워/멋지다/미인이다")%라고 내뱉었다
SELECTCASE ARG
	CASE IS >= K17C_연모
		PRINTFORML 「정말, 뭐야 %K17_CNAME()%, %K17_RS("……고마워/켕기는 일이라도 있어?/갑자기……")%」
		PRINTFORMDL %K17_RS("사실/진실")%을 그대로 말한 것 뿐이야
		PRINTFORML 「항상 그렇게 칭찬하고 다니니 내가 진짜로 괜찮은 여자라고, 착각해버리잖아」
		PRINTFORMDL 그런 뜻으로 말한 거였는데……
		RETURN 1
	CASE IS >= K17C_사모우후후
		PRINTFORML 「……뭐야, %K17_CNAME()%, %K17_RS("그거 벌써 몇 명한테 말한 거야?/꼬시는 거야?/칭찬한 거야?")%」
		PRINTFORMDL %K17_RS("사실/진실")%을 그대로 말한 것 뿐이야
		PRINTFORML 「%K17_RS("정말/고마워") %%K17_BLUSH()% 그 말에 %K17_RS("으쓱거리는/착각해버리는/기뻐해버리는")% 아가씨도 있다구? 후훗」
		RETURN 1
	CASE IS >= K17C_사모
		PRINTFORML 「……뭐? %K17_CNAME() %, %K17_RS("그거 벌써 몇 명한테 말한 거야?/꼬시는 거야?/칭찬한 거야?")%」
		PRINTFORMDL 생각하고 있던 걸 그대로 말했을 뿐이야
		PRINTFORML 「……%K17_RS("정말/고마워……") %%K17_BLUSH()%」
		RETURN 1
		RETURN 1
	CASE IS >= K17C_아는사람
		PRINTFORML 「……그게 뭐야, %K17_CNAME() %, %K17_RS("벌써 몇 명한테 말한 거야/꼬시는 거야?/칭찬한 거야?")%」
		PRINTFORMDL 무심코 말해버렸다……
		PRINTFORML 「……%K17_RS("어머나,/후훗,")% 그래…… %K17_BLUSH()%」
		RETURN 1
ENDSELECT
RETURN 0
;*********************************************************
;	화제 99	화제 텐프레
;*********************************************************
;@M_KOJO_MESSAGE_COM_K17_300_1_화제_99(ARG)
;SELECTCASE ARG
;	CASE IS >= K17C_연모
;		RETURN 1
;	CASE IS >= K17C_사모
;		RETURN 1
;	CASE K17C_아는사람
;		RETURN 1
;ENDSELECT
;RETURN 0


;====================================================================================================
;301, 차를넣는
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_301
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_301_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_301_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL

	;분노 상태
	IF CFLAG:TARGET:빡침 == 1
		TRYCALL M_KOJO_MESSAGE_COM_K17_분노
		RETURN 1
	ENDIF
	
	;-------------------------------------------------
	;처음
	;선택한 순간에 FIRSTTIME 기록되므로 분노 상태로 첫회 되면(자) 스킵 된다
	;자기 부담으로 준비해도 되지만, 사양 이란 것으로 하나……
	;필요한 경우 말 붙여 보존해 보는 테스트
	;기입 체크
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && FIRSTTIME(@"{SELECTCOM}말")
		PRINTFORML 「어머, 차 끓여줬구나」
		PRINTFORML 「미안해, 신경 쓰게 해서. 내가 끓여줬어야 되는 건데」
		PRINTFORMDL %마스터는% %CALLNAME:TARGET%에게 해줄 수 있는 게 이런 것 밖에 없으니 신경 쓰지 말고 언제든 부탁해도 된다고 말했다
		PRINTFORML 「흐응. 그럼 이제부터 자주 부탁해볼까」
		PRINTFORML 「단, 내 입맛은 좀 까다롭거든?」
		PRINTFORMDL 앞으로도 힘내자
		PRINTW
	ENDIF
	
	;업무중
	IF CFLAG:TARGET:행동 == 5
		PRINTDATAL
			DATAFORM 「마침 잠시 쉬고 싶었어」
			DATAFORM 「좋은 타이밍이야」
			DATAFORM 「어머 기뻐」
		ENDDATA
	ENDIF
	
	;성공 판정
	IF TFLAG:193 == 1
		PRINTFORML 「오늘의 차는 특별히 %K17_RS("잘 끓였/맛있/좋은 향기")%네∼, 노력한 보람이 있었나 봐」
		PRINTFORMDL 아무래도 합격점을 받은 것 같다
	
	;실패
	ELSEIF TFLAG:193 == -1
		SELECTCASE K17_GRT(TARGET)
			CASE IS >= K17C_연모
				PRINTFORML 「…………음……」
				PRINTFORMDL %타겟은% 한순간 얼굴을 찡그렸지만, 아무 말도 하지 않고 차를 마셨다
			CASE IS >= K17C_사모
				PRINTFORML 「……으응~? 이건 좀 실패작 같은걸」
			CASE K17C_아는사람
				PRINTFORML 「……뭘, 넣은 거야…… 이거」
				PRINTFORMDL 이상한 걸 섞지 않았는지 의심받고 말았다
		ENDSELECT
		PRINTFORMDL 아무래도 실패였던 것 같다. 다음엔 힘내자
	ENDIF

	;감상
	SELECTCASE K17_GRT_EX(TARGET)
		CASE IS >= K17C_연모
			PRINTFORML 「이거, 완전히 %K17_RS("습관처럼/평소의 일과처럼")% 되어버렸네……」
			PRINTFORML 「항상 고마워, %K17_CNAME(MASTER, 1)%」
		CASE IS >= K17C_사모
			PRINTFORML 「항상 고마워, %K17_CNAME()%」
		CASE IS >= K17C_아는사람
			PRINTFORML 「언제까지 계속 될까, 이런 나날. 후훗」
	ENDSELECT
	
ENDIF
RETURN 1
;====================================================================================================
;302, 스킨십
;
;멋대로 하고 있다
;M_KOJO_MESSAGE_COM_K17_302_1_선택지		9종
;M_KOJO_MESSAGE_COM_K17_302_1_선택지_욕실	6종
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_302
;욕실시의 랜덤 값 잡히지 않는 어떻게 하지　←그렇다면 만들면 되는이겠지
;지문 자기 부담으로 준비
;지문을 후송로 하는 함수 자작하는 편이 좋을지도 코피페 했다

CALL K17_SKIP_TRAIN_MESSAGE

CALL M_KOJO_MESSAGE_COM_K17_302_1
CALL K17_DATE_HITOGOMI_MESSAGE
;성공으로 돌려주어 올려
RETURN 1

@M_KOJO_MESSAGE_COM_K17_302_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	

	;분노 상태 실패시는 곧 되돌린다
	IF CFLAG:TARGET:빡침 == 1 || TFLAG:193 == -1
		PRINTFORMDL %마스터는% %타겟과% 스킨십을 하려고 했다……
		PRINTW
		;실패
		IF TFLAG:193 == -1
			PRINTFORMDL 살짝 닿아 봤지만, 싫어하는 것 같다
			PRINTFORMDL 화내기 전에 이번은 여기까지만 해두자
		PRINTW
			RETURN 1
		;분노
		ELSE
			TRYCALL M_KOJO_MESSAGE_COM_K17_분노
			RETURN 1
		ENDIF
	ENDIF
	
	;성공 or연회시 or데이트중 평상시보다 대담하게
	IF TFLAG:193 == 1 || CFLAG:TARGET:직종 == 49 || FLAG:데이트상대 == K17C_ID
		PRINTFORMDL %마스터는% 평상시보다 대담하게 %타겟과%의 스킨십을 꾀했다
	ELSE
		PRINTFORMDL %마스터는% %타겟과%의 스킨십을 꾀했다
	ENDIF
	;-------------------------------------------------
	;처음
	;기입 체크
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && FIRSTTIME(@"{SELECTCOM}말") ;|| STRCOUNT(CSTR:K17C_ID:0,"스킨십[0-9]") == 0
		PRINTFORML 「꺄!」
		PRINTFORML 「자, 잠깐 멈춰. 지금 어딜 손대려고 한 거야……」
		PRINTFORMDL 갑작스런 스킨십에 %타겟은% 놀란 것 같다
		PRINTFORML 「으응~ ……갑자기 치근덕대니깐 놀라버리잖아」
		PRINTW
		PRINTFORML 「라고는 해도, 나도 %K17_CNAME()%의 몸에 관심 있어……」
		PRINTFORMDL 어라……?
		PRINTFORML 「아마 %K17_CNAME()%가 떠올린 의미와는 다를걸」
		PRINTW
		PRINTFORML 「인형 만드는 데에 쓸만해 보여서」
		PRINTFORML 「아떻게 해도 나 혼자선, 나 혼자만의 데이터로는 부족해서……」
		PRINTFORML 「그렇지, 그러면 이렇게 하자. 당신이 날 만져도 어느 정도는 허락해줄게」
		PRINTFORML 「하지만 %K17_CNAME()%가 나를 만지면, 나도 곧바로　"답례"할 거거든?」
		PRINTW
		PRINTFORMDL 만약, 이런 곳이나, 저런 곳에 손대면……?
		PRINTFORML 「마지막에 그런 곳에 닿았으니, 그 손도 필시 만족하겠지요?」
		PRINTFORML 「몸에서 작별 인사하게 될 테니깐」
		PRINTFORMDL 히익
		PRINTW
		PRINTFORML 「후훗, 농담이에요? 그래도 여성에게 손 댄다는 걸 잊지 말아줬으면 해」
		PRINTFORMDL 눈은 웃지 않았다
	ENDIF

	
	
	;통상, 욕실 판정해 선택
	TRYCALL M_KOJO_MESSAGE_COM_K17_302_1_선택지
	
	;성공시
	SIF TFLAG:193 == 1
		PRINTFORMDL %타겟은% 왠지 기뻐 보였다……
		
	PRINTW
ENDIF
RETURN 1

;====================================================================================================
;302-1-선택지 스킨십 선택지
;카게로 대사의 흉내로 보입니다만 꿀꺽입니다, 미안해요
;어라-생각했던 것보다 아주 커져 버렸다, 이체코라 너무 하겠지
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_302_1_선택지
#DIM iRT = 0		;관계성　GRT_EX로 취한다
#DIM BathFlag = 0	;욕실 플래그
#DIM iHoldHands = 0	;손을 잡는 선택지 플래그-? 알까 일본어로 써라
#DIM iExFlag, 5		;확장 선택지 플래그
#DIMS cDoll			;인형의 표시 텍스트
#DIMS cEx, 5			;확장 선택지 캐릭터라인
#DIM iRand=0		;랜덤 값의 용기

;각종 초기화
iRT=K17_GRT_EX()
VARSET BathFlag
VARSET iHoldHands
VARSET iExFlag
VARSET cDoll
VARSET cEx
VARSET iRand

;욕실 체크
SIF BATHCHECK(CFLAG:MASTER:현재위치) && IN_HOME(CFLAG:MASTER:현재위치)
	BathFlag = 1
;성공 or연회시 평상시보다 대담하게
SIF TFLAG:193 == 1 || CFLAG:TARGET:직종 == 49
	iRT++


PRINTL
PRINTFORMDL 자, 그럼 어쩌지……
PRINTL

;욕실시
IF BathFlag
	TRYCALL M_KOJO_MESSAGE_COM_K17_302_1_선택지_욕실(iRT)
	RETURN 1
ENDIF


;----선택지 장소라든지의 판정 길어질 것 같아서 변수에 넣는다
;생활능력 없음이라면 전부 안 됨
IF !FLAG:생활능력무
	;귀, 목은 특별히 이루어
	iExFlag:0=1
	iExFlag:1=1
	;허벅지 데이트중 걸으면서 손을 잡는(커맨드 나오고 있는은 두이므로), 허벅지 손대는 것은 그만두자
	IF !(CHK_DATENOW(CFLAG:TARGET:데이트중) && CFLAG:MASTER:현재위치 != OMANEKIBEYA() && (CFLAG:TARGET:현재위치 % 100) % 10)
		iExFlag:2 = 1
		iHoldHands = 1
	ENDIF
	
	;허벅지 방에서 둘이서
	SIF INROOM(CFLAG:현재위치) && GET_TARGETNUM()==1
		iExFlag:3 = 1
ENDIF

;인형은 특별히 이루어 텍스트의 변경은 있어
iExFlag:4 = 1

;----선택지 표시 판정 관계성 판정
SIF iRT >= K17C_사모
	cEx:0 = 귀에 입김을 내뿜는다
	
SIF iRT >= K17C_사모키스
	cEx:1 = 목덜미에 키스한다
	
SIF iRT >= K17C_사모우후후
	cEx:2 = 허벅지 부비부비
	
SIF iRT >= K17C_연모
	cEx:3 = 뒤에서 허벅지를 만져본다

;인형 표현 처리 샹하이 우선으로
cDoll = %K17_GET_DOLL_CNAME(0)%
cEX:4 = 허를 찔러 %cDoll%에게 스킨십


;통상 스킨십 처리
;관계성으로 조건을 채우고 있으면 텍스트 표시
;장소적으로 무리이면 선택할 수 없는 표시
IF !BathFlag && TCVAR:K17C_ID:K17C_TC_스킨십 == 0
{
	CALL K17_ASK_M(
		"손을 잡는다", iHoldHands,
		"몸을 찔러본다", 1,
		"머리카락을 쓰다듬는다", 1,
		"어깨를 주무른다", 1,
		cEx:0, iExFlag:0,
		cEX:1, iExFlag:1,
		cEX:2, iExFlag:2,
		cEX:3, iExFlag:3,
		cEX:4, iExFlag:4,
		"랜덤", 1,
		"오늘 하루 랜덤", 1)
}
ENDIF

;랜덤 때
IF !BathFlag && (RESULT == 9 || RESULT == 10 || TCVAR:K17C_ID:K17C_TC_스킨십)
	SIF RESULT == 10
		TCVAR:K17C_ID:K17C_TC_스킨십 = 1
	;선택잡(우려
	WHILE 1
		RESULT=RAND:9
		SELECTCASE RESULT
			CASE 0
				SIF iHoldHands
					BREAK
			CASE 1 TO 3
				BREAK
			CASE 4 
				SIF iRT >= K17C_사모 && iExFlag:0
					BREAK
			CASE 5
				SIF iRT >= K17C_사모키스 && iExFlag:1
					BREAK
			CASE 6
				SIF iRT >= K17C_사모우후후 && iExFlag:2
					BREAK
			CASE 7
				SIF iRT >= K17C_사모우후후 && iExFlag:3
					BREAK
			CASE 8
				SIF iExFlag:4
					BREAK
		ENDSELECT
	WEND

ENDIF
SIF TCVAR:K17C_ID:K17C_TC_스킨십 != 1
	PRINTL

;---------------------------
;각 스킨십의 묘사 첫회와 RT판정 있으면 이거 참 너무 한 ……길다
;---------------------------
SELECTCASE RESULT
	;---------------------------
	;손을 잡는 손을 잡으면(자) 함께
	;---------------------------
	CASE 0
		PRINTFORMDL %조교자는% %CALLNAME:TARGET%의 손을 잡았다
		SIF TFLAG:193 == 1
			PRINTFORMDL %타겟은% 뺨을 붉힌 채 기쁜듯이 손을 마주 잡았다
		PRINTW
		CALL M_KOJO_MESSAGE_COM_K17_603_1
		CALLF FIRSTTIME(@"스킨십{RESULT}")
		RETURN 1
		
	;---------------------------
	;몸을 쿡쿡
	;---------------------------
	CASE 1
		PRINTFORMDL %CALLNAME:TARGET%의 몸을 찔러보았다
		PRINTW
		;첫회
		IF FIRSTTIME(@"스킨십{RESULT}")
			PRINTFORML 「하앗 %K17_BLUSH()% 간지러워」
			PRINTFORML 「다른 사람이 만지니깐 뭔가 좀 신선하네」
			PRINTFORML 「내 쪽에서도 답례야…… 에잇, 에잇…… 어머나, 의외로 재미있는걸」
			PRINTFORMDL 서로 옆구리를 쿡쿡 찔러댔다
			RETURN 1
		ENDIF
		
		;2회째 이후
		SELECTCASE iRT
			CASE IS >= K17C_연모
				PRINTFORML 「%K17_RS("하앗/냐앙/싫어") %%K17_BLUSH()%」
				PRINTFORML 「답례야, %K17_RS("에잇 에잇/쿡쿡/딱딱")%」
				PRINTFORMDL 당분간 서로 쿡쿡 찌르고 있다가, 그만 기세가 지나쳐서 %CALLNAME:TARGET%의 %K17_RS("젖가슴/가슴")%을 쿡쿡 찔러 버렸다
				PRINTFORML 「%K17_RS("하앗/냐앙/싫어/아앙")%%K17_HEART()%　……%K17_RS("변태/색골") %%K17_BLUSH()%」
				PRINTFORMDL 복수로 %K17_RS("가슴/유두")%을 쿡쿡 찔려버렸다
			CASE IS >= K17C_아는사람
				PRINTFORML 「응∼%K17_RS("간지럽다니깐/아하하하핫")%」
				PRINTFORMDL 오랫동안 서로를 쿡쿡 찔러대었다
		ENDSELECT
		
	;---------------------------
	;머리카락을 쓰다듬는다
	;---------------------------
	CASE 2
		PRINTFORMDL %CALLNAME:TARGET%의 머리카락을 쓰다듬어보았다
		PRINTW
		;첫회
		IF FIRSTTIME(@"스킨십{RESULT}")
			PRINTFORML 「응…… 저기, 머리카락은 좀……」
			PRINTFORMDL 손으로 만지기엔 미안할 정도로 고운 금발이었다
			PRINTFORML 「마을에서도 아이들이 자주 잡아당기더라. 금발이 드문 걸까……」
			PRINTFORML 「게다가 내 머리카락은 곱슬머리라……」
			PRINTFORMDL 아래서부터 퍼올려 보면 푹신한 탄력인데, 머릿카락은 가늘면서도 반짝반짝 빛나보인다
			PRINTFORMDL 확실히, 이건 영원히 쓰다듬고 싶어질 정도다
			PRINTFORML 「아 정말……%K17_BLUSH(2)%」
		RETURN 1
		ENDIF
		
		iRand = K17_LOWER_LIMIT_RAND(iRT, K17C_사모우후후, K17C_연모고백)
		;2회째 이후
		SELECTCASE iRand
			CASE IS >= K17C_연모고백
				PRINTFORMDL 뭔가 좋은 향기가 나서, 내친 김에 맡아 보았다
				PRINTFORML 「왓, 저기%K17_BLUSH()% 뭘 냄새 맡고 그래 %K17_BLUSH(1)%」
				PRINTFORML 「좋은 향기라니…… 좀 %K17_RS("이상해/부끄러워")%, 그거 %K17_BLUSH()%」
			CASE IS >= K17C_사모우후후
				PRINTDATAL
					DATAFORM 「응, %K17_RS("너무 쓰다듬었어/간지러워")%……%K17_BLUSH()%」
					DATAFORM 「응―…… 그래도 이거 좋아……%K17_BLUSH()%」
					DATAFORM 「%K17_CNAME()%의 인형이 아니거든? ……%K17_BLUSH()%」
				ENDDATA
				PRINTFORML 「저기, 내 말 듣고 있어? 정말……」
				PRINTFORMDL %CALLNAME:TARGET%의 머리카락 감촉에 취해 홀려버릴 것 같다……
				PRINTFORML 「답례로 머리 빗어줄게」
			
			CASE IS >= K17C_아는사람
				PRINTFORML 「응……뭔가 마을 꼬마들 같네 %K17_CNAME()%」
				PRINTFORML 「%K17_CNAME()%의 머리카락도 막 흐트려놓을 거니깟」
	ENDSELECT
	
	;---------------------------
	;어깨를 주무른다
	;---------------------------
	CASE 3
		;첫회
		IF FIRSTTIME(@"스킨십{RESULT}")
			PRINTFORMDL %CALLNAME:TARGET%의 어깨를 주물러보았다
			PRINTW
			PRINTFORML 「……아하하하핫, 미, 미안해. 간지러워」
			PRINTFORMDL 하지만 근육은 전혀 엉켜있지 않았다
			PRINTFORML 「이래봬도 마법사니깐. 몸도 늙지 않고, 인형 조작할 때도 꽤 운동이 된다구」
			PRINTFORMDL 뭔가 치사하다……
			RETURN 1
		ENDIF
		
		PRINTFORMDL %CALLNAME:TARGET%의 어깨를 상냥하게 어루만진다
		PRINTW
		;2회째 이후
		SELECTCASE iRT
			CASE IS >= K17C_사모우후후
				PRINTDATAL
					DATAFORM 「응, 고마워」
					DATAFORM 「딱 이 정도로 하는게 기분 좋아……」
				ENDDATA
				PRINTFORML 「답례로 %K17_RS("기분 좋게/상냥하게")% 맛사지해줄게」
			CASE IS >= K17C_아는사람
				PRINTFORML 「으응……%K17_RS("간지럽다니깐/아하하핫")%……」
				PRINTFORML 「답례로 %K17_RS("아프게/따끔하게")% 맛사지해줄래」
		ENDSELECT
		
	;---------------------------
	;귀에 입김을 내뿜는 사모↑
	;---------------------------
	CASE 4
		PRINTFORMDL %CALLNAME:TARGET%의 귀에 입김을 불었다
		PRINTW
		;첫회
		IF FIRSTTIME(@"스킨십{RESULT}")
			PRINTFORML 「히얏!……%K17_BLUSH()%　뭐한거야……」
			PRINTFORMDL 의외로 놀란거 같다
			PRINTFORML 「흐~응, 어떻게 답례 해줄까나……」
			PRINTFORMDL 귀를 약하게 당겨졌다
			RETURN 1
		ENDIF
	
		;2회째 이후
		IF iRT >= K17C_연모 && K17_RT_FG() & K17C_RTF_키스
			PRINTFORMDL 내친 김에 가볍게 입술로 꺠물어 보았다
			PRINTFORML 「%K17_RS("하앗/냐앙/싫어")%%K17_HEART()%」
			PRINTFORML 「정말, 답례야…… %K17_RS("아앙/덥석")%」
			IF K17_RT_FG() & K17C_RTF_고백
				PRINTFORML 「……좋아해」
				PRINTFORMDL 라고 %타겟은% %CALLNAME:MASTER%의 귓가에 속삭였다
			ENDIF
		ELSEIF iRT >= K17C_사모
			PRINTFORML 「%K17_RS("하앗/냐앙/싫어") %%K17_BLUSH()%」
			PRINTFORML 「우으, 이상한 소리 나와 버리니까, 그만하라고 했잖아……」
		ENDIF
	
	;---------------------------
	;목덜미에 키스 사모키스↑
	;---------------------------
	CASE 5
		PRINTFORMDL %CALLNAME:TARGET%의 목덜미에 키스해보았다
		PRINTW
		;첫회
		IF FIRSTTIME(@"스킨십{RESULT}")
			PRINTFORML 「히양 %K17_BLUSH()%……」
			PRINTFORMDL %타겟은% 간지러운 듯 몸을 비틀었다
			IF CFLAG:기정사실 & 합의_키스
				PRINTFORML 「에엣………… %K17_BLUSH()% ……뭐야? 마킹하는 거야? 후훗」
			ELSE
				PRINTFORML 「뭐! 뭐야 뭐야, 뭐하는거야……? 그 부분의 의미 알고 한거야?」
			ENDIF
			PRINTW
			PRINTFORML 「아앙 %K17_BLUSH()% 이 녀석, 키스자국 내면 안 돼……」
			;PRINTFORMDL 들키면 곤란하게 되는 일이라도 있는걸까
			PRINTFORML 「다른 사람들이 멋대로 상상하니깐…… 창피하잖아 %K17_BLUSH()%」
			PRINTFORMDL 반격으로 툭툭 두들겨 맞아버렸다
			RETURN 1
		ENDIF
	
		;여기는 실치로 볼까 분위기로 선택할 수 있어도 반응은 실제의 관계성
		SELECTCASE K17_GRT()
			CASE IS >= K17C_연모고백
				PRINTFORML 「%K17_RS("하앗/냐앙/싫어")%%K17_HEART()%」
				PRINTFORML 「아 정말∼, 또 자국 냈지? 그렇게 %K17_RS("마킹/독점/소유물 선언")% 안 해도 되거든?」
				PRINTFORMDL 목덜미에 달라붙는 %CALLNAME:MASTER%의 머리를 %타겟은% 상냥하게 쓰다듬어주었다
			CASE IS >= K17C_사모키스
				PRINTFORML 「%K17_RS("하앗/냐앙/싫어") %%K17_BLUSH()%」
				PRINTFORML 「응, 거기보다 더 나은, 키스 할 곳, 있지 않아?」
				PRINTFORMDL 그런 말을 들었어도 %마스터는% 한동안 %CALLNAME:TARGET%의 목덜미에 키스 비를 퍼부었다
			CASEELSE
				;키스전
				PRINTFORML 「……%K17_RS("으응/큿/으음") %%K17_BLUSH()%」
				PRINTFORML 「그럼, 복수는 어떤 식으로 나올 것 같아?」
				PRINTFORMDL 목덜미를 꼬집혔다. 아프다
		ENDSELECT
	
		;복수 키스마크
		IF TALENT:연모
			CALL K17_CHOICE(@"「정말, 복수로 %K17_CNAME()%에게도 키스마크 붙여버릴 거다?」","좋아","그만둬")
			IF !RESULT
				;좋아
				PRINTFORML 「응∼~ 쪽∼~%K17_HEART(2)% 쪽%K17_HEART()% 괜찮아? 안 아팠어? 할짝할짝……」
				;키스마크 복붙
				PRINTFORMDL %타겟은% %CALLNAME:PLAYER%에게 달라붙어선 목덜미를 강하게 빨듯이 키스마크를 남겼다…
				PRINTFORMDL 마크가 사라질 때까지 다른 여자 앞에는 안 가는 게 좋을 거 같다…
				TFLAG:키스마크 = TARGET
				
				IF CFLAG:TARGET:약점잡음 > 0
					;약점이 있는 경우 처리
					CFLAG:TARGET:약점잡음 --
					IF CFLAG:TARGET:약점잡음 > 0
						PRINTFORMDL  이걸로 %타겟은% 전에 약점 잡힌 것을 조금 용서해 준 것 같다
					ELSE
						PRINTFORMDL 이걸로 %타겟은% 전에 약점 잡힌 것을 조금 용서해 준 것 같다
					ENDIF
				ELSE
					;약점없이도 키스마크 붙인다든가……묶음새 플레이 아니 속박되고 플레이
					PRINTFORMDL 어쩐지 %CALLNAME:TARGET%%K17_RS("의 소유물/만의 물건")%이 된 것 같았다
				ENDIF
			ELSE
				;그만두어
				PRINTFORML 「뭐야…… 진짜, 그 정도로 싫어하지 않아도…… 되잖아……」
			ENDIF
		ENDIF
	;---------------------------
	;허벅지 부비부비 사모 우후후↑
	;---------------------------
	CASE 6
		PRINTFORMDL %CALLNAME:TARGET%의 허벅지를 부비부비해보았다
		PRINTW
		;첫회
		IF FIRSTTIME(@"스킨십{RESULT}")
			PRINTFORML 「아……응 %K17_BLUSH()% ……」
			PRINTFORML 「부끄러워 %K17_BLUSH()%　……저기…… 뭔가……」
			PRINTFORMDL 어째서인지 평소보다 얼굴이 빨갛다
			PRINTFORMDL %타겟은% %CALLNAME:MASTER%에게 얼굴을 대고 귓속말 해왔다
			PRINTW
			PRINTFORML 「……치한 당하는 거…… 같은 느낌이야 %K17_BLUSH()%」
			PRINTFORMDL 부비부비 부비부비……
			PRINTFORMDL 흥분해서 과하게 부비적거렸더니, 허벅지를 꽉 꼬집혔다
			RETURN 1
		ENDIF
		
		;2회째 이후　GET_TARGETNUM
		;복장 제한(치마를 넘긴다 발췌)&옥내 둘이서
		IF iRT >= K17C_연모 && iExFlag:3 && (EQUIP:치마|| EQUIP:원피스|| EQUIP:기모노)
			PRINTFORMDL 모처럼 단 둘만 있어서 %K17_GET_CLOTHNAME_BOTTOM(TARGET)%에 손을 집어넣고 맨다리를 만져봤다
			PRINTFORML 「어……저기?」
			PRINTFORML 「……%K17_RS("하앗/냐앙/싫어") %%K17_BLUSH()%　……저기」
			PRINTFORML 「%K17_RS("하앗/냐앙/싫어") %%K17_BLUSH()%……%K17_RS("하앗/냐앙/싫어")%%K17_HEART()%　……지금은 %K17_RS("하지 말라고/안 돼/못 써")%」
			PRINTFORMDL 부비부비 부비부비……
			PRINTFORMDL 흥분해서 과하게 부비적거렸더니, 허벅지를 꽉 꼬집혔다
			RETURN 1
		ELSEIF iRT >= K17C_연모
			PRINTFORML 「%K17_RS("아/응/싫어")%%K17_HEART()% 이제, %K17_RS("엉큼해/변태/바보")%%K17_HEART()%」
			PRINTFORML 「정말 %K17_RS("허벅지/다리/부비부비 하는 거")%, 좋아하네……%K17_RS("아/응/싫어")%%K17_HEART()%」
			PRINTFORMDL %타겟은% 싫어하는 걸까
			PRINTFORML 「……몰라, %K17_RS("아앙/냐앙/싫어")%%K17_HEART()%」
		ELSEIF iRT >= K17C_사모키스
			PRINTFORML 「%K17_RS("꺅/싫어/응")%%K17_BLUSH()% 정말…… 또 허벅지?」
			PRINTFORML 「그 정도로 %K17_RS("허벅지/다리/부비부비 하는 거")%, 좋아해……?」
		ENDIF
		PRINTFORMDL 복수로 엄청나게 허벅지를 꼬집혔다
	
	;---------------------------
	;허벅지에 접하는 연모↑둘이서
	;---------------------------
	CASE 7
		PRINTFORMDL %CALLNAME:TARGET% 뒤에서 못 움직일 정도로 바싹 껴안은 뒤, 허벅지에 손을 넣어보았다
		PRINTW
		;첫회
		IF FIRSTTIME(@"스킨십{RESULT}")
			PRINTFORML 「잠깐, 아앙%K17_HEART()% ……이거, 너무 변태 같지 않아?」
			PRINTFORMDL V라인을 천천히 더듬어 주니, %타겟이% 도리도리 떨고 있었다
			PRINTFORML 「후냐아∼~~……하아하아 %K17_HEART()%」
			PRINTFORMDL 음란한 부분을 자꾸 건드려 주니, 오히려 %CALLNAME:TARGET% 쪽에서 자신의 은밀한 곳을 %CALLNAME:MASTER%의 손가락에 가져다대려 하고 있었다
			PRINTW
			PRINTFORML 「아앙%K17_HEART()%, 안 돼~%K17_HEART()% 닿고 있어%K17_HEART()% 싫어%K17_HEART()%」
			PRINTFORML 「반격해, 줄 거니깐……」
			PRINTFORMDL %타겟은% 복수로 엉덩이를 비벼대면서, %CALLNAME:MASTER%의 고간을 자극했다
			RETURN 1
		ENDIF
	
		;2회째 이후
		IF TALENT:연인 || iRT>=K17C_연인
			iRand = RAND(K17C_연모고백, K17C_연인+1)
		ELSE
			iRand = RAND(iRT, iRT+1)
		ENDIF
		SELECTCASE iRand
			CASE IS >= K17C_연인
				PRINTFORML 「아앙%K17_HEART()%　또, 이거어%K17_HEART()%　……정말 %K17_BLUSH()%」
				PRINTFORML 「이거 절대로 이쪽이 불리해 아앗%K17_HEART()%」
				PRINTFORML 「하아하아%K17_HEART()% ……하앙%K17_HEART()%　%K17_허덕여소리(K17C_접수_합의덮쳐계,-1, 3,1)%」
				;취지 바뀌어
				PRINTFORMDL 당분간 서로의 고간과 엉덩이를 정신없이 문질러 대고 있었다……
				PRINTW
				PRINTFORML 「저기, 이거 좀…… 적당히…? 하자?%K17_HEART()%」
				PRINTFORMDL 그 사이에도 %CALLNAME:TARGET%의 허벅지에 손을 넣고선 부비적거렸다
				PRINTW
			
			CASE IS >= K17C_연모고백
				PRINTFORML 「아앙%K17_HEART()% 좀, 멈추고, 들어줘%K17_HEART()% ……정말%K17_BLUSH()%」
				PRINTFORMDL ∨라인에 비비적 거리고 있으니 %타겟이% 팔을 붙잡고선, 이쪽을 뒤돌아보고 있었다
				PRINTW
				PRINTFORML 「있잖아, 이 자세 %K17_RS("좋아, 할지도/왠지, 침착해져/로 꽉 안아줬으면 좋겠어")%……」
				PRINTFORMDL 부탁받은 대로 밀착해주니 %CALLNAME:MASTER%의 고간이 %CALLNAME:TARGET%의 엉덩이 때문에 자극 받았다
				PRINTFORML 「꺄아악%K17_HEART()% 아프다니깐∼%K17_BLUSH()% %K17_RS("반격/답례")%해줄, 거니까……」
				PRINTFORMDL 그 사이에도 %CALLNAME:TARGET%의 허벅지에 손을 넣고선 부비적거렸다
				PRINTW
			
			CASE IS >= K17C_연모
				PRINTFORML 「싫어%K17_HEART()% 이제, 평범하게…… 해도 되는%K17_HEART()%걸…… 정말%K17_BLUSH()%」
				PRINTFORMDL 부비적대면서, %CALLNAME:TARGET%의 반응을 즐기며 팬티의 라인을 확인했다
		ENDSELECT
	
		;팬티 기대
		IF !CFLAG:TARGET:노팬티 && !(EQUIP:TARGET:레오타드||  EQUIP:TARGET:보디슈트)
			PRINTFORMDL 이 감촉은…… 오늘 팬티는 「%PANTSNAME(EQUIP:TARGET:하반신속옷2, TARGET)%」인가……?
			PRINTFORML 「아 정말, 뭘 더듬고 있는 거야……」
		ELSEIF CFLAG:TARGET:노팬티
			PRINTFORMDL 이 감촉은…… 안 입었다, 라고……?
			PRINTFORML 「아 정말, 뭘 더듬고 있는 거야……」
			PRINTFORML (지금 안 입고 있는 거 들키겠어……)
		ENDIF
	
		;발기 체크 맞히고 있어?
		IF BASE:MASTER:발기 >= 1000 && TALENT:MASTER:성별 >= 2
			PRINTFORML (닿고 있어, 닿고 있다구…… %K17_CALL_G(MASTER, 0,1)%, 엉덩이에 %K17_RS("둥글둥글/스윽스윽/울퉁불퉁")%한 게……%K17_BLUSH()%)
		ELSEIF TALENT:MASTER:성별 == 1
			PRINTFORML (닿고 있어, 닿고 있다구…… 등에 부드러운 %K17_CALL_P(K17C_부위B, 1, MASTER)%……%K17_BLUSH()%)
		ENDIF
	;---------------------------
	;허를 찔러 인형
	;---------------------------
	CASE 8
	
		PRINTFORMDL 이번엔 뭘 당할지 기대하는 %CALLNAME:TARGET%의 허를 찔러서, %cDoll%에게 스킨십했다
		PRINTW
		;첫회
		IF FIRSTTIME(@"스킨십{RESULT}")
			PRINTFORML 「그럼, 뭘 당할까……………… 응?」
			PRINTFORMDL 머리카락을 쓰다듬어보니, 단정히 정리된 긴 머리카락이 찰랑찰랑하며 손가락 사이를 빠져 나갔다
			PRINTFORM 「……저기……?」
			;샹하이호라이
			TRYCALL K17_인형대사(K17C_샹하이, 0)
			TRYCALL K17_인형대사(K17C_호라이, 1)
			PRINTFORMDL 머리 크기도 쓰다듬기에 딱 좋다
			PRINTFORML 「이 녀석―, 무시하지 말라구……」
			PRINTFORMDL %cDoll%만 신경 쓰고 있었더니 %타겟이% 질투에 불타고 있었다
			PRINTW
			PRINTFORM 「아냣, 바보」
			TRYCALL K17_인형대사(K17C_샹하이, 0,"바보 아냐?")
			TRYCALL K17_인형대사(K17C_호라이, 1,"바보 아냐?")
			PRINTFORMDL 조금 실망한 %타겟을% %마스터는% %cDoll%보다 더 귀여워했다
			CFLAG:K17C_ID:K17C_CF_샹하이호감도 = MIN(CFLAG:K17C_ID:K17C_CF_샹하이호감도 + 10,10000)
			RETURN 1
		ENDIF
		
		;2회째 이후
		
		;SIF CFLAG:K17C_ID:K17C_CF_샹하이호감도 > 10
		;iRand=RAND(0, LIMIT(CFLAG:K17C_ID:K17C_CF_샹하이호감도, 1,10000)) + CFLAG:K17C_ID:K17C_CF_샹하이호감도>10 ?  10#0
		iRand = K17_LOWER_LIMIT_RAND(CFLAG:K17C_ID:K17C_CF_샹하이호감도, 10,1000)
		
		SELECTCASE iRand
			CASE IS >= 10000
				PRINTFORM 「혹시 난 %cDoll%의 덤인 걸까……」
			CASE IS >= 500
				PRINTFORM 「요즘 %cDoll%에 너무 신경 쓰는 것 아냐? 확실히 좀…… %K17_RS("깨네/딱히?질투 안 했어/으음……")%」
			CASE IS >= 100
				PRINTFORM 「잘 됐네, 너희들……」
			CASE IS >= 30
				PRINTFORM 「이참에 인형 하나 만들어줄까?」
			CASE IS >= 10
				PRINTFORM 「뭔가 %cDoll%을 그 정도로 좋아하는 걸 보니, 나도 기쁘네」
			CASEELSE
				PRINTFORM 「……%K17_RS("부수/난폭하게 다루/더럽히")%면 안 돼……」
				TRYCALL K17_인형대사(-1, 1,"바보 아냐?")
				PRINTFORMDL %cDoll%를 쓰다듬는 %마스터를% 힐끔거리는 %타겟은% 조금 기가 막힌 눈치였다
				CFLAG:K17C_ID:K17C_CF_샹하이호감도 = MIN(CFLAG:K17C_ID:K17C_CF_샹하이호감도 + 1,10000)
				RETURN 1
		ENDSELECT
		;랜덤 사용할 수 있는 (분)편으로 대사 방편
		TRYCALL K17_인형대사(-1, 1, K17_RS("전투준비!/좋다구/바보 아냐?/뭐야/상냥하게 다뤄") )
		PRINTFORMDL %cDoll%을 귀여워한 뒤, %마스터는% %cDoll%%K17_RS("의 몇 배로/보다 더 많이/보다 훨씬 많이")% %타겟을% 귀여워해줬다
		CFLAG:K17C_ID:K17C_CF_샹하이호감도 = MIN(CFLAG:K17C_ID:K17C_CF_샹하이호감도 + 5,10000)
ENDSELECT
RETURN 1

;*********************************************************
;욕실 스킨십 따로 했다
;
;욕실에 함께 들어갈 수 있는 것은 RT의 연모↑
;일단 더러워지고 서로 취하지만 , 느긋하게 쉬는 편이 빠르다
;씻는 계는 너무 편리했으므로 3시간 간격으로 괜찮을까(욕실이 6시간
;씻을 수 있지 않아도 스킨십은 할 수 있다는 것으로
;경험수도 시험삼아 더해 보았다
;1시간 주기에 B경험+1등으로 3시간 마다에 깨끗이 된다 라고만의 한자
;
;	인수 1	：GRT_EX의 값
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_302_1_선택지_욕실(ARG)
#DIM iExFlag, 2		;확장 선택지 플래그
#DIMS cEx, 2			;확장 선택지 캐릭터라인
#DIM iRand			;랜덤 값의 용기
VARSET iExFlag
VARSET cEx
VARSET iRand

IF ARG >= K17C_연모생해금
	cEx:0 = 전도 씻어 준다
	cEx:1 = 전도 씻어 준다
ENDIF
SIF !FIRSTTIME(@"목욕탕 스킨십 1", 1)
	iExFlag:0 = 1
SIF !FIRSTTIME(@"목욕탕 스킨십 클리어 2", 1)
	iExFlag:1 = 1

IF TCVAR:K17C_ID:K17C_TC_스킨십 == 0
{
CALL K17_ASK_M(
	"첨벙첨벙 해본다", 1,
	"같이 등을 씻는다", 1,
	"등을 씻겨준다",!FLAG:생활능력무,
	"머리카락을 씻어준다", 1,
	cEx:0, iExFlag:0,
	cEx:1, iExFlag:1 && !FLAG:생활능력무,
	"랜덤", 1,
	"오늘 하루 랜덤", 1
)
}
ENDIF
;랜덤 때
IF RESULT == 6 || RESULT == 7 || TCVAR:K17C_ID:K17C_TC_스킨십
	SIF RESULT == 6
		TCVAR:K17C_ID:K17C_TC_스킨십 = 1
	;선택잡(우려
	WHILE 1
		RESULT=RAND:5
		SELECTCASE RESULT
			CASE 0,1,3
				BREAK
			CASE 2
				SIF !FLAG:생활능력무
					BREAK
			CASE 4
				SIF ARG >= K17C_연모생해금 && iExFlag:0
					BREAK
			CASE 5
				SIF ARG >= K17C_연모생해금 && iExFlag:1 && !FLAG:생활능력무,
					BREAK
		ENDSELECT
	WEND
ENDIF

SELECTCASE RESULT
	
	;---------------------------
	;참방참방 한다
	;---------------------------
	CASE 0
		PRINTFORMDL %타겟과% 물을 끼얹으면서 놀았다
		PRINTW
		;동성으로서 들어오고 있는 경우
		IF !GETBIT(TALENT:MASTER:2, 1) && HETEROSEX(MASTER, TARGET) && !TALENT:TARGET:연모
		PRINTFORML 「꺅, 그렇게 나왔겠다~ 받아라!」
			RETURN 1
		ENDIF
		
		;첫회
		IF FIRSTTIME(@"목욕탕 스킨십 0")
			PRINTFORML 「꺄악, 아이 같은 짓 좀 그만 하라니깐 정말……」
			PRINTFORMDL 전혀 상대해주질 않아서, 약간 울컥한 %마스터는% %CALLNAME:TARGET%에게 물을 끼얹었다
			PRINTFORML 「네, 네, 욕실에서 뛰어다니면 안……, 돼, 철퍽-」
			PRINTFORML 「아하하, 방심했네~ 바보」
			PRINTFORMDL 통을 써서 끼얹는 건 반칙이다
			PRINTFORML 「흐흥, 싸움엔 비겁%K17_BLUSH()% 아, 사람이 말하고 있을 때는 하지 마」
			PRINTFORMDL 당분간 서로 뜨거운 물을 끼얹어대면서 놀았다
			PRINTW
			PRINTFORML 「저기, 서로 이렇게 장난치면서 노는 거…… 뭔가, 좋네」
			PRINTFORMDL 평소에 똑 부러지게 지내는 %CALLNAME:TARGET%한테는, 이렇게 까불면서 지내는 건 드문 일일까
			PRINTFORML 「음~ 뭐, 그 정도까진 아니지만……, 후훗」
			RETURN 1
		ENDIF
	
		;2회째 이후
		PRINTDATADL
			DATAFORM 「아 정말, 그렇게 나왔겠다~ 받아라!」
			DATAFORM 「이 녀석, 또 했겠다. 에잇, 에잇」
			DATAFORM 「아하하, 이번엔 갚아준 거야」
			DATAFORM 「후…… 코에 들어가버렸어」
		ENDDATA
		PRINTFORMDL %타겟은% 한쪽 팔로 가슴을 숨기면서도 %CALLNAME:MASTER%에게 자꾸 반격해온다
		PRINTFORMDL 목욕탕에서의 가드가 여전히 단단해서, 제대로 볼 수가 없었다
		PRINTFORML 「어머, 방심하고 있네, 에잇! 정말 %K17_RS("어딜 보고 있는 거야/어딜 정신없이 보고 있는 걸까나/야한 생각만 하고 있으니까 당하는 거야")%」
		PRINTFORMDL 당분간 그렇게 놀고 있으니……

		PRINTDATADL
			DATAFORM 그만 기세가 지나쳐서 %CALLNAME:TARGET%의 %K17_RS("젖가슴/엉덩이/가슴")%에 터치해버렸다
			DATAFORM 떠드느라 방심한 %CALLNAME:TARGET%의 팔에서 %K17_RS("가슴/젖가슴/유두")%가 삐져나와버렸다
			DATAFORM %마스터는% 자세가 무너져서, %CALLNAME:TARGET%%K17_RS("를 밀어넘어트린 상태가 되고/의 가슴에 얼굴을 집어넣은 상태가 되고/의 다리 사이로 넘어지고")% 말았다
			DATAFORM %마스터는% 기세를 몰아서 %타겟을% %K17_RS("껴안아/덮쳐")%버렸다
		ENDDATA
		;반응
		IF CFLAG:기정사실 & 합의_우후후
			;우후후 합의 있어
			PRINTFORML 「%K17_RS("꺄앙/하앗/냐앙")%%K17_HEART()% ……참 내 %K17_RS("엉큼해/색골/변태")%」
		ELSE
			;없음
			PRINTFORML 「%K17_RS("꺄/히/어")%……%K17_BLUSH(2)%」
		ENDIF
		PRINTFORMDL %타겟은% 얼굴이 새빨개져서 굳어버렸다
	;---------------------------
	;등을 흘려 받는다
	;---------------------------
	CASE 1
		PRINTFORMDL %타겟이% 등을 씻어주기로 했다
		PRINTW
		;동성으로서 들어오고 있는 경우
		IF !GETBIT(TALENT:MASTER:2, 1) && HETEROSEX(MASTER, TARGET) && !TALENT:TARGET:연모
			PRINTFORML 「예~, 영차…… 영차…… 안 아파?」
			SIF K17_BODY_WASH(MASTER)
				PRINTFORMDL %마스터는% 구석구석까지 깨끗이 씻겨졌다
			RETURN 1
		ENDIF
		
		;경험 UP
		EXP:K17C_ID:봉사쾌락경험++
		
		;첫회
		IF FIRSTTIME(@"목욕탕 스킨십 1")
			PRINTFORML 「후우…… 알아, 이런 상황이라면 서로 씻겨 주는 흐름이겠지」
			PRINTFORML 「그럼 등 돌리고, 앉아봐」
			PRINTFORMDL 들은대로 한 뒤에 기다리고 있었지만…… 좀처럼 시작되지 않는다
			PRINTFORMDL 무슨 일인지 궁금해서 뒤돌아보니, 무릎을 꿇은 채로 거품 투성이인 %타겟이% 있었다
			PRINTFORML 「네, 그럼 시작할게…… 라고 해봤자 나도 처음이지만……」
			PRINTW
			PRINTFORML 「……응%K17_HEART()% ……영차%K17_HEART()%…… 어……때?%K17_HEART()%」
			PRINTFORMDL 다른 게 아닌 거품투성이의 %타겟이% %CALLNAME:MASTER%의 찰싹 달라붙어있다
			PRINTFORMDL %OPPAI_DESCRIPTION(TARGET, 1)%의 부드러운 감촉이 등에 전해졌다
			PRINTFORML 「냐앙%K17_HEART()% ……이거 굉장히…… 응…… 변태스러운데……%K17_HEART()% 어때? 잘 하고 있어?」
			PRINTW
			PRINTFORMDL 최고였다…… 이런 건 누구한테 배운거야?
			PRINTFORML 「에엣, 책에서 읽은 건데…… 흐응%K17_HEART()%」
			PRINTFORMDL 고마워, 그 책과 뭔가 착각하고 있는 %CALLNAME:TARGET%
			;좋아할지도……
			PRINTW
			PRINTFORML (어머나 역시, 믿어준 걸까……)
			PRINTFORML (책에서 배운 건 이렇게 잘못 배운 지식인 척 위장해서, 대담하게 행동하라는 방법이었는데…… 후훗)
			;꺄-소악마-
			PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 헌신적인 등 씻기를 즐겼다……
			SIF K17_BODY_WASH(MASTER)
				PRINTFORMDL %마스터는% 구석구석까지 깨끗이 씻겨졌다
			RETURN 1
		ENDIF
		
		;2회째 이후
		;봉사정신에 의한 분기 랜덤 선택
		iRand = K17_LOWER_LIMIT_RAND(ABL:TARGET:봉사정신, 0,10)
		;10넘은 첫회시에 클리어
		SIF ABL:TARGET:봉사정신 >= 10 && FIRSTTIME(@"목욕탕 스킨십 클리어 1", 1)
			iRand = 10
		SELECTCASE iRand
			CASE IS >= 10
				PRINTFORML 「하아하아%K17_HEART()% ……%K17_RS("응/영차/흐응")%%K17_HEART()% ……%K17_RS("응/영차/흐응")%%K17_HEART()% 하아하아 %K17_HEART()%」
				PRINTFORMDL 왠지 %CALLNAME:TARGET%의 숨이 가쁘다. 몸의 움직임도 둔해진 게 느껴진다
				PRINTFORMDL 어쩌면 꽤 힘든 일을 눈치 없이 항상 부탁하고 있었던 걸까……
				PRINTFORML 「후엣……%K17_BLUSH()% 아냐, 이건……」
				PRINTFORML (……좀 더 봉사 해주고 싶어, 라고 말해도 괜찮은 걸……까)
				PRINTW
				PRINTFORML 「이, 있잖아…… 그…… 앞쪽도…… 해? 할까? 하자?%K17_HEART()%」
				PRINTFORMDL 당연히 싫지 않지만, 대답도 하기 전에 벌써 앞쪽을 껴안아졌다
				PRINTFORML 「%K17_SEXY_CONVERT("처음부터 이렇게 했으면 좋았을 텐데", 5, K17_HEART())%」
				PRINTFORMDL %타겟은% 거품투성이인 온몸을 사용해 %CALLNAME:MASTER%에게 봉사했다
				CALLF FIRSTTIME(@"목욕탕 스킨십 클리어 1")
			CASEELSE
				PRINTFORML 「……%K17_RS("응/영차/흐응")%%K17_HEART()% %K17_RS("응/영차/흐응")%%K17_HEART()%　%K17_RS("응/영차/흐응")%%K17_HEART()%」
				PRINTFORML 「어때? 기분 좋아?」
				PRINTFORMDL %CALLNAME:TARGET%의 가슴 등 씻기는 여전히 최고였다
				PRINTFORML 「%K17_SEXY_CONVERT("이제, 이런 식의 등 씻기 방법이 완전히 습관이 되어버렸네", 8, K17_HEART())%」
				PRINTFORMDL %OPPAI_DESCRIPTION(TARGET, 1)%의 부드러운 감촉을 등으로 즐겼다
		ENDSELECT
		SIF K17_BODY_WASH(MASTER)
			PRINTFORMDL %마스터는% 구석구석까지 깨끗이 씻겨졌다
	;---------------------------
	;등을 흘려 준다
	;---------------------------
	CASE 2
		PRINTFORMDL %CALLNAME:TARGET%의 등을 씻어주기로 했다
		PRINTW
		;동성으로서 들어오고 있는 경우
		IF !GETBIT(TALENT:MASTER:2, 1) && HETEROSEX(MASTER, TARGET) && !TALENT:TARGET:연모
			PRINTFORML 「아하하…… 좀 창피하네」
			SIF K17_BODY_WASH(TARGET)
				PRINTFORMDL %타겟을% 구석구석까지 깨끗이 씻겨줬다
			RETURN 1
		ENDIF
		
		;경험 UP 
		EXP:K17C_ID:노출쾌락경험++
		
		;첫회
		IF FIRSTTIME(@"목욕탕 스킨십 2")
			PRINTFORML 「에엣, 싫어」
			PRINTFORMDL 갑자기 거절 당했다
			PRINTFORML 「하지만 장난 칠 것 같고……」
			PRINTFORMDL 그런 짓 안 해요, 공주님
			PRINTFORML 「뭐 그렇게까지 말한다면 해도 좋지만…… 상냥하게 해야 돼?」
			PRINTW
			PRINTFORMDL %마스터는% 마치 깨지는 물건을 다루듯이 상냥하고, 그리고 정성스레 %CALLNAME:TARGET%의 등을 닦았다
			PRINTFORML 「후훗…… 뭔가 평범했네? 고마워, 기분 좋았어」
			PRINTFORML 「정말로 공주님이 된 듯한 기분이었어」
			PRINTW
			PRINTFORMDL 눈치채지 못 했겠지만, 등 넘어로 내내 %CALLNAME:TARGET%의 %OPPAI_DESCRIPTION(TARGET, 1)%을 응시하고 있었다
			PRINTFORMDL 평상시처럼 목욕할 떄 %타겟은% 가능한 한 국부를 숨기고 있었지만,
			PRINTFORMDL 등을 씻고 있을 때엔 방심했던 건지, 팔 사이로 힐끔힐끔 %NIPPLE_DESCRIPTION(TARGET, 1)%가 보이고 있었다
			PRINTFORML (잡아먹을 듯 가슴만 쳐다보다니…… 속보여…… 후훗, 귀여워)
			;꺄-소악마-
			SIF K17_BODY_WASH(TARGET)
				PRINTFORMDL %타겟을% 구석구석까지 깨끗이 씻겨줬다
			RETURN 1
		ENDIF
		
		;2회째 이후
		SELECTCASE ARG
			CASE IS >= K17C_연모
				PRINTDATAL
					DATAFORM 「응∼~……세심한 %K17_RS("손놀림이/봉사/손가락이")%네∼♪」
					DATAFORM 「어라~…… 뭐야, 내 몸을 만지는 게 그렇게 %K17_RS("즐거웠/기뻤/재밌었")%어?」
					DATAFORM 「의외…… %K17_RS("엉큼한/색골스러운/변태스러운")% 짓…… 안 하는구나」
					DATAFORM 「후훗…… 그 정도로 %K17_RS("상냥하게/세심하게/신중하게")% 안 해줘도 괜찮아∼」
				ENDDATA
		ENDSELECT
		
		;노출벽에 의한 분기　1이상 하한 잘라 랜덤 선택
		iRand = K17_LOWER_LIMIT_RAND(ABL:노출벽, 1,5)
		;3넘은 첫회시에 클리어
		SIF ABL:TARGET:노출벽 >= 3 && FIRSTTIME(@"목욕탕 스킨십 클리어 2", 1)
			iRand = 3
			
		SELECTCASE iRand
			CASE IS >= 5
				PRINTFORML 「아∼~%K17_HEART()% 거기, 기분 좋아……%K17_HEART()%」
				PRINTFORML (%K17_CALL_P(K17C_부위B)% 봐줘도…… 괜찮지만…… 너무 대놓고 보는 건, 상스러워……)
				PRINTFORML (오히려 봐줘서, 흥분해 주면…… 기쁘겠는데…… 그러니까…… 어떻게 해야……)
				PRINTW
				PRINTFORML 「이, 있잖아 저기…… 조금…… 그」
				PRINTFORMDL 쳐다보니 %타겟은% 평상시였으면 부끄러운 듯 가슴을 숨기던 팔 한쪽을, 천천히 내려버렸다
				PRINTFORMDL 등을 돌린 채로 팔을 올리더니, 그대로 %CALLNAME:MASTER%의 목에 걸고 끌어안았다
				PRINTFORML 「여기도…… 부탁……해? 무심코, 그 다음에, 하는 김에……%K17_HEART()%」
				PRINTFORMDL 그러면서 다른 팔로 %CALLNAME:MASTER%의 팔을 잡아 가슴으로 이끌었다……
				PRINTW
				PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 %OPPAI_DESCRIPTION(TARGET, 1)%을 손바닥으로 즐기면서, 부탁 받은 대로 앞쪽도 깨끗이 씻겨줬다
				PRINTFORML 「아응…… 제대로 씻어………%K17_허덕여소리(K17C_접수_애원계,-1, 4,1)%」
				PRINTFORMDL 민감한 반응을 반복하는 %CALLNAME:TARGET%의 몸을, %마스터는% 오랫동안 말없이 닦았다
			CASE IS >= 3
				PRINTFORML 「아앙%K17_HEART()% 좀 창피해%K17_HEART()%」
				PRINTFORML (침착하게 보이려고 하는 것 같지만, %K17_CALL_P(K17C_부위B)% 보는 것만으로도 전부 들켰어……)
				PRINTW
				PRINTFORML (여기…… 살짝…… %K17_RS("힐끔힐끔/서비스/보여버린다?")%……)
				PRINTFORML (엄청나게 %K17_RS("보고 있어/숨소리 거칠어졌어/흥분하고 있어")%…… 후훗)
				PRINTFORML (뭔가 즐거워졌네)
				PRINTFORMDL %타겟이% 창피한 듯이 몸을 비틀 때마다 출렁출렁 흔들리는 %OPPAI_DESCRIPTION(TARGET)%을 바라보는 행복한 일이었다
				CALLF FIRSTTIME(@"목욕탕 스킨십 클리어 2")
			CASE IS >= 1
				PRINTFORML (으…… 또 %K17_CALL_P(K17C_부위B)% 보고 있어……)
				PRINTFORML (그래도 조금이라면, 보여줘도 좋을 것 같아……)
				PRINTW
				PRINTFORML (아…… 지금 보였을까? %K17_CALL_P(K17C_부위B_유두)% 봐버렸어…?)
				PRINTFORMDL %CALLNAME:TARGET%의 등 너머로 %OPPAI_DESCRIPTION(TARGET, 1)%을 바라보다가
				PRINTFORMDL 때때로 슬쩍 %NIPPLE_DESCRIPTION(TARGET, 1)%를 엿볼 수 있는 행복한 일이었다
			CASEELSE
				PRINTFORML (으음…… 엄청나게, %K17_CALL_P(K17C_부위B)% 보고 있네……)
				PRINTFORMDL %CALLNAME:TARGET%의 등 너머로 %OPPAI_DESCRIPTION(TARGET, 1)%를 바라보는 즐거운 일이었다
		ENDSELECT
		PRINTFORML 「고마워, 꽤 %K17_RS("기분 좋/능숙하/잘 하")%더라%K17_HEART()%」
		SIF K17_BODY_WASH(TARGET)
			PRINTFORMDL %타겟을% 구석구석까지 깨끗이 씻겨줬다
		
	;---------------------------
	;머리를 감아 준다
	;---------------------------
	CASE 3
		PRINTFORMDL %타겟이% 머리를 감아주기로 했다
		PRINTW
		;동성으로서 들어오고 있는 경우
		IF !GETBIT(TALENT:MASTER:2, 1) && HETEROSEX(MASTER, TARGET) && !TALENT:TARGET:연모
			PRINTFORML 「네~, 그럼 물 흘릴게―」
			SIF K17_BODY_WASH(MASTER)
				PRINTFORMDL %마스터는% 구석구석까지 깨끗이 씻겨졌다
			RETURN 1
		ENDIF
		
		;경험 UP 
		EXP:K17C_ID:애정경험++
		
		;첫회
		IF FIRSTTIME(@"목욕탕 스킨십 3")
			PRINTFORML 「좋아, 그 정도는. 그렇지만 감겨주는 건 안 해줘도……」
			;생각나지 않았다로부터
			PRINTFORML 「예전에 말했던 것 같지만, 내 머리카락은 조금 곱슬거리다보니 스스로 안 하면 스타일이 깔끔하게 안 나와서」
			PRINTFORMDL 다른 사람한테 머리 감겨졌던 적이 있던 건가……
			PRINTFORML 「%K17_CNAME(K17C_신키ID)%한테요」
			PRINTFORMDL 아…… 어째서인지 몹시 납득이 갔다
			PRINTW
			PRINTFORML 「'가려운 곳은 없으세요∼?' 라고 묻는 게 기본이려나」
			PRINTFORMDL 모처럼 %타겟이% 정면에 있는데 눈을 감아야된다니 허무하다……
			PRINTFORML 「아앙%K17_HEART()% 저기, 움직이지 마~ 싫어%K17_HEART()% 일부러 한 거지- 아이 참%K17_HEART()%」
			PRINTFORMDL 이마 근처에서 부드러운 감촉을 느낀 %마스터는% 머리를 문질러댔다
			PRINTFORMDL %타겟은% 그런 머리를 붙잡고는, 힘껏 가슴에 눌렀다
			PRINTFORML 「그대로 얌전하게 있어, 참 내…… 어머나, 진짜 얌전해졌네」
			PRINTFORML 「진짜, %K17_CNAME()%은, 가슴 너무 좋아하잖아…… 정말로」
			PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 %OPPAI_DESCRIPTION(TARGET, 1)%에 얼굴을 끼운 채로, 얌전히 머리카락을 감겨졌다
			SIF K17_BODY_WASH(MASTER)
				PRINTFORMDL %마스터는% 구석구석까지 깨끗이 씻겨졌다
			RETURN 1
		ENDIF
		
		;2회째 이후
		iRand = RAND(0, LIMIT(ABL:봉사정신, 0,5)+1)
		SELECTCASE iRand
			CASE 5
				PRINTFORML 「예, 와주세요♪ 아앙%K17_HEART()% 이런 때만 솔직한 거 봐∼」
				PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 가슴에 얼굴을 묻었다
				PRINTFORMDL 얼굴의 양방향이 부드러운 감촉에 쌓여서, %마스터는% 편안한 기분이 들었다
				PRINTFORML 「착한 아이구나…… 싫어? 후훗, 귀여워라%K17_HEART()%」
				PRINTFORML 「%K17_허덕여소리(K17C_접수_합의덮쳐계,-1, 3)% 욘석, 장난치지 마―」
				PRINTFORML 「아하하. 바보 같네, 우리」
			CASEELSE
				PRINTFORML 「그냥 %K17_CALL_P(K17C_부위B)%에 파묻히고 싶은 거 아냐? 정답이구나- 참 내, 엉큼하긴%K17_HEART()%」
				PRINTFORMDL 그러고 있으면 침착해지니 어쩔 수 없다
				PRINTFORML 「어리광까지 부리고 정말…… %K17_허덕여소리(K17C_접수_애원계,-1, 1)% %K17_허덕여소리(K17C_접수_합의덮쳐계,-1, 2)% 예~, %K17_RS("얌전히 있으렴/착한 아이로 있으렴")%―♪」
				PRINTFORML 「그래…… 착하구나…… 가만히…… 괜찮아? 안 가려워?」
		ENDSELECT
		PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 %OPPAI_DESCRIPTION(TARGET, 1)%에 얼굴이 파묻힌 채 머리카락을 감겨졌다
		SIF K17_BODY_WASH(MASTER)
			PRINTFORMDL %마스터는% 구석구석까지 깨끗이 씻겨졌다
		
	;---------------------------
	;전도 씻어 준다
	;---------------------------
	CASE 4
		PRINTFORMDL %타겟이% 앞쪽도 씻어주기로 했다 
		PRINTW
		;경험 UP
		EXP:K17C_ID:봉사쾌락경험++
		
		;첫회
		IF FIRSTTIME(@"목욕탕 스킨십 4")
			PRINTFORML 「이쪽 사람들 전부 연인끼리 다들 이런 걸 하고 있겠지?」
			PRINTFORMDL 아직도 뭔가 오해를 하고 있었다……
			PRINTFORML 「……좋 , 노력해볼게」
			PRINTFORMDL 왠지 모르겠지만 %타겟이% 두 손에 주먹을 쥐고 힘차게 기합을 넣었다
			PRINTFORMDL 두 손으로 가슴 앞쪽을 꽉 쥐고 있어서, 마치 가슴을 강조하는 것처럼 보이기도 했다
			PRINTFORML 「벌써 눈이 엉큼해졌어……? 평범하게, 평범하게 할 거야」
			PRINTFORMDL 그렇게 말하면서 %타겟은% 평범하게 자신의 몸을 거품투성이로 만들고, 평범하게 몸을 문질러대며 %CALLNAME:MASTER%의 몸을 씻기 시작했다
			PRINTW
			PRINTFORML 「어, 때…… 잘 되고… 있어? 아앙%K17_HEART()%」
			PRINTFORML 「있잖아…… 나……% K17_CNAME()%의…… 몸 씻어주는 거%K17_HEART()% 능숙해졌을지도……」
			;PRINTFORML 「이런 문화가 일상인 이쪽 사람들이라 해도, 지지 않을 테니깐?」
			PRINTFORMDL 고마워요, 책의 작가님……
			;좋아할지도……
			PRINTFORML (진심으로…… 이거 좋아하게 돼버린 걸지도)
			PRINTFORMDL %타겟은% 헌신적으로 %CALLNAME:MASTER%의 온몸을 씻었다
			SIF K17_BODY_WASH(MASTER)
				PRINTFORMDL %마스터는% 구석구석까지 깨끗이 씻겨졌다
			RETURN 1
		ENDIF
		
		;2회째 이후
		;발기장대 체크
		IF BASE:MASTER:발기 >= 1000 && TALENT:MASTER:성별 >= 2
			PRINTFORML 「아유, %K17_CALL_G(MASTER, 0)% 딱딱하게 %K17_RS("발기해/서/커져")%가지곤……」
			PRINTFORML 「이렇게 해야 될까……」
			PRINTFORMDL 그렇게 말하면서 %CALLNAME:MASTER%의 %TINKO(MASTER)%를 가슴에 끼우더니, 아래에서부터 위로 문질러대길래 무심코 허리를 움직여버렸다
			PRINTFORML 「%K17_SEXY_CONVERT("안 돼, 씻겨주는 것뿐이야", 5, K17_HEART())%」
			PRINTFORML 「이봐 %K17_HEART()%　%K17_허덕여소리(K17C_접수_합의덮쳐계,-1, 2)% 정말, 얌전히 좀 있어주세요」
		ELSE
			SELECTCASE ARG
				CASE K17C_연인
					PRINTFORML 「이렇게…… 거의 무릎 위로 앉아버리는 게 되네…… 영차」
					PRINTFORMDL %타겟이% 문지를 때마다 젖가슴이 출렁대는 걸 보면서, %마스터는% 온몸을 내맡겼다
					PRINTFORML 「저기, 이거…… 거의, 하고 있는 것처럼…… 됐네……」
					PRINTFORMDL 그 말을 듣자마자 %마스터는% 흥분해선 허리를 놀리기 시작했다
					PRINTFORML 「%K17_SEXY_CONVERT("또, 더러워진다고 참", 5, K17_HEART())%」
					PRINTFORML 「%K17_SEXY_CONVERT("안 돼~, 아직 씻는 중이잖아", 5, K17_HEART())%」
				CASEELSE
					PRINTFORML 「어때……? 가렵진 않아? 후훗, 얌전해지니 귀여워%K17_HEART()%」
					PRINTFORMDL 몸 전부 미끌미끌하고, 너무 행복해서 움직일 수도 없었다
			ENDSELECT
		ENDIF
		PRINTFORMDL %타겟은% 헌신적으로 %CALLNAME:MASTER%의 전신을 씻었다
		SIF K17_BODY_WASH(MASTER)
			PRINTFORMDL %마스터는% 구석구석까지 깨끗이 씻겨졌다
		
	;---------------------------
	;전도 씻어 준다
	;---------------------------
	CASE 5
		PRINTFORMDL %CALLNAME:TARGET%의 앞쪽을 씻어주기로 했다
		PRINTW
		;경험 UP
		EXP:K17C_ID:B경험++
		
		;첫회
		IF FIRSTTIME(@"목욕탕 스킨십 5")
			PRINTFORML 「……응……상냥하게……해줘」
			PRINTFORMDL 등을 씻겨 주면서도, %마스터는% %타겟을% 마치, 공주님을 다루듯 상냥하게 다뤘다
			PRINTFORML (……앞쪽, 보인다니깐…… 어째서 이렇게 당당한거야, 정말)
			PRINTFORML 「……후우, 뭔가 평범하네,  아, 아니 정성스레 씻겨주는건 맞는데……」
			PRINTFORMDL %마스터는% 당분간 정성스럽고 상냥하게 %CALLNAME:TARGET%의 몸을 아름답게 닦았다
			PRINTW
			PRINTFORML (……중요한 곳……일부러 피하고 있는……거야?　뭔가……애태우는거 같아)
			PRINTFORML 「이, 있잖아, 이 부분…… 더러워진…… 상태, 야」
			PRINTFORMDL 그렇게 말하면서 %타겟은% %CALLNAME:MASTER%의 손을 잡아 당겨선 자신의 가슴으로 끌었다
			PRINTFORML 「%K17_허덕여소리(K17C_접수_합의덮쳐계, ABL:TARGET:B감각, 2)%저기, 이 부분 아직 더럽지 않아?　%K17_허덕여소리(K17C_접수_애원계, ABL:TARGET:B감각, 3,1)%」
			PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 몸을 열심히 씻었다
			SIF K17_BODY_WASH(MASTER)
				PRINTFORMDL %타겟을% 구석구석까지 깨끗이 씻어줬다
			RETURN 1
		ENDIF
		
		;2회째 이후
		SELECTCASE ABL:TARGET:B감각
			CASE IS >= 5
				PRINTFORML 「하아 응%K17_HEART()%　저기, ……이 부분 %K17_RS("깨끗하게 한 거/씻고 있는거")%……죠?　%K17_허덕여소리(K17C_접수_합의덮쳐계, ABL:B감각, 2,1)%」
				PRINTFORMDL %타겟이% 너무 민감한 게 나쁜거야, 그저 맨손으로 가슴을 씻고 있는 것뿐이다
				PRINTFORML 「절대~……거짓말이야 %K17_HEART()%　%K17_RS("비벼 대고 있는/주물럭 대고 있는")%것%K17_HEART()%」
			CASEELSE
				PRINTFORML 「응……괜찮아……%K17_허덕여소리(K17C_접수_합의덮쳐계, ABL:B감각, 1)%그대로도……%K17_허덕여소리(K17C_접수_합의덮쳐계, ABL:B감각, 2,1)%」
		ENDSELECT
		PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 몸을 열심히 씻어줬다
		SIF K17_BODY_WASH(TARGET)
			PRINTFORMDL %타겟을% 구석구석까지 깨끗이 씻어줬다
ENDSELECT
RETURN 1

;****************************************
;몸 씻을 뿐(만큼) 것이나 청구서 코피페 회복 없음
;내친 김에 3시간 열면(자) 성공 나중에 정서한다
;****************************************
@K17_BODY_WASH(ARG)
#FUNCTION
#DIM iID
#DIM 전회세탁시간 =0, 0;MASTER 0 상대 1
VARSET iID
SIF ARG == K17C_ID
	iID = 1
SIF DAY * 1440 + TIME - 전회세탁시간 :iID < 180
	RETURNF 0
RESET_STAIN ARG
STAIN:ARG:4 = 0
PALAM:ARG:4 /= 2
CFLAG:ARG:질내사정 = 0
CFLAG:ARG:애널사정 = 0
CFLAG:ARG:구내정액 = 0
CFLAG:ARG:안면정액 = 0
CFLAG:ARG:손에정액 = 0
전회세탁시간 :iID = DAY * 1440 + TIME
RETURNF 1


;====================================================================================================
;303, 사과한다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_303
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_303_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_303_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL

;	IF TFLAG:193 == -2 || TFLAG:193 == 2
;		;PRINTFORML %조교자는%%CALLNAME:TARGET%에 무례를 사과해 과자상자를 건네주었다
;	ELSE
;		;PRINTFORML %조교자는%%CALLNAME:TARGET%에 무례를 사과했다
;	ENDIF
	IF TFLAG:193 == 1
		;PRINTFORML %타겟은% 웃어 용서해주었다…
		PRINTFORML 「알았어, 용서해줄게……」
		PRINTFORM 「정말이지, 그렇게 풀 죽은 얼굴 하지 마…… 정말」
		TRYCALL K17_인형대사(-1, 1, K17_RS("잘 됐네/봐줘/봐줬다") )
	ELSEIF TFLAG:193 == 2
		;PRINTFORML %타겟은% 과거 에 대해서 없었던 것으로 해 주었다…
		;PRINTFORMW %타겟은% 반발각인 LV1을 잃었다
		PRINTFORML 「들었던 대로 태도를 바꿔왔단 거네」
		PRINTFORML 「또 곧바로 우쭐대면 안 돼」
	ELSEIF TFLAG:193 == 0
		;PRINTFORML %타겟은% 어쩔 수 없이 %조교자를% 용서했다…
		PRINTFORM 「정말, %K17_CNAME()%도 어쩔 수 없네……」
		TRYCALL K17_인형대사(-1, 1, K17_RS("어쩔 수 없네/또 화나게 하지 마"))
	;ELSEIF TFLAG:193 == -2
		;PRINTFORML %타겟은% 과자상자를 받아 주지 않았다…
		;PRINTFORML %타겟은% 아직 용서해주진 않는 것 같다…
	ELSE
		;아직 용서(허락)하지 않아
		IF TALENT:담력 < 0
			;PRINTFORML 그러나%타겟은% 아직 울고 있다…
			PRINTFORM 「……내버려둬…… 흑…… 흐흑……」
			TRYCALL K17_인형대사(-1, 1,"앨리스…")
		ELSE
			;PRINTFORML 그러나%타겟은% 아직 화나 있다…
			PRINTFORM 「……흥」
			TRYCALL K17_인형대사(-1, 1, K17_RS("바보 아냐?/조금 더 힘내/흥흥"))
			SIF K17_GRT(TARGET) >= K17C_사모
				PRINTFORML (뭔가, 타이밍을 놓쳐 버린 느낌이야……)
		ENDIF
	ENDIF
	
	;허락한＆사모 이상
	SIF K17_GRT(TARGET) >= K17C_사모 && TFLAG:193 >= 0
		PRINTFORML (이래서 반해버린 쪽이 더 약하다는 걸까……)
	
	PRINTW
ENDIF
RETURN 1
;====================================================================================================
;304, 일을돕는다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_304
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_304_1
PRINTW
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_304_1
#DIM DYNAMIC iRT
iRT = K17_GRT_EX(TARGET)
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;304, 일을돕는다
;분노 기분 나쁘다
LOCAL = 1
;-------------------------------------------------
IF LOCAL && CFLAG:빡침 || TALENT:기분 == -1
	PRINTFORML 「%K17_SHUFFLE_잠꼬대(K17_RS("하아/후우/으응~"))%」
	PRINTFORMDL %타겟은% 기분이 안 좋은거 같아서, %마스터는% 묵묵히 작업을 계속했다
	RETURN 1
ENDIF

;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;304, 일을돕는다
;통상
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	SELECTCASE iRT
		CASE IS >= K17C_연모
			PRINTFORML 「아아, 좋아요. %K17_RS("앉아/기다려")%줘, 이건 내 일이니까……」
			PRINTFORML 「%K17_RS("돕고 싶다구/같이 하자구")%?　후훗, 고마워, %K17_CNAME(MASTER, 1)%」
			;직종 본다
			IF CFLAG:직종 == 44
				;가사
				PRINTFORML 「뭔가…… 좋네, 이렇게 둘이서 같이 부엌에 있다는 느낌이……%K17_HEART()%」
			ENDIF
		CASEELSE
			PRINTFORML 「아, 도와주는 거야?　고마워」
	ENDSELECT
	PRINTFORMDL %타겟은% 왠지 기분이 매우 좋아보였다
	
	;일잔량을 봐, 끝난 순간을 취한다
	IF BASE:일량 <= 0
		PRINTW
		PRINTFORML 「후우, %K17_RS("끝났/정리 됐")%구나」
		SELECTCASE CFLAG:직종
			;가사
			CASE K17C_직종_가사
				
				IF iRT >= K17C_사모밀회
					PRINTFORML 「수고했어, %K17_CNAME()%…… 저기, 이리로 %K17_RS("와봐/와줘")%」
					TRYCALL K17_응석부리게해
				ENDIF
				
			;인형극의 정리
			CASE K17C_직종_인형극
				PRINTFORML 「자, 이건 답례야」
				PRINTFORMDL 엿을 받았다…… 아이들과 똑같은 취급이었다
		ENDSELECT
	ENDIF
ENDIF
RETURN 1
;====================================================================================================
;305, 무릎베개받는다
;커맨드 판정 친밀 3,5,8,11, 이상으로 얻을 수 있는 소스치 바뀐다
;스킵 해 코피페 세분화
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_305
;CALL TRAIN_MESSAGE
TRYCALL K17_SKIP_TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_305_1
PRINTW
CALL K17_DATE_HITOGOMI_MESSAGE
RETURN 1

@M_KOJO_MESSAGE_COM_K17_305_1
#DIM iRT=0
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	
	;분노 붙는다
	IF K17_CHECK_ANGER_COM(TARGET)
		PRINTFORMDL %조교자는% %CALLNAME:TARGET%한테 무릎베개해주지 않을래, 하고 부탁해봤다
		PRINTW
		PRINTFORML 「싫어……」
		RETURN 1
	ENDIF
	
	;마스터의 체형이 너무 크고
	IF TFLAG:193 == -5
		PRINTFORMDL %조교자는% %CALLNAME:TARGET%한테 무릎베개 받았다
		PRINTW
		PRINTFORML 「우규읏……, 이거 무리야……」
		PRINTFORMDL %CALLNAME:MASTER%의 머리가 얹혀진 %타겟은% 마치 개구리가 밟혀 죽는듯한 소리를 냈다
		PRINTFORMDL %마스터는% 당황해서 머리를 떼었다
		RETURN 1
	ENDIF
	
	;사모 첫회
	IF FIRSTTIME(@"{SELECTCOM}말", 1) && K17_GRT() >= K17C_사모
		PRINTFORMDL %조교자는% %CALLNAME:TARGET%한테 무릎베개해주지 않을래, 하고 부탁해봤다
		PRINTW
		PRINTFORML 「무릎베개? 좋아, 해줄게…… 자, 이리 온」
		PRINTFORML 「왜, 창피한 거야? ……귀여워라, 후훗」
		PRINTFORMDL %타겟은% %CALLNAME:MASTER%의 머리를 상냥하게 쓰다듬어 주었다
		PRINTFORMDL 어쩐지 오늘은 평소보다도 더 다정한 느낌이 들었다
		PRINTW
		PRINTFORML 「옛날에 말야, %K17_CNAME(K17C_신키ID)%한테 이런 식으로 자주 무릎베개를 받았어…… 그래서인지 %K17_CNAME()%의 기분을 알 수 있어」
		PRINTFORML 「나도 이런 걸 할 수 있게 됐구나, 하고 생각하니 조금 감회가 새로워서……」
		PRINTFORMDL 그렇게 말하면서 먼 곳을 보고 있는 %CALLNAME:TARGET%의 얼굴은, 매우 온화하고 모성에 넘쳐있는 모습이었다
		CALLF FIRSTTIME(@"{SELECTCOM}말")
		RETURN 1
	ENDIF
	
	;-----------------
	;통상 처리 개시
	;-----------------
	iRT = K17_GRT_EX()
	;성공 여부 판정을 추가
	iRT += TFLAG:193
	PRINTFORMDL %조교자는% %CALLNAME:TARGET%한테 무릎베개 받았다
	PRINTW
	;-----------------
	;대사의 표현 솜씨
	;-----------------
	SIF FIRSTTIME(@"{SELECTCOM}말", 1) && iRT >= K17C_사모키스
		iRT = K17_MAX_LIMIT_RAND(iRT, K17C_사모키스, K17C_연모고백)
	SELECTCASE iRT
		CASE IS >= K17C_연모고백
			PRINTFORML 「어때? 기분 좋아? %K17_CNAME()%…… 진짜 어리광쟁이 %K17_RS("씨네/씨구나―, 아하핫/네")%%K17_HEART()%」
		CASE IS >= K17C_연모
			PRINTFORML 「뭐야? 어리광부리고…… 후훗, 귀여워, 아하핫」
		CASE IS >= K17C_사모키스
			PRINTFORML 「좋아, 이리 와」
		CASE IS >= K17C_친구
			PRINTFORML 「……얘―, %K17_RS("무겁다/답답하다")%니깐 참, 아하하」
		CASE IS >= K17C_아는사람
			PRINTFORML 「…………무거워」
	ENDSELECT
	
	;-----------------
	;확장
	;-----------------
	IF iRT >= K17C_사모키스 && (TFLAG:밭일성공도 || EX:MASTER:오늘의청소회수)
		;일or청소했다
		PRINTFORML 「오늘도 \@TFLAG:밭일성공도? 일#청소\@ 열심히 했구나…… 피곤해?」
		PRINTDATAL
			DATAFORM 「매일 열심히 하니깐…… 후훗, %K17_RS("착한 아이, 착한 아이/잘한다, 잘한다")%」
			DATAFORM 「이 정도쯤은, 언제라도 %K17_RS("응석부려도 되거든? /치유해줄게")%」
			DATAFORM 「가끔은 이런 느낌으로, %K17_RS("응석부려도/여기서 쉬어도/푸념해도")% 돼」
		ENDDATA
		PRINTW
		PRINTFORMDL 마치 아이처럼 어리광부렸다……
	ENDIF
	
	;-----------------
	;보내 묘사 코피페
	;-----------------
	SELECTCASE K17_GRT()
		CASE IS  >= K17C_연모
			PRINTFORMDL %타겟은% %CALLNAME:MASTER%의 얼굴을 바라보면서 머리를 상냥하게 쓰다듬고 있었다
		CASE IS >= K17C_사모
			PRINTFORMDL %타겟은% %CALLNAME:MASTER%의 머리를 상냥하게 쓰다듬었다
		CASE IS >= K17C_친구
			PRINTFORMDL %타겟은% 날뛰는 %CALLNAME:MASTER%의 머리를 찰싹찰싹 치고 있었다
		CASE IS >= K17C_아는사람
			PRINTFORMDL %타겟은% 몸을 움츠린 채 가만히 있었다
	ENDSELECT
	
	;-----------------
	;키스 요구
	;-----------------
	IF K17_GRT() >= K17C_사모키스 && BASE:TARGET:무드 >= 500
		PRINTFORML 「저기? 다음은 뭘 원하는지, 알겠어? 후훗」
		PRINTFORMDL 그렇게 말하면서 %타겟은% 장난스레 웃음 지으며, %CALLNAME:MASTER%의 입술에 달려들었다
	ENDIF
	
ENDIF
RETURN 1
;====================================================================================================
;306, 배를어루만진다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_306
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_수면
IF !FLAG:시간정지 || !RESULT
	CALL M_KOJO_MESSAGE_COM_K17_306_1
ENDIF
RETURN 1

@M_KOJO_MESSAGE_COM_K17_306_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;306, 배를어루만진다
;임신중
LOCAL = 0
;-------------------------------------------------
IF LOCAL && TFLAG:193 == 1
	
ENDIF
RETURN 1
;====================================================================================================
;307, 뺨을집는다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_307
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_수면
SIF !RESULT
	CALL M_KOJO_MESSAGE_COM_K17_307_1

RETURN 1

@M_KOJO_MESSAGE_COM_K17_307_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !FLAG:시간정지

	;분노 붙는다
	IF K17_CHECK_ANGER_COM(TARGET)
		PRINTFORML 「저기…… 싫어 」
		PRINTW
		RETURN 1
	ENDIF
	;첫회
	IF FIRSTTIME(@"{SELECTCOM}말")
		PRINTFORML 「냐앙%K17_BLUSH()%　뭐 하는 거야 정말」
		PRINTFORML 「%K17_CNAME()%의 뺨도 당겨 버릴거야」
		PRINTFORML 「어머, 의외로 잘 늘어나네」
		PRINTW
		RETURN 1
	ENDIF
	
	;통상 처리
	IF TALENT:연모
		;PRINTFORML %타겟은% 쑥스러운 듯한 표정을 띄운채 답례해왔다…
		PRINTFORML 「답례야, %K17_RS("에잇 에잇/쿡쿡") %%K17_HEART2()%」
	ELSEIF ABL:친밀 > 5
		;PRINTFORML %CALLNAME:TARGET%도 흠칫흠칫 %CALLNAME:PLAYER%의 뺨에 손을 대었다…
		PRINTFORML 「%K17_RS("뭐/싫어/아앙")%……%K17_BLUSH()%」
	ELSEIF ABL:순종 >= 5
		;PRINTFORML %타겟은% 쑥스러운 듯한 표정을 띄우면서도 %CALLNAME:PLAYER%에게 무방비로 당하고 있었다…
		PRINTFORML 「%K17_RS("후냐/흐아앙/으음")%-……」
	ELSE
		;PRINTFORML %타겟은% 뺨을 부풀리더니 %CALLNAME:PLAYER%의 손을 치웠다…
		PRINTFORML 「%K17_RS("싫/아프")%다고 정말……」
	ENDIF
PRINTW
ENDIF
RETURN 1
;====================================================================================================
;308, 뺨을쿡쿡 찌른다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_308
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_308_1
RETURN 1

@M_KOJO_MESSAGE_COM_K17_308_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
;동침 때＆수면중
;-------------------------------------------------
IF LOCAL
	IF CFLAG:TARGET:수면
	;PRINTFORML %조교자는% 자고 있는 %CALLNAME:TARGET%의 뺨을 손가락으로 쿡쿡 찔렀다
		IF TFLAG:193 == 1
			;PRINTFORML %타겟은% 기쁜듯이 미소짓고 있다…
		
		ELSEIF TFLAG:193 == -1
			;PRINTFORML %타겟은% 싫은 듯이 얼굴을 돌렸다…
			PRINTFORML 「%K17_SHUFFLE_잠꼬대(K17_RS("싫어/읏/응/으응"))%」
			RETURN 1
		ENDIF
		PRINTFORML 「%K17_SHUFFLE_잠꼬대(K17_RS("흐아앙/에헤헷/에/냐앙"))%」
		RETURN 1
	ELSE
		;PRINTFORML %조교자는% 동침 중인 %CALLNAME:TARGET%의 뺨을 손가락으로 쿡쿡 찔렀다
		IF TFLAG:193 == 1
			;PRINTFORML %타겟은% 히죽히죽 거리며 복수 해 왔다…
			;분노 붙는다
			IF K17_CHECK_ANGER_COM(TARGET)
				PRINTFORML 「조금…… 싫어 」
				PRINTW
				RETURN 1
			ENDIF
			;첫회
			IF FIRSTTIME(@"{SELECTCOM}말")
				PRINTFORML 「히양 %K17_BLUSH()%　간지러워요」
				PRINTFORML 「다른 사람이 뺨에 손대는건, 뭔가 좀 신선하네」
				PRINTFORML 「내쪽에서도 답례야……에이 에잇……어머나, 의외로 재밌네요」
				PRINTFORMDL 서로 볼을 쿡쿡 찔러대었다
				RETURN 1
			ELSE
				PRINTFORML 「%K17_RS("하앗/냐앙/싫어") %%K17_BLUSH()%」
				PRINTFORML 「답례야, %K17_RS("에잇 에잇/쿡쿡")%」
				PRINTFORMDL 당분간 서로 쿡쿡 찔러대다가, 그만 기세가 지나쳐서 %CALLNAME:TARGET%의 입 속에 손가락을 쑤셔 버렸다
				PRINTFORML 「%K17_RS("하앗/냐앙/싫어")%%K17_HEART()%　%K17_RS("아암/우물/아암")%, 우물우물 , 응~쭙 %K17_HEART()%」
			ENDIF
		ELSEIF TFLAG:193 == -1
			;PRINTFORML %타겟은% 뺨을 부풀리더니 %CALLNAME:PLAYER%의 손을 치웠다…
			PRINTFORML 「응……%K17_RS("간지럽다니깐/아하하핫")%」
		ENDIF
	ENDIF
PRINTW
ENDIF
RETURN 1
;====================================================================================================
;309, 머리를어루만진다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_309
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_309_1
RETURN 1

@M_KOJO_MESSAGE_COM_K17_309_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;시간정지시 이외
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !FLAG:시간정지
	
	IF (K17_CHECK_ANGER_COM(TARGET) || CFLAG:TARGET:빡침 == 1 || TALENT:기분 == -1 )&& !CFLAG:TARGET:수면
		PRINTFORML 「조금……싫어 」
		PRINTW
		RETURN 1
	ENDIF
	
	;첫회 의식 있어
	IF FIRSTTIME(@"{SELECTCOM}말", 1) && !CFLAG:TARGET:수면
		PRINTFORML 「예전에 말했던거 같은데, 내 머릿카락은 곱슬거리니깐 다른 사람의 손 닿는거 싫어한다고……」
		PRINTFORML 「……정말…… 말 좀 들으세요 %K17_BLUSH()%」
		PRINTFORMDL 계속 쓰다듬으니 점점 얌전해지는 %타겟이% 신기해서, %마스터는% 오랫동안 쓰다듬었다
		CALLF FIRSTTIME(@"{SELECTCOM}말")
		PRINTW
		RETURN 1
	ENDIF
	IF CHK_DATENOW(CFLAG:TARGET:데이트중) && CFLAG:MASTER:현재위치 != OMANEKIBEYA()
		;PRINTFORML %조교자는%\@ TFLAG:데이트도중 ?  같이 걷는 # 같이 동행하는 \@%CALLNAME:TARGET%의 머리를 쓰다듬었다
		SELECTCASE TFLAG:193
			CASE 1
				;PRINTFORML %타겟은% 릴랙스한 표정을 띄운채 눈을 가늘게 떴다…
				SELECTCASE K17_GRT_EX()
					CASE IS >= K17C_사모우후후
						PRINTFORML 「%K17_RS("에헤헷/후훗/에헤∼")%……고마워요, %K17_RS("소중히 해/귀여워 해/신경써")%줘서」
					CASE IS >= K17C_아는사람
						PRINTFORML 「%K17_RS("아우/헤에/우으")%……」
				ENDSELECT
				
			CASE 0
				IF ABL:친밀 > 5
					;PRINTFORML %타겟은% 쑥스러운 듯한 표정을 띄우면서도 얌전히 %CALLNAME:PLAYER%에게 쓰다듬어 졌다…
					PRINTFORML 「%K17_RS("응/아우/아읏")%……%K17_BLUSH()%　뭐, 뭐야?　%K17_CNAME()%」
					
				ELSE
					;PRINTFORML %타겟은% 얼굴을 붉히며 %CALLNAME:PLAYER%의 손을 뿌리쳤다…
					PRINTFORML 「%K17_RS("그만 두세요/그만 둬/싫어")%, 정말……」
				ENDIF
			CASE -1
				;PRINTFORML …조금 너무 치근덕 댄거 같다
				PRINTFORML 「%K17_RS("읏/큿/음")%……」
		ENDSELECT
	ELSEIF CFLAG:TARGET:수면
		;PRINTFORML %조교자는% 자고 있는 %CALLNAME:TARGET%의 머리를 상냥하게 쓰다듬었다
		IF ABL:친밀 > 5
			;PRINTFORML %타겟은% 기분 좋은듯 웃고 있었다…
			PRINTFORML 「%K17_SHUFFLE_잠꼬대(K17_RS("아흑/후에/하앙"))%」
		ELSE
			;PRINTFORML %타겟은% 싫어하는 기색 없이 %CALLNAME:PLAYER%에게 쓰다듬어 졌다…
			PRINTFORML 「%K17_RS("흐아앙/에/냐읏")%……」
		ENDIF
	ELSE
		;PRINTFORML %조교자는%\@ CFLAG:TARGET:동침중 ?  동침 하는 # 상냥하게 \@%CALLNAME:TARGET%의 머리를 쓰다듬었다
		SELECTCASE TFLAG:193
			CASE 1
				;PRINTFORML %타겟은% 릴랙스 한 것 같은 표정을 띠며 눈을 좁혔다…
				SELECTCASE K17_GRT_EX()
					CASE IS >= K17C_연모고백
						PRINTFORML 「%K17_RS("에헤헷/후훗/에헤∼")%……고마워요, %K17_RS("소중히 해/귀여워 해/신경써")%줘서」
					CASE IS >= K17C_사모우후후
						PRINTFORML 「%K17_RS("에헤헷/후훗/에헤∼")%……이거 뭔가 %K17_RS("버릇 될 거/좋아하게 될 거/기분 좋은거")% 같아요」
					CASE IS >= K17C_아는사람
						PRINTFORML 「%K17_RS("아/에/")%……」
				ENDSELECT
			CASE 0
				IF ABL:친밀 > 5
					;PRINTFORML %타겟은% 쑥스러운 듯한 표정을 띄우면서도 얌전히 %CALLNAME:PLAYER%에게 쓰다듬어 졌다…
					IF RAND:2
						PRINTFORML 「……%K17_RS("므우/뭐야/우우")%」
					ELSE
						PRINTFORML 「%K17_RS("응/앗/아우")%……%K17_BLUSH()%　뭐, 뭐야?　%K17_CNAME()%」
					ENDIF
				ELSE
					;PRINTFORML %타겟은% 얼굴을 붉히면서 %CALLNAME:PLAYER%의 손을 뿌리쳤다…
					PRINTFORML 「%K17_RS("그만두세요/그만둬/싫엇")%, ……」
				ENDIF
			CASE -1
				;PRINTFORML …조금 너무 치근덕 댄거 같다
				PRINTFORML 「%K17_RS("읏/큿/응/……")%……」
		ENDSELECT
	ENDIF
PRINTW
ENDIF
RETURN 1
;====================================================================================================
;310, 엉덩이를어루만진다
;친밀 5 이하 뿌리치며　or담력-로 참는다
;친밀 9 이하 비명
;연모 되는 대로
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_310
IF FLAG:시간정지 || CFLAG:TARGET:수면 || CFLAG:우후후==2
	CALL TRAIN_MESSAGE
	TRYCALL M_KOJO_MESSAGE_COM_K17_수면애무
ELSEIF !FLAG:시간정지 && CFLAG:우후후 != 2
	CALL K17_SKIP_TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_310_1
	PRINTW
	;모브 묘사
	CALL K17_DATE_HITOGOMI_MESSAGE
ENDIF

RETURN 1

@M_KOJO_MESSAGE_COM_K17_310_1
#DIM iRT		;EX로 취한다
#DIM iDoll		;인형 들어갈 수 있고
#DIM iFriends	;친구 ID보관
#DIM iMOB		;타인이 있을까의 플래그
#DIMS cShade	;그늘 orSHIGEMI
#DIMS cHip		;엉덩이 상태 묘사
;--------------------
;초기화
;--------------------
VARSET cShade
VARSET cHip
VARSET iMOB

;EX로 취한다
iRT = K17_GRT_EX()
;DEBUGPRINTFORML 【M_KOJO_MESSAGE_COM_K17_310_1 관계성치({iRT})】
;인형 랜덤
iDoll = K17_GET_DOLL(-1)
;타캐릭터가 있을까 본다
SIF GET_TARGETNUM() > 1
	iMOB =1
;-------------------------------------------------
;개시 지문
;-------------------------------------------------
IF PREVCOM == 305
	PRINTFORMDL %조교자는% 무릎에 걸려 넘어진 채로 %CALLNAME:TARGET%의 %HIP(TARGET)%에 손을 뻗었다
ELSE
	PRINTFORMDL %조교자는% %CALLNAME:TARGET%의 등 뒤에서 %HIP(TARGET)%에 손을 뻗었다
ENDIF

;-------------------------------------------------
;310, 엉덩이를어루만진다
;기입 체크(=0, 비표시, 1, 표시)
;실패
;친밀 5 이하
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:193 == 1 || ( CFLAG:TARGET:빡침 == 1 || TALENT:기분 == -1 || (K17_CHECK_ANGER_COM(TARGET)&& !(TFLAG:193 == 4 && iRT >= K17C_사모) )|| iRT <= K17C_친구 )
	IF TALENT:TARGET:담력 == -1
		PRINTFORMDL %타겟은% 눈을 꼭 감고, 눈 가에 눈물이 고인 채로 %CALLNAME:PLAYER%의 성희롱을 참고 있따…
		PRINTFORMDL %조교자는% 약간 죄악감이 들었다
		PRINTW
		PRINTFORM 「……그만두어……%K17_BLUSH()%」
		TRYCALL K17_인형대사(iDoll, 1, K17_RS("울고있잖아/그만둬/여성의 적/앨리스…"))
	ELSE
		PRINTFORMDL %타겟은% 불쾌한 표정으로 %CALLNAME:PLAYER%의 손을 뿌리쳤다…
		PRINTW
		PRINTFORM 「%K17_RS("싫엇/꺄아악")%!　……%K17C_인형명 :iDoll%\@iDoll ?  #들\@!」
		TRYCALL K17_인형대사(iDoll, 1, K17_RS("치한/여성의 적/변태"))
		PRINTFORMDL %타겟은% %CALLNAME:MASTER%에게 로우 킥을 먹이더니 추가로 %K17C_인형명:iDoll%의 창이 날아왔다
	ENDIF
	RETURN 1
ENDIF
;-------------------------------------------------
;310, 엉덩이를어루만진다
;기입 체크(=0, 비표시, 1, 표시)
;친밀 9까지 orRT 사모 미만
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:193 <= 3 || iRT < K17C_사모
	IF OTOKOGIRAI(TARGET)
		PRINTFORMDL %타겟은% 작게 비명 지르며 몸을 움츠렸다
		PRINTFORMDL %조교자는% 약간 죄악감이 들었다
		PRINTW
		PRINTFORM 「%K17_RS("싫엇/꺄아악")%!　……그만해……」
		TRYCALL K17_인형대사(iDoll, 1, K17_RS("치한/여성의 적/변태"))
	ELSE
		PRINTFORMDL 얼굴을 붉힌 채 %CALLNAME:PLAYER%의 손을 뿌리쳤다……
		PRINTW
		PRINTFORM 「%K17_RS("싫엇/꺄아악")%……그만해, 이제……」
		TRYCALL K17_인형대사(iDoll, 1, K17_RS("치한/여성의 적/변태"))
	ENDIF
	RETURN 1
ENDIF
;-------------------------------------------------
;310, 엉덩이를어루만진다
;기입 체크(=0, 비표시, 1, 표시)
;RT사모 이상
;친밀 10이상 or 연모점등
;분노점등
LOCAL = 1
;-------------------------------------------------
IF LOCAL && (TFLAG:193 == 4 && iRT >= K17C_사모) && K17_CHECK_ANGER_COM(TARGET)
	PRINTFORML 「%K17_RS("아우/하우/우우")%……지금은 %K17_RS("안돼/싫엇")%%K17_허덕여소리( K17C_접수_억지로계,-1, 2,1)%」
	PRINTFORMDL %타겟은% 엉덩이를 흔들며 %CALLNAME:MASTER%의 손아귀에서 달아나려 했지만, 개의치 않고 쓰다듬었다
	PRINTFORML 「%K17_허덕여소리( K17C_접수_억지로계,-1, 3)% 화낼……거니 ……깐 %K17_허덕여소리( K17C_접수_억지로계,-1, 2,1)%」
	PRINTFORMDL %타겟은% 싫어하면서도, 느끼고 있었다
	RETURN 1
ENDIF
;-------------------------------------------------
;310, 엉덩이를어루만진다
;기입 체크(=0, 비표시, 1, 표시)
;RT사모 이상
;친밀 10이상 or 연모점등
;둘이서
;무릎베개 콤보
LOCAL = 1
;-------------------------------------------------
IF LOCAL && (TFLAG:193 == 4 && iRT >= K17C_사모) && (PREVCOM == 305 && !iMOB)
	PRINTFORML 「%K17_RS("하앗/아앙/냐앙")%%K17_HEART()%　%K17_RS("저기/싫어/아앙")%……거칠게 하지마, 정말」
	PRINTFORML 「아앙, 이 녀석, 어디에 얼굴 파묻는거야……바보」
	PRINTFORMDL 허리를 비틀며 도망치려는 %CALLNAME:TARGET%의 엉덩이를 잡기 위해 팔을 뻗었지만, 어느새 %마스터는% 고간에 얼굴을 집어넣은 상태가 되었다
	PRINTW
	;윤활 본다
	IF PALAM:윤활 > PALAMLV:4
		PRINTFORML (싫어……냄새 맡으면 안돼 ……%K17_CALL_G(TARGET, 1,0)%, %K17_RS("질퍽질퍽인 거/흠뻑 젖은거")% 들켜버린다……)
	ELSEIF PALAM:윤활 > PALAMLV:2
		PRINTFORML (싫어……냄새 맡으면 안돼 ……%K17_CALL_G(TARGET, 1,0)%, %K17_RS("찡해져 온 거/젖기 시작한거")% 들켜버린다……)
	ENDIF
	PRINTFORMDL 왠지 %CALLNAME:TARGET%한테서 좋은 냄새가 났다

	;장대 소유
	IF BASE:발기 >= 1000 && TALENT:성별 >= 2
		PRINTFORML (%K17_RS("아우/하우/우우")%……나의 %K17_CALL_G(TARGET, 3,1)%……비비지 말아줘……)
		PRINTFORMDL 얼굴을 고간에 집어넣어 보니 오돌토돌한 감촉을 느꼈다
	ENDIF
	RETURN 1
ENDIF
;-------------------------------------------------
;310, 엉덩이를어루만진다
;기입 체크(=0, 비표시, 1, 표시)
;RT사모 이상
;친밀 10이상 or 연모점등
;허가 첫회 체크
LOCAL = 1
;-------------------------------------------------
IF LOCAL && (TFLAG:193 == 4 && iRT >= K17C_사모) && FIRSTTIME(@"{SELECTCOM}말", 1)
	;인형 체크
	iDoll = K17_GET_DOLL(0)
	IF iDoll ==  K17C_인형수
		;양쪽 모두 아무렇지도 않으면 샹하이 우선
		iDoll = K17C_샹하이
	ENDIF
	PRINTW
	PRINTFORM 「꺅, 갑자기 어딜 만지는 거야…… 엉큼해%K17_HEART()%」
	TRYCALL K17_인형대사(iDoll, 1,"엉큼해-")
	PRINTFORM 「그렇게 엉덩이 만지고 싶으면, %K17C_인형명:iDoll%라도 만지고 있으렴」
	TRYCALL K17_인형대사(iDoll, 1,"치한이다")
	PRINTFORMDL %마스터는% 시험 삼아 %K17C_인형명:iDoll%의 엉덩이를 만져 봤더니, %타겟이% 인형에게 수줍은 듯한 연기를 시켰다
	
	IF CFLAG:K17C_ID:K17C_CF_샹하이이벤트<=0
		PRINTFORMDL 정말로 능숙한 인형 조작 때문에, 인형이 마치 살아있는 것처럼 보였다
	ELSE
		PRINTFORMDL 샹하이를 보고 있었더니, 조금 미안해졌다……
	ENDIF
	PRINTW
	PRINTFORML 「갑자기 만져지면 놀라는게 당연하잖아, 정말」
	PRINTFORML 「다른 사람한테 이런거 보여져 버리면 어떡할거야……」
	CALLF FIRSTTIME(@"{SELECTCOM}말")
	
;-------------------------------------------------
;2회째 이후
;-------------------------------------------------
ELSE
	PRINTW
	PRINTFORM 「%K17_RS("아앙/하앗/싫어")%%K17_HEART()% %K17_RS("이 녀석/그만둬")%, 이런 데선 하지 말라고 했잖아」
	TRYCALL K17_인형대사(iDoll, 1, K17_RS("치한/색골/변태/엉큼해"))
ENDIF
;-------------------------------------------------
;310, 엉덩이를어루만진다
;기입 체크(=0, 비표시, 1, 표시)
;기독이 끝난 통상의 확장
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !FIRSTTIME(@"{SELECTCOM}말", 1)
	;--------------------
	;각종 초기화
	;--------------------
	IF INROOM(CFLAG:현재위치)
		cShade += "그늘"
	ELSE
		cShade += "수풀"
	ENDIF
	;엉덩이 묘사 욕실에서도 나오므로 덧붙여 씀
	IF K17_GET_CLOTHNAME_BOTTOM(TARGET, 1) == ""
		cHip = 노출의 엉덩이
	ELSE
		cHip = %K17_GET_CLOTHNAME_BOTTOM(TARGET, 1)% 
	ENDIF
	PRINTFORMDL 그렇게 듣는 순간 %타겟은% 주위를 경계했다
	IF iMOB || (DATE_HITOGOMI() || WITH_MOB() == 9)
		PRINTFORML 「……여기, 이 쪽으로 오세요……」
		;그 밖에 사람이 있는 경우 친구인가 본다
		iFriends = K17_GET_FRIENDS_TARGET(MASTER)
		IF iFriends
			PRINTFORML (%K17_CNAME(iFriends)%한테 들켜버리잖아……)
		ELSE
			PRINTFORML (다른 사람한테 들켜버리잖아……)
		ENDIF
	ELSE
		;그 밖에 사람이 없는 경우
		PRINTFORML 「누가 올지도 모르잖아… 여기, 이리로 와봐……」
	ENDIF
	PRINTFORMDL %타겟은% %CALLNAME:MASTER%에게 귓속말로 속삭이면서, 손을 잡고는 %cShade%에 데려 갔다
	;모브 묘사 먼저 해 치운다
	CALL K17_DATE_HITOGOMI_MESSAGE
	PRINTW
	
	;관계 성별로 묘사 바꾸고
	;노출벽 기정치 넘고 있으면(자) 어느 쪽인가
	IF iRT >= K17C_연모 && (ABL:노출벽 >= 3 && RAND:2) && (EQUIP:치마|| EQUIP:원피스|| EQUIP:기모노)
		;노출벽 3이상 넘길 수 있는 옷
		PRINTFORMDL %타겟은% \@INROOM(CFLAG:현재위치)? 벽#나무\@에 손을 짚으면, 엉덩이를 내밀고 스스로 %K17_GET_CLOTHNAME_BOTTOM(TARGET)%를 천천히 벗었다
		PRINTFORML 「 %K17_RS("이런 느낌은 어떨/이런 게 좋은 걸")%까…… 저기 너무 뚫어지게 보잖아%K17_RS("엉큼해/색골/변태씨")%%K17_HEART()%」
		IF CFLAG:노팬티
			cHip = 속옷을 신지 않은 노출의 엉덩이
		ELSE
			cHip = %PANTS_DESCRIPTION(EQUIP:TARGET:하반신속옷2, TARGET) %%K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)% 위로부터 엉덩이
		ENDIF
	ELSEIF iRT >= K17C_연모 && EQUIP:치마|| EQUIP:원피스|| EQUIP:기모노
		;노출벽 3 미만 연모 넘길 수 있는 옷
		PRINTFORMDL %마스터는% 등 뒤에서 %CALLNAME:TARGET%의 %K17_GET_CLOTHNAME_BOTTOM(TARGET)%에 손을 뻗고, 천천히 벗겨냈다
		PRINTFORML 「저기……벗기는 거야……?　%K17_RS("엉큼해/색골/변태")%%K17_BLUSH()%」
		IF CFLAG:노팬티
			cHip = 속옷을 신지 않은 노출의 엉덩이
		ELSE
			cHip = %PANTS_DESCRIPTION(EQUIP:TARGET:하반신속옷2, TARGET) %%K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)% 위로부터 엉덩이
		ENDIF
	ENDIF
	;넘길 수 없는 옷그 외
	PRINTFORMDL %조교자는% 다시 등 뒤에서 %CALLNAME:TARGET%의 %HIP(TARGET)%에 손을 뻗어서, %cHip%를 쓰다듬었다
	PRINTFORML 「정말, 어디에 있든 만져대고 싶어하네…… %K17_RS("바보/엉큼해/색골/변태")%」
	PRINTFORMDL %타겟은% 쑥스러운 듯한 표정을 띠면서도 %CALLNAME:PLAYER%에게 무방비로 당해줬다……
	
	;타인을 봐 반응 나누기
	IF !iMOB
		PRINTFORML 「……%K17_허덕여소리( K17C_접수_합의덮쳐계,-1)%……%K17_RS("안됏/아앙/싫어")%%K17_HEART()%……%K17_RS("너무 쓰다듬었어/너무 만져댔어/너무 비벼댔어")% %K17_허덕여소리(K17C_접수_애원계,-1, 2,1)%」
	ELSE
		PRINTFORML 「%K17_RS("아우/하우/우우")%……%K17_RS("안됏/아앙/싫엇") %%K17_BLUSH()%　……%K17_허덕여소리( K17C_접수_합의덮쳐계,-1, 1,1)%」
		IF iFriends
			PRINTFORML (소리……나와버렷……%K17_CNAME(iFriends)%한테 들켜버려……)
		ELSE
			PRINTFORML (소리……나와버렷……다른 사람한테 들켜버려……)
		ENDIF
	ENDIF
ENDIF
RETURN 1

;====================================================================================================
;311, 달라붙는다
;
;커져 버렸어로 블록 분할
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_311
IF FLAG:시간정지 || CFLAG:TARGET:수면
	CALL TRAIN_MESSAGE
	TRYCALL M_KOJO_MESSAGE_COM_K17_수면
ELSEIF CFLAG:우후후 == 2
	CALL TRAIN_MESSAGE
	TRYCALL M_KOJO_MESSAGE_COM_K17_311_우후후
ELSEIF !FLAG:시간정지 && !CFLAG:TARGET:수면
	CALL K17_SKIP_TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_311_1
	PRINTW
	;종료 모브 묘사
	CALL K17_DATE_HITOGOMI_MESSAGE
ENDIF
RETURN 1

;-------------------------------------------------
;카운터 우후후 때의 커맨드
;-------------------------------------------------
@M_KOJO_MESSAGE_COM_K17_311_우후후
#DIM iType	;타입 일시 보존
iType = CFLAG:K17C_ID:K17C_CF_허덕여타입
CFLAG:K17C_ID:K17C_CF_허덕여타입 = K17C_접수_애원계
SELECTCASE TCVAR:카운터행동
	CASE 60
		;키스
		CALL K17_SET_AUTO_PVOICE(, K17C_부위M_키스)
		PRINTFORML 「%K17_AUTO_PVOICE()%」
	CASE 73
		;파이즈리
		CALL K17_SET_AUTO_PVOICE(, K17C_부위B)
		PRINTFORML 「%K17_AUTO_PVOICE()%」
	CASE 77
		;유두
		CALL K17_SET_AUTO_PVOICE(, K17C_부위B_유두)
		PRINTFORML 「%K17_AUTO_PVOICE()%」
	CASE 85,86,88
		;V삽입
		CALL K17_SET_AUTO_PVOICE(, K17C_부위V, iType)
		PRINTFORML 「%K17_AUTO_PVOICE()%」
	CASE 87,89
		;A삽입
		CALL K17_SET_AUTO_PVOICE(, K17C_부위A, iType)
		PRINTFORML 「%K17_AUTO_PVOICE()%」
	
	CASEELSE
		PRINTFORML 「%K17_RS("아앙/하앗/냐앙")%%K17_AP_DEC(1)%」
ENDSELECT
CFLAG:K17C_ID:K17C_CF_허덕여타입 = iType
PRINTW
RETURN 1


@M_KOJO_MESSAGE_COM_K17_311_1
#DIM iRT
#DIM iDoll
;EX 데이트라고 성공 여부 판정을 플러스
iRT = K17_GRT_EX() + TFLAG:193
;DEBUGPRINTFORML 【M_KOJO_MESSAGE_COM_K17_311 관계성치({iRT})】
;인형 랜덤
iDoll = K17_GET_DOLL(-1)
;-------------------------------------------------
;311, 달라붙는다
;기입 체크(=0, 비표시, 1, 표시)
;실패
LOCAL = 1
;-------------------------------------------------
IF iRT < K17C_친구 || CFLAG:TARGET:빡침 == 1 || CFLAG:호감도 < 100 || TALENT:기분 == -1 || K17_CHECK_ANGER_COM(TARGET)
	PRINTFORMDL 큰 비명를 지르며 %마스터를% 냅다 밀쳤다
	PRINTW
	PRINTFORM 「%K17_RS("싫엇/싫어/꺄아악")%!　……%K17C_인형명:iDoll%\@iDoll ?  #들\@!」
	TRYCALL K17_인형대사(iDoll, 1, K17_RS("치한/여성의 적/변태"))
	PRINTFORMDL %타겟은% %CALLNAME:MASTER%에게 로우 킥을 먹이더니, 추가로 %K17C_인형명:iDoll%의 창이 날아왔다
	RETURN 1
ELSEIF iRT < K17C_친구
	IF TALENT:MASTER:성별==2
		PRINTFORMDL %타겟은% 갑작스레 일어난 일에 놀라서, 양 팔이 갈 곳을 잃은 듯이 공중에 굳어진 상태다……
	ELSE
		PRINTFORMDL %타겟은% 갑작스레 일어난 일에 놀라서 굳어져 버린 상태다……
	ENDIF
	PRINTW
	PRINTFORML 「뭐, 뭐%K17_RS("야")%?　갑자기……」
	RETURN 1
ENDIF
;-------------------------------------------------
;311, 달라붙는다
;기입 체크(=0, 비표시, 1, 표시)
;데이트 이동중
LOCAL = 1
;-------------------------------------------------
IF LOCAL && CHK_DATENOW(CFLAG:TARGET:데이트중) && CFLAG:MASTER:현재위치 != OMANEKIBEYA() ;&& (CFLAG:TARGET:현재위치 % 100) % 10
	
	;PRINTFORML %조교자는%\@ TFLAG:데이트도중 ?  근처를 걷는 # 근처에 앉아 있는 \@%타겟을% 꽉하고 껴안았다
	PRINTFORMDL %마스터는%\@ TFLAG:데이트도중 ?  근처를 걷는 # 근처에 앉아 있는 \@%CALLNAME:TARGET%의 팔을 잡고 껴안았다
	PRINTW
	IF (K17_GRT(TARGET)+MARK:반발각인) < K17C_사모
		PRINTFORML 「응?　그러니까……이렇게 하는 건가……뭔가 부끄러운 걸」
		PRINTFORML 「미안, 역시, 조금……」
		PRINTFORMDL %타겟은% 부끄러운 듯이, 즉시 %CALLNAME:MASTER%에게서 떨어져 버렸다
		RETURN 1
	ENDIF
	
	;사모 이상 취득 첫회
	IF FIRSTTIME(@"{SELECTCOM}데이트 이동", 1) && (K17_GRT(TARGET)+MARK:반발각인) >= K17C_사모
		PRINTFORML 「팔짱, 끼고 싶은 거야……? 그전에 한 가지만 들어주면 안 될까……」
		PRINTFORML 「이거, 마을에서도 이따금 보이는 광경이지만, 내가 보기엔 뭐라 해야 될까, 좀 상스러워 보인다고 생각하고 있어」
		PRINTFORMDL 그렇게 말하면서 %CALLNAME:MASTER%의 팔을 잡는 %CALLNAME:TARGET%지만, 그 모습은 어딘가 어색하다
		PRINTW
		PRINTFORML 「그래서 미리 말해두는 거지만, %K17_CNAME()%이 기대하는 수준까지는 해줄 수 없을 거 같아, 미안해」
		PRINTFORMDL %마스터는% 그래도 상관 없다는 듯이, 손가락까지 엮은 채 %CALLNAME:TARGET%의 몸을 끌어당겼다
		PRINTFORML 「아 진짜……부끄럽잖아……」
		PRINTFORMDL ……
		PRINTFORMDL …………
		PRINTFORMDW ………………
		PRINTFORMDL 잠시 후, 몸을 떼어 놓으려 했지만,
		PRINTFORML 「이, 있잖아…… 잠깐만, 벌써 떨어지려 하는거야? ………저기 왜 웃는 거야」
		PRINTFORMDL 잠시 지나서 긴장이 풀렸는지, 아까보다 더 밀착하려는 것 같았다
		PRINTFORMDL 오히려 %CALLNAME:TARGET% 쪽에서부터 %CALLNAME:MASTER%에게 가슴을 바짝 대듯이, 들러붙어 왔다
		PRINTW
		PRINTFORML 「이, 인정할게. 다들 왜 이런 걸 좋아하는 건지, 이제 알겠어」
		PRINTFORML 「……이거, 굉장히, 좋아……」
		PRINTFORMDL %타겟은% 황홀한 모습으로 당분간 그대로, %CALLNAME:MASTER%의 팔에 들러붙어 있었다
		PRINTFORMDL %마스터는% 팔로부터 전해지는, %OPPAI_DESCRIPTION(TARGET, 1)%의 감촉을 즐겼다
		PRINTFORML (……%K17_CNAME()%도 좋으면서…… 그치? 후훗, 엉큼해%K17_HEART()%)
		CALLF FIRSTTIME(@"{SELECTCOM}데이트 이동")
		RETURN 1
	ENDIF
	
	iRT = K17_MAX_LIMIT_RAND(iRT, K17C_사모, K17C_연모고백)
	SELECTCASE iRT
		CASE IS >= K17C_연모고백
			PRINTFORML 「%K17_RS("에헤헷/응/후훗")%……이거 좋아하잖아? 나도 그래%K17_HEART()%」
			PRINTFORMDL %타겟은% 가슴을 바짝 눌러오듯이 %CALLNAME:MASTER%의 팔에 들러붙어 왔다
			PRINTFORML 「%K17_RS("아앙/냐앙/하앗")%%K17_HEART()% 이 녀석, %K17_RS("문지르지 말라니까/만지작거리지 말라니까/주물럭거리지 말라니까")%…… %K17_RS("아앙/안 돼/정말")%」
			PRINTFORML 「%K17_RS(@"%K17_CALL_P(K17C_부위B)% 느껴버리/%K17_CALL_P(K17C_부위B_유두)% 서버리")%잖아…… 그런 건 다음에 하자, 응?」
		CASE IS >= K17C_사모
			PRINTFORML 「%K17_RS("에헤/아/아")%……응, 역시 이게 좋아 %K17_BLUSH()%」
			PRINTFORMDL %타겟은% 가슴을 조심스레 누르듯이 %CALLNAME:MASTER%의 팔에 들러붙어 왔다
			PRINTFORML 「%K17_RS("아앙/으응/하앗")%%K17_BLUSH()% 이 녀석, %K17_RS("움직이지 말라니까/진정하라니까/얌전히 있으렴")%, %K17_RS("변태/색골")%」
		CASE IS >= K17C_아는사람
			PRINTFORML 「%K17_RS("응―/으음/아우")%…… 역시 왠지 조금 %K17_RS("창피하네/부끄럽네")%……」
			PRINTFORMDL %타겟은% 조심스레, %CALLNAME:MASTER%의 팔에 들러붙어 왔다
	ENDSELECT
	PRINTFORMDL %마스터는% 팔로부터 전해지는, %OPPAI_DESCRIPTION(TARGET, 1)%의 감촉을 즐겼다
	RETURN 1
ENDIF

;-------------------------------------------------
;311, 달라붙는다
;기입 체크(=0, 비표시, 1, 표시)
;카운터 우후후 이외
;동침중
LOCAL = 1
;-------------------------------------------------
IF LOCAL && CFLAG:TARGET:동침중
	PRINTFORMDL %조교자는% 동침 하는%CALLNAME:TARGET%에 꼭 안겨왔다
	PRINTW
	PRINTFORML 「%K17_RS("이 녀석")%, %K17_RS("장난 치지/꼼지락 거리지")% 마∼」
	PRINTFORML 「 난 %K17_CNAME()%의 %K17_RS("안는 베개/인형/고양이")%가 아니란 말야,　%K17_RS("아앙/냐앙/하앗")%%K17_HEART()%　정말」
	PRINTFORMDL %마스터는% 당분간 %타겟을% 꼭 껴안고선, 뒹굴뒹굴 거렸다
	RETURN 1
ENDIF
;-------------------------------------------------
;311, 달라붙는다
;기입 체크(=0, 비표시, 1, 표시)
;시간정지, 수면, 카운터 우후후 이외
;요컨데 통상
;여기는 방에서 둘이서＆사모 밀회 이상
LOCAL = 1
;-------------------------------------------------
IF (LOCAL && CFLAG:우후후 != 2 && INROOM(CFLAG:현재위치) && GET_TARGETNUM()==1) && iRT >= K17C_사모밀회

	PRINTFORMDL 단 둘 밖에 없다는 것을 깨달은 %마스터는%, %타겟을% 껴안고선 무릎 위에 앉혀놨다
	
	;------------------------------
	;사모 밀회 첫회 여기처
	;------------------------------
	IF FIRSTTIME(@"{SELECTCOM}무릎 싣고-사모", 1) && iRT >= K17C_사모밀회
		PRINTW
		PRINTFORMDL %CALLNAME:MASTER%의 무릎 위에서 등 돌린 채 앉아있는 %CALLNAME:TARGET%
		PRINTFORML 「응…… 여기에 앉아도 괜찮아?　……이렇게?」
		PRINTFORMDL 그러면 평범해지니 조금 바꿔 보려고 생각해서, 앉은 채로 무릎 위의 %타겟을% 공주님 안기로 껴안았다
		PRINTFORML 「히잇……어머나……이렇게……?　가, 가까워 %K17_BLUSH()%」
		PRINTW
		PRINTFORML 「저기 무겁진 않아?　괜찮아?」
		PRINTFORMDL 체중은 전혀 문제 없다. 아니 오히려 너무 가벼울 정도다, 신체를 들고 있다는 느낌조차 들지 않았다
		PRINTFORML 「이래뵈도 나도 여자니까, 신경 쓰일 수밖에 없잖아, 아앙, 이 녀석…… 막 움직이지 마」
		PRINTFORMDL %CALLNAME:MASTER%의 목에 양팔을 걸고서, 고개를 갸웃하는 %CALLNAME:TARGET%의 얼굴을 제대로 볼 수 있는, 밀착하고 싶어지는 자세다
		PRINTFORML 「완전히 붙잡힌 거 같네,  못 움직이겠어……」
		PRINTFORMDL 그렇게 말하면서도 %타겟은%, %CALLNAME:MASTER%에게 꼭 매달려선 떨어지지 않았다
		CALLF FIRSTTIME(@"{SELECTCOM}무릎 싣고-사모")
		
	;------------------------------
	;다음 단계로 나아가기 전
	;------------------------------
	ELSEIF iRT < K17C_연모고백
		PRINTFORMDL %마스터는% 평상시처럼, %타겟을% 공주님 안기 식으로 껴안아서, 무릎 위에 앉혀놨다
		PRINTW
		PRINTDATAL
			DATAFORM 「%K17_RS("이 녀석/아앙/하앙")%, 난 %K17_CNAME()%의 인형 같은게 아니란 말야」
			DATAFORM 「%K17_RS("아앙/냐앙/아앙")%, %K17_RS("잡혀 버렸다/붙잡혔다")%」
			DATAFORM 「그럼, 앉을게……%K17_RS("괜찮아")%?　무겁진 않아?」
			DATAFORM 「그렇게 %K17_RS("세게/꼭/")% 붙잡지 않아도 도망 안 간다니까?」
		ENDDATA
		
		PRINTFORML 「후훗……이 %K17_RS("자세/장소/위치")%, %K17_RS("좋아해/좋아/침착해져")%……%K17_BLUSH()%」
		PRINTFORMDL %마스터는% 당분간 그 자세를 유지한 채, %타겟과% 러브러브 했다
		
	;------------------------------
	;연모 고백 첫회
	;------------------------------
	ELSEIF FIRSTTIME(@"{SELECTCOM}무릎 싣고-연모", 1) && iRT >= K17C_연모고백
		PRINTFORMDL 오늘은 %타겟을% 대면하는 자세로, %CALLNAME:MASTER%의 무릎 위에 앉혀놨다
		PRINTW
		PRINTFORML 「……이 자세는……아앙 %K17_HEART()%　이런 자세 하고 싶었어?」
		PRINTFORMDL 의도치 않게 대면좌위의 자세가 되어 버렸다……
		PRINTFORML 「이거 뭔가, 음란한 자세 아냐?　이런 건 단 둘일 때만……해야 돼?」
		PRINTFORMDL %CALLNAME:MASTER%의 목에 양팔을 걸은 %타겟은%, 꼭 안겨왔다
		PRINTW
		;MASTER의 성별 판정녀라면 맞히러 간다
		IF TALENT:MASTER:성별 >= 2
			PRINTFORML (%K17_CNAME()%의 %K17_CALL_G(MASTER, 0,1)%, 내 그곳에 엄청나게……닿아서……이거 기분 좋을지도 %K17_BLUSH(1)%)
		ELSEIF TALENT:MASTER:성별 == 1
			PRINTFORML ( 내 %K17_CALL_G(TARGET, 0,1)% 스쳐서……기분 좋을지도 %K17_BLUSH(1)%)
		ENDIF
		PRINTFORML 「……하……응……큿……아앙 %K17_HEART()%」
		PRINTFORMDL %타겟이% %CALLNAME:MASTER%의 무릎 위에서 움찔대면서, 조심스레 허리를 흔들며 뜨거운 숨결을 내고 있다
		PRINTFORMDL %CALLNAME:MASTER%이 그 모습을 관찰하고 있으면, 잠시 후 제정신이 들은 %타겟이% 기분 좋은듯 얼굴을 들었다
		;맛사지 감각으로 혼자 야한 짓 시작하는 앨리스 자위경험 100은 격이 달랐다
		PRINTFORML 「핫……아니, 달랏……이건……%K17_BLUSH(2)%」
		PRINTW
		PRINTFORMDL 새빨갛게 된 %CALLNAME:TARGET%의 머리를 %마스터는% 상냥하게 어루만지며, 다른 한 손을 맞잡아왔다
		PRINTFORML 「있잖아, 미안해요, 이 자세로 있으면 나, 이상한 기분이, 들어서……%K17_BLUSH()%」
		PRINTFORML 「……미안해 앗 %K17_HEART()% 조금……, 움직이지 마 %K17_HEART()%……」
		PRINTFORMDL 당분간 %마스터는% %타겟을% 무릎 위에 앉힌채로, 가끔씩 허리를 흔들며 노닥거렸다
		CALLF FIRSTTIME(@"{SELECTCOM}무릎 싣고-연모")
	
	;------------------------------
	;연모 고백 2번째 이후 처리
	;------------------------------
	ELSE
		PRINTFORMDL %마스터는% 항상 하던대로, %타겟을% 대면하는 자세로 무릎 위에 앉혀놨다
		PRINTW
		PRINTDATAL
			DATAFORM 「%K17_RS("아앙/냐앙/아앙")%%K17_HEART()% 또 이 자세야? %K17_RS("엉큼해/색골/변태")%%K17_HEART()%」
			DATAFORM 「%K17_RS("∼/∼/후냐∼")%……괜찮아? 무겁진 않아? 떨어지진 않을 거지만%K17_HEART()% 후훗」
			DATAFORM 「좀 더 %K17_RS("세게/꼭")% 안아줘, 떼어놓지, 말아줘? %K17_HEART()%」
		ENDDATA
		PRINTFORML 「%K17_RS("하앗/아앙/싫어")%%K17_HEART()%　%K17_RS("움직이지 마/미끌미끌 하지마/꼼지락 거리면 안돼요")%……%K17_허덕여소리(K17C_접수_애원계,-1, 1,1)%」
		PRINTFORML 「정말 ……%K17_허덕여소리( K17C_접수_합의덮쳐계,-1, 1)%……%K17_RS("안돼/아앙/싫엇")%%K17_HEART()%……%K17_허덕여소리(K17C_접수_애원계,-1, 1,1)%」
		PRINTFORMDL 당분간 %마스터는% %타겟을% 무릎 위에 앉힌 채로, 가끔씩 허리를 흔들며 노닥거렸다
	ENDIF
	
	;------------------------------
	;종료 처리 추가 발기 바레
	;------------------------------
	
	IF BASE:MASTER:발기 >= 1000 && TALENT:MASTER:성별 >= 2 && CFLAG:TARGET:기정사실 & 합의_우후후
		;우후후 경험이 끝난 상태
		PRINTW
		PRINTFORML (……%K17_RS("아/응/이거")%……%K17_CNAME()%의 %K17_CALL_G(MASTER, 2,1)%……%K17_RS("너무 닿고 있잖아/존재감 엄청나/엄청 흥분해 있어")%……)
		;껴안고 판정 본다
		IF CFLAG:TARGET:합의판정 >= 껴안고필요치(TARGET)
			PRINTFORML (그냥 해도 괜찮은데……%K17_RS("참고 있는거야/안 해줄 거야/애태우는 거야")%……? )
			PRINTFORMDL %타겟은% 젖은 눈동자로 %마스터를% 올려다보고 있었다
		ELSE
			PRINTFORML (진짜 ……%K17_RS("항상 야한 거만 생각하고 있으니깐/곧바로 흥분한다니깐")%……%K17_RS("엉큼해/색골/변태")%)
			PRINTFORMDL %타겟은% 조금 기가 막힌 듯 %마스터를% 올려다보고 있었다
		ENDIF
		
	ELSEIF BASE:MASTER:발기 >= 1000 && TALENT:MASTER:성별 >= 2 && !(CFLAG:TARGET:기정사실 & 합의_우후후)
		;우후후 미경험
		PRINTW
		PRINTFORML (……어……지금 닿고 있는 이 딱딱한 건……엣……!)
		
		;여기서 껴안고 판정 본다
		IF CFLAG:TARGET:합의판정 >= 껴안고필요치(TARGET)
			PRINTFORML (%K17_CNAME()%……%K17_RS("나에게 욕정/발정")%……하고 있는……거야?　혹시……%K17_RS("해, 해버리는/하, 하고 싶은/당, 당해버리는")%……거야? )
		ELSE
			PRINTFORML (%K17_CNAME()%……%K17_RS("나에게 욕정/발정")%……하고 있는……거야?　%K17_RS("안돼/싫어/하아")%……아직 마음의 준비가 안 됐는데……)
		ENDIF
		PRINTFORML 「읏∼~~~~%K17_BLUSH()%」
		PRINTFORMDL %타겟은% 갑자기 안절부절 하더니, 얼굴을 새빨갛게 한 채 굳어있었다……
		
	ELSEIF TALENT:MASTER:성별 == 1
		;MASTER가 여자
		PRINTW
		PRINTFORML (%K17_CNAME()%의 %K17_CALL_P(K17C_부위B, 1, MASTER)%가 닿아서, 뭔가 이상한 기분이 되어버렸다……)
		PRINTFORMDL 왠지 모르겠지만 %타겟은% 얼굴을 새빨갛게 한 채 고개를 숙이고 있었다
	ENDIF
	
	;앨리스 양성
	SIF TALENT:TARGET:성별 == 3 && BASE:TARGET:발기 >= 1000
		PRINTFORML (%K17_RS("아읏/하으/우으")%……%K17_RS("이 거리/너무 가까워")%……나의 %K17_CALL_G(TARGET, 3,1)%……들켜버려 ……)
		
	
	RETURN 1
ENDIF
;-------------------------------------------------
;311, 달라붙는다
;기입 체크(=0, 비표시, 1, 표시)
;시간정지, 수면, 카운터 우후후 이외
;범용 사모 밀회↑에서도 밖 등
LOCAL = 1
;-------------------------------------------------
IF LOCAL && CFLAG:우후후 != 2
	PRINTFORMDL %조교자는% %타겟을% 꼭 껴안았다
	
	SELECTCASE iRT
		CASE IS >= K17C_연모고백
			PRINTFORMDL %타겟은% 기쁜듯이 다시 안겨왔다……
			PRINTW
			PRINTDATAL
				DATAFORM 「응……후훗, 뭐야?　안아보고 싶어진 거야?　자, 부디. ∼」
				DATAFORM 「%K17_RS("무큐/우뉴/후냐")%~……%K17_RS("침착해지/행복해지")%네」
				DATAFORM 「%K17_RS("하앗/아앙/싫어")%%K17_HEART()%　%K17_RS("너무 세잖아/괴롭잖아/아프잖아")%∼……답례야~∼」
			ENDDATA
			PRINTFORMDL 당분간 %마스터는%, %타겟과% 서로 꼭 껴안고 있었다
			
			;공주님 포옹
			;둘이서＆ 남성 체형 보통 체형 이상 여성이라면 앨리스보다 크지 않으면 안될까
			IF ( (TALENT:MASTER:체형 >= 0 && TALENT:MASTER:성별 == 2) || (TALENT:MASTER:성별 & 1 && TALENT:MASTER:체형 > TALENT:TARGET:체형) )&& GET_TARGETNUM()==1
				PRINTW
				PRINTFORMDL 마침 단 둘 밖에 없다는 걸 눈치 챈 %마스터는% %타겟을% 안아 올려서 공주님 안기를 해봤다
				PRINTFORML 「%K17_RS("햐앗/와아아/이 녀석")%, 갑자기 뭐 하는 거야」
				PRINTFORML 「역시 %K17_RS("부끄럽다/창피하다")%니깐…… 정말 , 바보」
				PRINTFORMDL 그렇게 말하면서도 %타겟은% 얼굴을 붉힌 채, %CALLNAME:MASTER%에게 꼭 매달려 있었다
			ENDIF
			
		CASEELSE
			PRINTFORMDL %타겟은% 부끄러워 하고 있지만, 마냥 싫은 것은 아닌 것 같다……
			PRINTW
			PRINTFORML 「%K17_RS("아읏/히읏/우으")%……뭔가, %K17_RS("부끄러워/창피해/낯 뜨거워져")%……」
			PRINTFORMDL 당분간 %마스터는%, 흠칫흠칫 몸을 떨어대는 %CALLNAME:TARGET%의 몸을 꼭 껴안고 있었다
	ENDSELECT
	
ENDIF
RETURN 1
;====================================================================================================
;312, 키스한다
;지문 코피페 만들기가 IF 큰이었으므로 RETURN 1으로 정지
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_312
CALL TRAIN_MESSAGE
IF !FLAG:시간정지
	CALL M_KOJO_MESSAGE_COM_K17_312_1
	PRINTW
ENDIF
RETURN 1

@M_KOJO_MESSAGE_COM_K17_312_1
#DIM iRT	= 0
#DIM iType	= 0
#DIM iKiss = 0
#DIM iRand =0
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !FLAG:시간정지

	IF CFLAG:TARGET:수면
		;;PRINTFORML %조교자는% 자고 있는%CALLNAME:TARGET%의 입을, 자신의 구에서 차지했다…
		IF ABL:친밀 >= 5
			;PRINTFORM 입술을 떼어 놓으면(자)%타겟은% 살짝 미소짓고 있다…
			PRINTFORML 「%K17_SHUFFLE_잠꼬대(K17_RS("응/에헤∼/"+K17_HEART()+""))%」
		ELSEIF ABL:친밀 >= 3
			;PRINTFORM %타겟은% 조금 괴로운 듯 눈살을 찌푸렸다…
			PRINTFORML 「%K17_SHUFFLE_잠꼬대(K17_RS("응/∼/흐아앙"))%」
		ELSE
			;PRINTFORM %타겟은% 얼굴을 찡그리면(자) 무의식 중에 얼굴을 외면했다…
			PRINTFORML 「%K17_SHUFFLE_잠꼬대(K17_RS("큿//나"))%」
		ENDIF
		RETURN 1
	ENDIF
	
	IF TFLAG:193 == 99
		;PRINTFORM %조교자가% 키스를 하려고 하면(자)%타겟은% 싫은 듯이 몸을 당겼다…
		PRINTFORML 「큿……지금 뭐하려고 한거야, 멈추세요!」
		RETURN 1
	ENDIF

	;-----------------
	;플래그 첫회 체크
	;-----------------
	IF !CFLAG:K17C_ID:K17C_CF_FK마스터
		CALL K17_FIRSTKISS(TARGET)
		RETURN 1
	ENDIF
	
	;-----------------
	;각종 초기화
	;-----------------
	iRT = K17_GRT_EX()
	iKiss = 0
	iRand = 0
	
	;-----------------
	;밀어넘어뜨려지고 안타입 일시 변경
	;-----------------
	IF CFLAG:우후후 == 2
		iType = CFLAG:K17C_ID:K17C_CF_허덕여타입
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위M_키스, K17C_접수_애원계)
		PRINTFORML 「%K17_AUTO_PVOICE()%」
		CFLAG:K17C_ID:K17C_CF_허덕여타입 = iType
		RETURN 1
	ENDIF
	
	;-----------------
	;통상 키스
	;-----------------
	;이 후 분노
	IF K17_CHECK_ANGER_COM(TARGET)
		PRINTFORML 「응……%K17_RS("안 된다니/싫, 다")%니깐 참」
		PRINTFORMDL %타겟은% 양손으로 %마스터를% 밀쳐냈다
		RETURN 1
	ENDIF
	
	;놀라움 패턴
	IF ABL:욕망 < 5 && ABL:친밀 < 5
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위M_키스, K17C_접수_억지로계)
		PRINTFORML 「%K17_AP_NUM(1,1)%」
		PRINTFORML 「응……이런…거…하면 안 돼요……%K17_BLUSH()%」
		PRINTFORMDL %타겟은% 얼굴을 돌리더니 %마스터를% 밀쳐냈다
		RETURN 1
	ENDIF
	
	
	
	;쭙 쪽 하는 편
	IF (PREVCOM == 305 || CFLAG:TARGET:동침중) && RESULT:1 <= 300
		iRand = K17_MAX_LIMIT_RAND(iRT, K17C_연모고백, K17C_연인)
		SELECTCASE iRand
			CASE IS >= K17C_연인
				PRINTFORML 「응∼~%K17_RS("쪽/쭙/쮸웁")%%K17_HEART()%」
				PRINTFORML 「%K17_RS("히히힛/에헤/")%……저기, 좀 더, 하자?　응? %K17_HEART()%」
				PRINTFORML 「%K17_RS("쪽/쭙/쮸웁")%%K17_HEART()%　%K17_RS("쪽/쭙/쮸웁")%%K17_HEART()%」
			CASE IS >= K17C_연모고백
				PRINTFORML 「%K17_RS("응~쪽/아암/쮸웁")%%K17_HEART()%　……%K17_CNAME()%의 입술, 왜 그리 %K17_RS("좋은 걸/부드러운 걸")%까나……」
				PRINTFORML 「몇번 해도 질리지가 않네요……%K17_RS("응~쪽/아암/쮸웁")%%K17_HEART()%」
			CASE IS >= K17C_사모
				PRINTFORML 「응∼~%K17_RS("쪽/쭙/쮸웁")%」
				PRINTFORML 「%K17_RS("에헤헷/에헤/")%……%K17_BLUSH()%」
			CASEELSE
				PRINTFORML 「%K17_츄파음(K17C_접수_억지로계, iKiss, 2,1)%」
				PRINTFORMDL %타겟은% 부끄러운 듯 약간 붉어져선, %CALLNAME:MASTER%한테서 눈을 떼었다
				RETURN 1
		ENDSELECT
		PRINTFORMDL %타겟은% 만족한 모습이었다
		RETURN 1
	ENDIF
	
	;디프 판정
	IF ABL:욕망 >= 5
		iKiss = K17_ABL_RT_EX(iRT, K17C_부위M_키스)
	ELSE
		iKiss = -1
	ENDIF
	
	;관계 사정 EX
	;쮸웁 쪽 하는 녀석
	;K17_츄파음(타입, 감각치, 회수, 종단
	;반감 고정 소스　300
	SELECTCASE BASE:무드
		CASE IS >= 650
			SELECTCASE iRT
				CASE IS >= K17C_연인
					PRINTFORML 「%K17_츄파음(K17C_접수_애원계, iKiss, 2,1)%하아하아 %K17_HEART()%　좀 더-%K17_츄파음(K17C_접수_애원계, iKiss, 3,1)%」
					PRINTFORMDL %타겟은% 흥분한 듯이 볼을 상기시켜서, 몇번이고 졸라 대었다
				CASE IS >= K17C_연모고백
					PRINTFORML 「%K17_츄파음(K17C_접수_애원계, iKiss, 2)% 좀 더……해-%K17_츄파음(K17C_접수_애원계, iKiss, 2,1)%」
					PRINTFORMDL %타겟이% 다급히 다음 키스를 바래왔다
				CASE IS >= K17C_사모키스
					PRINTFORML 「%K17_츄파음(K17C_접수_애원계, iKiss, 2,1)%」
					PRINTFORMDL %CALLNAME:TARGET%의 눈이 몽롱하게 풀려있는 것처럼 보였다
				CASEELSE
					PRINTFORML 「%K17_츄파음(K17C_접수_억지로계, iKiss, 2,1)%」
					PRINTFORMDL %타겟은% 부끄러운 듯 약간 붉어져선, %CALLNAME:MASTER%한테서 눈을 떼었다
			ENDSELECT
		CASE IS >= 450
			SELECTCASE iRT
				CASE IS >= K17C_연인
					PRINTFORML 「%K17_츄파음(K17C_접수_애원계, iKiss, 2)% 좀 더……?　%K17_츄파음(K17C_접수_애원계, iKiss, 2,1)%」
					PRINTFORMDL %타겟이% 빨리 계속을 졸라 온다
				CASE IS >= K17C_연모고백
					PRINTFORML 「%K17_츄파음(K17C_접수_애원계, iKiss, 2,1)%」
					PRINTFORMDL %CALLNAME:TARGET%의 눈이 몽롱하게 풀려있는 것처럼 보였다
				CASE IS >= K17C_사모키스
					PRINTFORML 「%K17_츄파음(K17C_접수_억지로계, iKiss, 2,1)%」
					PRINTFORMDL %타겟은% 부끄러운 듯 약간 붉어져선, %CALLNAME:MASTER%한테서 눈을 떼었다
				CASEELSE
					PRINTFORML 「%K17_츄파음(K17C_접수_억지로계, iKiss, 1,1)%」
					PRINTFORMDL %타겟은% 부끄러운 듯 약간 붉어져선, %CALLNAME:MASTER%한테서 눈을 떼었다
			ENDSELECT
			
		;무드 부족하다
		CASEELSE
				PRINTFORML 「%K17_츄파음(K17C_접수_억지로계,-1, 1,1)%」
				PRINTFORML 「정말 , 갑자기 하는건 %K17_RS("안 된다니깐/그만 두라니깐")%……%K17_BLUSH()%」
				PRINTFORMDL %타겟은% 약간 삐진듯 외면했다
				RETURN 1
	ENDSELECT
	
	;옥내에서 둘이서 추가실치 밀회 이상 밀어넘어뜨려지고 안 이외
	IF INROOM(CFLAG:현재위치) && GET_TARGETNUM()==1 && K17_GRT() >= K17C_사모밀회 && CFLAG:우후후 != 2
		;글로벌 보존
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위M_키스, K17C_접수_애원계)
		PRINTW
		PRINTFORML 「……응……하아……%K17_AP_DEC()% 더……%K17_RS("하는 거야?/하고 싶어?/하고 싶은거야?")%?」
		PRINTFORML 「%K17_AP_NUM(1) %%K17_RS("기닷/기다려/하앗")%……%K17_AP_NUM(3)% 좋아햇%K17_HEART()%」
		PRINTFORMDL %마스터는% %타겟을% 짓누른 채, 몇번이고 키스를 반복했다
		PRINTFORML 「%K17_AUTO_PVOICE()%」
		IF RAND:2
			PRINTFORMDL 두 명의 %K17_RS("키스 소리/숨결")%만이 방 안에서 %K17_RS("울려 퍼지고/메아리치고")% 있었다
		ELSE
			PRINTFORMDL 두 명이 입술을 떼어 놓자 %K17_RS("타액/은빛")%의 다리가 걸려 있었다
		ENDIF
	ENDIF
	
ENDIF
RETURN 1
;====================================================================================================
;313, 가슴애무
;
;옷의 피부 부상 적기 때문에 어째서도 기축이라고 속옷을 벗게 하는 풍미
;사람 있으면(자) 옷 위로부터
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_313
IF FLAG:시간정지
	CALL TRAIN_MESSAGE
ELSEIF CFLAG:우후후==2
	CALL TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_313_우후후
ELSEIF CFLAG:TARGET:수면
	CALL TRAIN_MESSAGE
	TRYCALL M_KOJO_MESSAGE_COM_K17_수면애무
ELSE
	CALL K17_SKIP_TRAIN_MESSAGE
	;CALL TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_313_1
	PRINTW
	CALL K17_DATE_HITOGOMI_MESSAGE
ENDIF
RETURN 1
@M_KOJO_MESSAGE_COM_K17_313_우후후
;-------------------------------------------------
;카운터 우후후 때의 커맨드
;-------------------------------------------------
#DIM iType	;타입 일시 보존
iType = CFLAG:K17C_ID:K17C_CF_허덕여타입
CFLAG:K17C_ID:K17C_CF_허덕여타입 = K17C_접수_애원계
CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(), K17C_부위B)
PRINTFORML 「%K17_AUTO_PVOICE()%」
CFLAG:K17C_ID:K17C_CF_허덕여타입 = iType
PRINTW
RETURN 1

@M_KOJO_MESSAGE_COM_K17_313_1
;-------------------------------------------------
;313, 가슴애무
;시간정지, 카운터 우후후, 수면 이외
;각종 초기화
;-------------------------------------------------
#DIM iRT		;EX 데이트라고
#DIMS cAction, 2	;감도에 의한 행동
#DIMS cReAction	;감도에 의한 반응
#DIM iBust		;가슴의 상태복상으로부터라면 0 은만 속옷상이라면 1 생2
#DIM iFriends	;아는 사람이 있을까 본다
#DIM iMOB		;타인이 있을까 본다
#DIM iExFlag	;추가 조건 플래그
#DIM iAnger		;이 커맨드 선택으로 화날지 어떨지

iRT = K17_GRT_EX()
iAnger = K17_CHECK_ANGER_COM(TARGET)
;DEBUGPRINTFORML 【M_KOJO_MESSAGE_COM_K17_313_1 관계성치({iRT})】

;-----------------
;허덕여타입 선택
;-----------------
CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위B)
VARSET cAction
cReAction =
iBust = 0
iFriends = 0
iMOB = 0
iExFlag = 0

;타인 혹은 모브가 있을까 보는 김에 아는 사람인가 어떤가도 본다
IF DATE_HITOGOMI(CFLAG:PLAYER:현재위치) || GET_TARGETNUM() > 1
	iMOB = 1
	iFriends = K17_GET_FRIENDS_TARGET(TARGET)
ENDIF

;추가 조건식
;B감각 4이상＆사모 밀회 이상
SIF ABL:B감각 >= 4 && iRT >= K17C_사모밀회 && BASE:무드 >= 500
	iExFlag = 1
;4미만이라면 사랑으로 커버
SIF iRT >= K17C_연모 && BASE:무드 >= 500
	iExFlag = 2
;분노 붙는 것 같으면 억지로
SIF iAnger && iRT >= K17C_사모밀회
	iExFlag = 2

;카운터&벗어 조건
IF TCVAR:카운터행동 == 27 && iExFlag && !iMOB && !FIRSTTIME(@"{SELECTCOM}말", 1)
	;통상 카운터 우선
	IF TALENT:TARGET:가슴사이즈 >= 1
		cAction += @"%조교자는% %CALLNAME:TARGET%의, \n드러난 %OPPAI_DESCRIPTION(TARGET, 1)%의 가슴골에 손을 넣어"
	ELSE
		cAction += @"%조교자는% %타겟이% 드러낸, \n볼륨 있는 %OPPAI_DESCRIPTION(TARGET, 1)%의 가슴골에 손을 넣어"
	ENDIF
;카운터 있어 우선
ELSEIF TCVAR:카운터행동 == 27
	;골짜기 보이고 가슴사이즈 본다
	IF TALENT:TARGET:가슴사이즈 >= 1
		cAction += @"%조교자는%%CALLNAME:TARGET%의 골짜기에 손을 넣어"
	ELSE
		cAction += @"%조교자는%%타겟이% 드러낸, 볼륨 있는 골짜기에 손을 넣어"
	ENDIF
;이하 카운터 이루어 벗어 조건
ELSEIF iExFlag && !iMOB && !FIRSTTIME(@"{SELECTCOM}말", 1)
	cAction = %조교자는%%CALLNAME:TARGET%의 노출의 %OPPAI_DESCRIPTION(TARGET, 1)%를
	
;(은)는만 있어
ELSEIF !iMOB && !iFriends
	;TEQUIP:4 = 1
	cAction = %조교자는%%CALLNAME:TARGET%의
	;복장 체크
	IF EQUIP:상반신윗도리1 || EQUIP:상반신윗도리2 || EQUIP:원피스|| EQUIP:기모노
		;상반신윗도리의 검색
		IF EQUIP:기모노
			cAction += @"%K17_GET_CLOTHNAME_TOP(TARGET) %%K17_RS("를 풀어헤쳐서/의 옷깃에 손을 넣어")%,"
		ELSEIF EQUIP:원피스== 1
			cAction += @"%K17_GET_CLOTHNAME_TOP(TARGET) %%K17_RS("를 벗겨서/의 틈새에 손을 넣어")%,"
		ELSE
			cAction += @"%K17_GET_CLOTHNAME_TOP(TARGET)%를 풀어헤쳐서,"
		ENDIF
	ENDIF
	IF EQUIP:TARGET:상반신속옷1 || EQUIP:TARGET:상반신속옷2 || EQUIP:TARGET:레오타드|| EQUIP:TARGET:보디슈트
		cAction += @"%OPPAI_DESCRIPTION(TARGET, 1)%을 속옷 너머로 "
		iBust = 1
	ELSEIF TEQUIP:상반신착의상황 == 0
		;입지 않았다
		cAction = %조교자는% %CALLNAME:TARGET%의 드러난 %OPPAI_DESCRIPTION(TARGET, 1)%을
		iBust = 2
	ELSE
		;윗도리 있어 속옷 없음
		SIF !(EQUIP:TARGET:상반신속옷1 || EQUIP:TARGET:상반신속옷2 || EQUIP:TARGET:레오타드|| EQUIP:TARGET:보디슈트)
			cAction += "아무것도 입지 않은"
		cAction += @"드러난 %OPPAI_DESCRIPTION(TARGET, 1)%을"
		iBust = 2
	ENDIF
;피부 깍아내려
ELSEIF iMOB || iFriends
	cAction = %조교자는%%CALLNAME:TARGET%의
	;복장 체크
	IF EQUIP:상반신윗도리1 || EQUIP:상반신윗도리2 || EQUIP:원피스
		;상반신윗도리의 검색
		FOR i, GETNUM(EQUIP,"기모노"), GETNUM(EQUIP,"상반신1"),-1
			IF EQUIP:TARGET:i 
				cAction += @"%CLOTHNAME(i, EQUIP:TARGET:i)% 위로부터"
				BREAK
			ENDIF
		NEXT
	ENDIF
	iBust = 0
ENDIF

;감도별 액션
IF ABL:B감각 <= 1
	cAction += " 쓰다듬듯이"
ELSEIF ABL:B감각 <= 3
	cAction += " 상냥히"
ELSE
	cAction += " 차분히"
ENDIF
cAction += " 주물렀다………"


;감도별 리액션
IF ABL:B감각 <= 1
	cReAction = %타겟은% 간지러워 보였다………
ELSEIF ABL:B감각 <= 4
	cReAction = %타겟은% 애무에 뜨거운 숨결을 내뱉고 있었다………
ELSE
	cReAction = %타겟은% 몽롱한 표정으로 당하고만 있었다………
ENDIF
	

;-------------------------------------------------
;313, 가슴애무
;지문 개시
;-------------------------------------------------
PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 가슴에 손을 뻗었다……

;-------------------------------------------------
;313, 가슴애무
;기입 체크(=0, 비표시, 1, 표시)
;실패 분노가 붙는다
LOCAL = 1
;-------------------------------------------------
IF LOCAL && ( iAnger || CFLAG:빡침 ) && !iExFlag
	PRINTFORMDL %타겟은% 재빠르게 가슴을 눌러, %CALLNAME:MASTER%의 손을 뿌리쳤다
	PRINTW
	PRINTFORM 「싫어…… 정말……」
	TRYCALL K17_인형대사(-1, 1, K17_RS("치한/여성의 적/변태"))
	RETURN 1
ENDIF

;-------------------------------------------------
;313, 가슴애무
;기입 체크(=0, 비표시, 1, 표시)
;실패 분노가 붙지만 EX조건 채우고 있는 시 억지로 강간 같고
LOCAL = 1
;-------------------------------------------------
IF LOCAL && ( iAnger || CFLAG:빡침 ) && iExFlag
	PRINTFORMDL %타겟은% 재빠르게 가슴을 눌러, %CALLNAME:MASTER%의 손을 뿌리쳤다
	PRINTW
	;천의 타입을 바꾼다
	CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위B, K17C_접수_억지로계)
	cAction:1 = %마스터는% 싫어하는 %CALLNAME:TARGET%를 보고 더 흥분해서는
	;복장 체크
	;상반신윗도리
	SIF TEQUIP:상반신착의상황
		cAction:1 += @"%K17_GET_CLOTHNAME_TOP(TARGET)%를 억지로 풀어헤쳐선"
	;속옷 검색
	IF K17_GET_CLOTHNAME_TOP_UNDER(TARGET) != ""
		;속옷
		cAction:1 += K17_GET_CLOTHNAME_TOP_UNDER(TARGET)
		;윗도리 벗었는지 본다
		IF K17_GET_CLOTHNAME_TOP(TARGET) != ""
			cAction:1 += "도"
		ELSE
			cAction:1 += "를"
		ENDIF
		cAction:1 += "벗겨내, \n"
	ENDIF
	cAction:1 += @"%K17_RS("노출")%이 된 %OPPAI_DESCRIPTION(TARGET, 1)%을 계속 비볐다"
	
	;통상 처리
	
	PRINTFORML 「%K17_AP_NUM(2)%……저, 기 %K17_RS("너무 심하잖아/너무 격하잖아") % %K17_RS("안돼/싫어") %%K17_AP_NUM(2,1)%」
	PRINTFORMDL %cAction:1%
	PRINTFORML 「%K17_CALL_P(K17C_부위B) %%K17_RS("그만두라/싫, 다/비비지 말라")%니깐……%K17_AP_NUM(3,1)%」
	SIF K17_ABL_RT_EX(iRT, K17C_부위B)
		PRINTFORMDL %타겟은% 싫어하면서도 느껴 버리고 있다……
	RETURN 1
ENDIF

;-------------------------------------------------
;313, 가슴애무
;기입 체크(=0, 비표시, 1, 표시)
;첫회 성공
LOCAL = 1
;-------------------------------------------------
IF LOCAL && FIRSTTIME(@"{SELECTCOM}말")
	;타입 바꾸고
	CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위B, K17C_접수_합의덮쳐계)
	PRINTFORMDL %타겟은% 깜짝 놀란듯 반응하더니, 가슴 위에 놓여진 %CALLNAME:MASTER%의 손에 자신의 손을 포개어 왔다
	PRINTW
	PRINTFORM 「잠깐…………거기……손대고 싶어……?」
	TRYCALL K17_인형대사(-1, 1, K17_RS("치한/엉큼해/변태"))
	PRINTFORMDL 어쩌다 손이 닿아버린 거지만, 그렇게 싫었던 걸까
	PRINTFORMDL %타겟은% 대답 없이 힘없이 손을 포개더니, 얼굴을 새빨갛게 한 채 눈을 감고 있었다
	PRINTFORMDL %cAction%
	
	;통상 처리
	PRINTW
	PRINTFORML 「%K17_AUTO_PVOICE()%」
	PRINTFORMDL %cReAction%
	;가슴의 상태 분기
	SELECTCASE iBust
		CASE 0
			PRINTFORML (이거……옷에 스쳐서……조금 %K17_RS("아파/초조해져/간지러워")%……)
		CASE 1
			PRINTFORML (이거……속옷에 스쳐서……조금 %K17_RS("아파/초조해져/간지러워")%……)
		CASE 2
			PRINTFORML (이거……피부에 그대로……바보 변태 %K17_HEART()%……)
	ENDSELECT
	;사람이 있을까 본다
	IF iFriends
		PRINTFORML (소리……나와버려……%K17_CNAME(iFriends)%한테 %K17_RS("들켜버/목소리 들려버")%려 ……)
	ELSEIF iMOB
		PRINTFORML (소리……나와버려……다른 사람한테 %K17_RS("들켜버/목소리 들려버")%려 ……)
	ENDIF
	RETURN 1
ENDIF

;-------------------------------------------------
;313, 가슴애무
;기입 체크(=0, 비표시, 1, 표시)
;2번째 이후 감도 4이상 사모로부터 or 연모
;상반신벗어
LOCAL = 1
;-------------------------------------------------
IF LOCAL && iExFlag && !iMOB

	;--------------
	;옷을 풍미로 벗게 한다
	;--------------
	cAction:1 = 그렇게 말하면(자)%타겟은%,
	;복장 체크
	IF EQUIP:상반신윗도리1 || EQUIP:상반신윗도리2 || EQUIP:원피스|| EQUIP:기모노
		IF EQUIP:원피스== 1
			;평상복의 원피스앨리스의 원피는 전 두고 앞을 열어 나무인은 두
			cAction:1 += @"%K17_GET_CLOTHNAME_TOP(TARGET)%를 벗기 시작하더니"
		ELSE
			cAction:1 += @"%K17_GET_CLOTHNAME_TOP(TARGET)%를 풀어헤치기 시작하더니"
		ENDIF
	ENDIF
	IF SHOW_상반신속옷(TARGET) != ""
		cAction:1 += SHOW_상반신속옷(TARGET)
		IF EQUIP:상반신윗도리1 || EQUIP:상반신윗도리2 || EQUIP:원피스|| EQUIP:기모노
			cAction:1 += "도 제껴놓은 채로"
		ELSE
			cAction:1 += "를 제껴놓은 채로"
		ENDIF
	ENDIF
	cAction:1 += @"%CALLNAME:MASTER%의 앞에서, \n%K17_RS("드러낸/노출한")% %OPPAI_DESCRIPTION(TARGET, 1)%"
	
	;카운터 본다
	IF TCVAR:카운터행동 == 27 && TALENT:TARGET:가슴사이즈 >= 1
		cAction:1 += "을, 가슴골을 만들며 도발해왔다"
	ELSEIF TCVAR:카운터행동 == 27
		cAction:1 += "을, 손으로 골짜기를 만들며 도발해왔다"
	ELSE
		cAction:1 += "을, 부끄러운 듯이 보여줬다"
	ENDIF
	cAction:1 += "\n"
	;유두 묘사
	cAction:1 += NIPPLE_DESCRIPTION(TARGET, 1)
	;케이프 체크
	IF EQUIP:TARGET:외투==1
		cAction:1 += "를 케이프로 숨기고 있지만"
	ELSE
		cAction:1 += "를 손으로 숨기고 있지만"
	ENDIF
	cAction:1 += "가 살짝 보일듯 말듯 하지만"

	;-----------------
	;허덕여타입 선택 옥내만 애원
	;-----------------
	IF INROOM(CFLAG:현재위치)
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위B, K17C_접수_애원계)
	ELSE
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위B, K17C_접수_도움계)
	ENDIF
	;-----------------
	;표시 개시
	;-----------------
	PRINTFORMDL %타겟은% %K17_RS("황홀한 표정으로/얼굴을 홍조 시키며/달콤한 숨결을 내쉬며")%, 가슴 위에 놓여진 %CALLNAME:MASTER%의 손에 손을 포갰다
	PRINTW
	;벗어 첫회
	;속옷 입고 있어 본다
	IF FIRSTTIME(@"{SELECTCOM}말-2", 1) && (EQUIP:TARGET:상반신속옷1 || EQUIP:TARGET:상반신속옷2 || EQUIP:TARGET:레오타드|| EQUIP:TARGET:보디슈트)
		PRINTFORML 「저기……잠깐 기다려……이전부터 말하고 싶었지만……그……」
		PRINTFORMDL 역시 싫어하는 거였나
		PRINTFORML 「그런게 아니라……그, 브라 입은 상태로는, 조금 아파서……」
		PRINTFORML 「그러니깐……」
		PRINTW
		PRINTFORML (괜찮겠지…… 이 정도면……입고 있으면 아프니깐,……응)
		PRINTFORMDL %cAction:1%
		PRINTFORML (정말로……, 벗어 버렸다……)
		PRINTW
		CALLF FIRSTTIME(@"{SELECTCOM}말-2")
	ELSEIF K17_GET_CLOTHNAME_TOP(TARGET, 1) != ""
		PRINTFORML 「아……기다려……」
		PRINTFORMDL %cAction:1%
		PRINTW
	ENDIF

	PRINTFORML 「다른 사람한테 들켜버릴지도……그러니깐……빨리, 하자?」
	PRINTFORMDL %cAction%
	PRINTFORML 「%K17_AP_NUM(2)%……%K17_CNAME()%, %K17_CALL_P(K17C_부위B)% 좋아하잖아……%K17_AP_NUM(3,1)%」
	PRINTFORMDL %cReAction%
	PRINTFORML (역시……%K17_RS("없이 하는게/직접 하는게")%……%K17_RS("좋아해/기분이 좋아/느껴버려")%)
	PRINTFORML 「%K17_AUTO_PVOICE()%」
	
ENDIF

;-------------------------------------------------
;313, 가슴애무
;기입 체크(=0, 비표시, 1, 표시)
;2번째 이후 감도 3까지 or사모 미만 or누군가 있는 등의 범용
LOCAL = 1
;-------------------------------------------------
IF LOCAL && (iExFlag && iMOB) || !iExFlag
	
	;-----------------
	;허덕여타입 선택
	;-----------------
	IF iFriends
		;친구가 있으면 싫어해
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위B, K17C_접수_억지로계)
	ELSE
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위B, K17C_접수_합의덮쳐계)
	ENDIF
	
	PRINTFORMDL %타겟은% 깜짝 놀란 듯 반응하더니, 가슴 위에 놓인 %CALLNAME:MASTER%의 손에 손을 포갰다
	PRINTFORML 「다시 %K17_CALL_P(K17C_부위B)%, %K17_AP_NUM(2)%……%K17_RS("상냥하게/천천히/기다려")%%K17_AP_NUM(3,1)%」
	PRINTW
	
	;통상 처리
	PRINTFORMDL %cAction%
	PRINTFORML 「%K17_AUTO_PVOICE()%」
	PRINTFORMDL %cReAction%
	PRINTW
	;가슴의 상태 분기
	SELECTCASE iBust
		CASE 0
			PRINTFORML (이거……옷에 스쳐서……조금 %K17_RS("아파/초조해져/간지러워")%……)
		CASE 1
			PRINTFORML (이거……속옷에 스쳐서……조금 %K17_RS("아파/초조해져/간지러워")%……)
		CASE 2
			PRINTFORML (이거……피부에 그대로……바보 변태 %K17_HEART()%……)
	ENDSELECT
	
	;사람이 있을까 본다
	IF iFriends
		PRINTFORML (소리……나와버려……%K17_CNAME(iFriends)%에 %K17_RS("들켜버/목소리 들려버")%려 ……)
	ELSEIF iMOB
		PRINTFORML (소리……나와버려……다른 사람한테 %K17_RS("들켜버/목소리 들려버")%려 ……)
	ENDIF
	RETURN 1
ENDIF



RETURN 1
;====================================================================================================
;314, 애널애무
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_314
IF FLAG:시간정지 || CFLAG:TARGET:수면
	CALL TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_수면애무
ELSE
	;CALL K17_SKIP_TRAIN_MESSAGE
	CALL TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_314_1
ENDIF
RETURN 1

@M_KOJO_MESSAGE_COM_K17_314_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;315, 구리 애무
;구성은 가슴과 함께
;알몸팔짱도 커맨드 나오므로 복장 체크 주의
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_315
IF FLAG:시간정지
	CALL TRAIN_MESSAGE
ELSEIF CFLAG:우후후==2
	CALL TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_315_우후후
ELSEIF CFLAG:TARGET:수면
	CALL TRAIN_MESSAGE
	TRYCALL M_KOJO_MESSAGE_COM_K17_수면애무
ELSE
	;CALL TRAIN_MESSAGE
	CALL K17_SKIP_TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_315_1
	PRINTW
	CALL K17_DATE_HITOGOMI_MESSAGE
ENDIF
RETURN 1
@M_KOJO_MESSAGE_COM_K17_315_우후후
;-------------------------------------------------
;카운터 우후후 때의 커맨드
;-------------------------------------------------
#DIM iType	;타입 일시 보존
iType = CFLAG:K17C_ID:K17C_CF_허덕여타입
CFLAG:K17C_ID:K17C_CF_허덕여타입 = K17C_접수_애원계
CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(), K17C_부위C)
PRINTFORML 「%K17_AUTO_PVOICE()%」
CFLAG:K17C_ID:K17C_CF_허덕여타입 = iType
PRINTW
RETURN 1
@M_KOJO_MESSAGE_COM_K17_315_1
;-------------------------------------------------
;일상 커맨드
;-------------------------------------------------
;각종 초기화
;-------------------------------------------------
#DIM iRT		;EX 데이트라고
#DIM iFriends	;아는 사람이 있을까 본다
#DIM iMOB		;타인이 있을까 본다
#DIM iExFlag	;추가 조건 플래그
#DIM iAnger		;이 커맨드 선택으로 화날지 어떨지
#DIM iTouch		;터치하고 있는 장소
#DIMS cAction, 2	;감도에 의한 행동
#DIMS cReAction	;감도에 의한 반응
#DIMS cCli		;구리의 묘사 보통 구리인가 후타나리 아이 구리 자지인가
#DIMS cWet		;젖는 상태의 텍스트

iRT = K17_GRT_EX()
iAnger = K17_CHECK_ANGER_COM(TARGET)
iTouch = 0
VARSET cAction
cReAction =
cCli =
cWet =
;-----------------
;허덕여타입 선택
;-----------------
CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위C)
iFriends = 0
iMOB = 0
iExFlag = 0

;구리의 타입 선택 내친 김에 발기도도
IF GETBIT(TALENT:TARGET:성별, 1)
	IF BASE:발기 >= 1000
		cCli += "바짝 서버린 "
	ELSE
		cCli += "살짝 돋은 "
	ENDIF
	cCli += K17_RS("아이 같은 /깜찍한 ") + "후타나리"
ELSE
	SIF PALAM:욕정 >= PALAMLV:4
		cCli += "바짝 서버린 "
	cCli += K17_RS("클리토리스/돌기")
ENDIF

;젖는 상태의 묘사
IF PALAM:윤활 > PALAMLV:4
	cWet = 질퍽질퍽하게 젖은
ELSEIF PALAM:윤활 > PALAMLV:2
	cWet = 희미하게 습기찬
ENDIF

;타인 혹은 모브가 있을까 보는 김에 아는 사람인가 어떤가도 본다
IF (DATE_HITOGOMI() || WITH_MOB() == 9) || GET_TARGETNUM() > 1
	iMOB = 1
	iFriends = K17_GET_FRIENDS_TARGET(TARGET)
ENDIF

;추가 조건식
;C감각 5이상＆사모 밀회 이상
SIF ABL:C감각 >= 5 && iRT >= K17C_사모밀회 && BASE:무드 >= 500
	iExFlag = 1
;5미만이라면 사랑으로 커버
SIF iRT >= K17C_연모 && BASE:무드 >= 500
	iExFlag = 2
;분노 붙는 것 같으면 억지로
SIF iAnger && iRT >= K17C_사모밀회
	iExFlag = 2
;비켜 놓을 수 없는 속옷 바지라면 확장은 회피
SIF TEQUIP:0 & 16 || !(EQUIP:치마|| EQUIP:원피스|| EQUIP:기모노)
	iExFlag = 0

;뒤로 붙이는 Action
IF ABL:C감각 <= 3
	cAction:1 = 살며시 어루만졌다
ELSEIF ABL:C감각 <= 5
	cAction:1 = 살짝 집어올렸다
ELSE
	cAction:1 = 느긋히 주물러댔다
ENDIF
;감각별 리액션
IF ABL:C감각 <= 3
	cReAction = %타겟은% 간지러워 보였다………
ELSEIF ABL:C감각 <= 5
	cReAction = %타겟은% 애무에 뜨거운 숨결을 내뱉고 있었다………
ELSE
	cReAction = %타겟은% 몽롱한 표정으로 당하고 있었다………
ENDIF

;-------------------------------------------------
;315, 구리 애무
;지문 개시
;-------------------------------------------------
PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 고간에 손을 뻗었다……
;-------------------------------------------------
;315, 구리 애무
;기입 체크(=0, 비표시, 1, 표시)
;실패 분노가 붙는다
LOCAL = 1
;-------------------------------------------------
IF LOCAL && ( iAnger || CFLAG:빡침 ) && !iExFlag
	PRINTFORMDL %타겟은% 재빠르게 \@TEQUIP ?  %K17_GET_CLOTHNAME_BOTTOM(TARGET, 1)%#고간\@을 눌러, %CALLNAME:MASTER%의 손을 뿌리쳤다
	PRINTW
	PRINTFORM 「싫어…… 진짜……」
	TRYCALL K17_인형대사(-1, 1, K17_RS("치한/여성의 적/변태"))
	RETURN 1
ENDIF
;-------------------------------------------------
;315, 구리 애무
;기입 체크(=0, 비표시, 1, 표시)
;실패 분노가 붙는다　RT조건 채우고 있는 시 억지로
LOCAL = 1
;-------------------------------------------------
IF LOCAL && ( iAnger || CFLAG:빡침 ) && iExFlag
	PRINTFORMDL %타겟은% 재빠르게 \@TEQUIP ?  %K17_GET_CLOTHNAME_BOTTOM(TARGET, 1)%#고간\@을 누르며 %CALLNAME:MASTER%의 손을 뿌리쳤다
	PRINTW
	;천의 타입을 바꾼다
	CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위C, K17C_접수_억지로계)
	;텍스트 초기화
	cAction = %마스터는% 싫어하는 %CALLNAME:TARGET%를 보고 더 흥분해선
	IF TEQUIP:하반신착의상황 & 1
		;우선 넘길 수 있는 것은 넘기는
		cAction += @"%K17_GET_CLOTHNAME_BOTTOM(TARGET)%를 억지로 걷어 올리고,"
	ELSEIF K17_GET_CLOTHNAME_BOTTOM(TARGET) != ""
		cAction += @"%K17_GET_CLOTHNAME_BOTTOM(TARGET)%를 벗게 해"
	ENDIF
	;속옷 체크
	SIF K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET) != ""
		cAction += @"%K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)%도 벗겨내서, \n"
	cAction += @"%K17_RS("노출")%이 된 %cCli%를 계속 만졌다"
	PRINTFORML 「%K17_AP_NUM(2)% 저……, 기 %K17_RS("너무 나갔잖아/너무 격하잖아")% %K17_RS("안 돼/싫어")%%K17_AP_NUM(2,1)%」
	PRINTFORMDL %cAction%
	PRINTFORML 「%K17_CALL_P(K17C_부위C) %%K17_RS("그만두라/싫, 다/만지지 말")%니깐…… %K17_AP_NUM(3,1)%」
	SIF K17_ABL_RT_EX(iRT, K17C_부위C)
		PRINTFORMDL %타겟은% 싫어하면서도 느껴 버리고 있었다……
	RETURN 1
ENDIF
;-------------------------------------------------
;315, 구리 애무
;기입 체크(=0, 비표시, 1, 표시)
;첫회 성공　or　모브 없음 EX 전모브 있는 EX
;위 있어라면 넘기는 만
LOCAL = 1
;-------------------------------------------------
IF LOCAL && FIRSTTIME(@"{SELECTCOM}말", 1) || (!iMOB && !iExFlag) || (iMOB && iExFlag)
	PRINTFORMDL %타겟은% 깜짝 놀란 듯 반응하더니, \@TEQUIP ? %K17_GET_CLOTHNAME_BOTTOM(TARGET, 1)%#고간\@ 위에 놓인 %CALLNAME:MASTER%의 손에 손을 포갰다
	PRINTW
	
	IF FIRSTTIME(@"{SELECTCOM}말")
		PRINTFORM 「잠깐………… 거기…… 만지고 싶어……?」
		TRYCALL K17_인형대사(-1, 1, K17_RS("치한/엉큼해/변태"))
		PRINTFORMDL 어쩌다 만지고 말았는데, 싫었던 걸까
		PRINTFORMDL %타겟은% 대답 없이 힘없이 손을 포개더니, 얼굴을 새빨갛게 한 채 눈을 감고 있었다
	ELSE
		PRINTFORML 「또 거기, %K17_AP_NUM(2)%…… %K17_RS("상냥하게/천천히/기다려")%, %K17_AP_NUM(1,1)%」
	ENDIF
	;-----------------
	;허덕여타입 선택
	;-----------------
	;친구가 있으면 싫어해
	IF iFriends
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위C, K17C_접수_억지로계)
	ELSE
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위C, K17C_접수_합의덮쳐계)
	ENDIF
	;첫회는 치마 넘기고 팬티 위로부터 팬티 없었으면 직
	cAction = %마스터는% %CALLNAME:TARGET%의
	IF TEQUIP:하반신착의상황 & 1
		cAction += @"%K17_GET_CLOTHNAME_BOTTOM(TARGET)%에 손을 %K17_RS("쑤셔넣어/찔러넣어")%,"
		IF K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET) != ""
			;치마＆팬티
			cAction += @"%cWet%%PANTS_DESCRIPTION(EQUIP:하반신속옷2, TARGET) %%K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)% 위로부터 \n"
			iTouch = 1
		ELSE
			;치마있어 노팬티
			cAction += "속옷 없이 그대로 드러난"
			iTouch = 0
		ENDIF
	ELSEIF TEQUIP:하반신착의상황
		;치마이외의이나 속옷상으로부터
		cAction += @"%cWet%%K17_GET_CLOTHNAME_BOTTOM(TARGET)% 위로"
		iTouch = RESULT
	ELSE
		;입지 않았다라면
		cAction += "드러난"
		iTouch = 0
	ENDIF
	
	
	;치마이외 무엇인가 있으면 구리 상태를 고쳐 쓴다
	;구리의 타입 선택 내친 김에 발기도도
	IF !iTouch
		cCli =
		IF GETBIT(TALENT:TARGET:성별, 1)
			SIF BASE:발기 >= 1000
				cCli += "볼록하게 눈에 띄는, "
			cCli += K17_RS("아이 같은 /깜찍한 ") + "후타나리"
		ELSE
			SIF PALAM:욕정 >= PALAMLV:4
				cCli += "볼록하게 눈에 띄는, "
			cCli += K17_RS("클리토리스 /돌기 ")
		ENDIF
	ENDIF
	
	PRINTFORMDL %cAction%%cCli%를 %cAction:1%
	;통상 처리
	PRINTW
	PRINTFORML 「%K17_AUTO_PVOICE()%」
	PRINTFORMDL %cReAction%
	PRINTW
	;고간 상태 분기
	SELECTCASE iTouch
		CASE 0
			PRINTFORML (이거…… 피부에 그대로…… 바보 변태%K17_HEART()%……)
		CASE 1
			PRINTFORML (이거…… 속옷에 스쳐서…… 조금 %K17_RS("아파/초조해져/간지러워")%……)
		CASE 2
			PRINTFORML (이거…… 옷에 스쳐서…… 조금 %K17_RS("아파/초조해져/간지러워")%……)
	ENDSELECT
	;사람이 있을까 본다
	IF iFriends
		PRINTFORML (소리……나와버려……%K17_CNAME(iFriends)%에 %K17_RS("들켜버/목소리 들려버")%려 ……)
	ELSEIF iMOB
		PRINTFORML (소리……나와버려……다른 사람한테 %K17_RS("들켜버/목소리 들려버")%려 ……)
	ENDIF
	RETURN 1
ENDIF
;-------------------------------------------------
;315, 구리 애무
;기입 체크(=0, 비표시, 1, 표시)
;2번째 이행 확장
;비켜 놓을 수 없는 녀석은 회피
LOCAL = 1
;-------------------------------------------------
IF LOCAL && iExFlag && !iMOB
	;--------------
	;치마안 몸을 묘사
	;-------------- 
	;젖는 상태의 묘사
	IF PALAM:윤활 > PALAMLV:4
		cAction = 질척하게 젖은
	ELSEIF PALAM:윤활 > PALAMLV:2
		cAction = 희미하게 습기찬
	ENDIF
	IF K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET) != ""
		;속옷 있어
		cAction  += PANTS_DESCRIPTION(EQUIP:하반신속옷2, TARGET) +K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)
	ELSE
		cAction += K17_RS("은밀한 곳/은밀한 부분/은밀한 틈")+"과"+cCli
	ENDIF
	
	;-----------------
	;허덕여타입 선택 옥내만 애원
	;-----------------
	IF INROOM(CFLAG:현재위치)
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위B, K17C_접수_애원계)
	ELSE
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위B, K17C_접수_도움계)
	ENDIF
	
	;-----------------
	;표시 개시
	;옷을 풍미로 벗게 한다
	;-----------------
	PRINTFORMDL %타겟은% %K17_RS("황홀한 표정으로/얼굴을 홍조시킨 채/달콤한 숨결을 내쉬며")%, \@TEQUIP ?  %K17_GET_CLOTHNAME_BOTTOM(TARGET)%#고간\@ 위에 놓인 %CALLNAME:MASTER%의 손에 손을 포갰다
	PRINTW
	;벗어 첫회
	;속옷 입고 있어 본다
	IF FIRSTTIME(@"{SELECTCOM}말-2", 1) && K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET) != ""
		PRINTFORML 「아……기다려, 그러니까……그……」
		PRINTFORMDL %타겟은% 주위를 경계하면서, %CALLNAME:MASTER%에게 얼굴을 대더니 작은 소리로 귓속말을 한다
		PRINTFORML 「있잖아, 속옷 입은 상태로 하면…… 아프니깐……벗고 하자……?」
		PRINTFORML (괜찮겠지…… 이 정도라면…… 입고 있으면 아프니깐,……응)
		CALLF FIRSTTIME(@"{SELECTCOM}말-2")
	ELSE
		PRINTFORML 「아……기다려……」
	ENDIF
	PRINTW
	;과시하고 기정치 넘고 있으면(자) 65%
	IF iExFlag >= 2 && K17_PERCENT(65)
		PRINTFORML 「……네, 이걸로……그……더 하기 쉬워졌지? %K17_BLUSH()%%K17_RS("상냥히 해줘/천천히 해줘/거칠게 하지 말아줘")%…… 응?」
		;치마체크
		IF TEQUIP:하반신착의상황 & 1
			;치마있어
			PRINTFORMDL %타겟은% %K17_GET_CLOTHNAME_BOTTOM(TARGET)%를 천천히 걷어 올리더니, %CALLNAME:MASTER%의 눈앞에서 %cAction%를 과시해 왔다……
		ELSE
			PRINTFORMDL %타겟은% 스스로 다리를 벌리면서, %CALLNAME:MASTER%의 눈앞에서%cAction%를 과시해 왔다……
		ENDIF
		PRINTFORML 「%K17_RS("눈이 충혈됐어/방금 침 삼켰어/변태같은 얼굴 하고 있어")%……%K17_RS("엉큼해/변태/색골")%……」
		;속옷 체크
		SIF K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET) != ""
			PRINTFORMDL 그리고 %타겟은% 스스로 %K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)%를 제껴놓고선 %K17_RS("은밀한 곳/은밀한 부분/은밀한 틈")%을 드러냈다
		PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 드러난 %cCli%를 %cAction:1%

	;부끄럽게 여기기
	ELSE
		PRINTFORML 「그…… %K17_RS("상냥히 해줘/천천히 해줘/거칠게 하지 말아줘")%…… 응?」
		;치마체크
		IF TEQUIP:하반신착의상황 & 1
			;치마있어
			PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 %K17_GET_CLOTHNAME_BOTTOM(TARGET)%를 젖혀선 %cAction%를 드러내고 가득찬 열기를 느꼈다
		ELSE
			PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 다리를 벌리며,%cAction%를 물끄러미 응시했다
		ENDIF
		;속옷 체크
		SIF TEQUIP:0 & 2
			PRINTFORMDL 그리고 %마스터는% %CALLNAME:TARGET%의 %K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)%를 밀어놓고선 비부를 노출시켰다
		PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 노출의%cCli%를 %cAction:1%
	ENDIF
	PRINTFORML 「%K17_AP_NUM(2)%…… %K17_CALL_P(K17C_부위C)% %K17_RS("좋아/기분 좋아/느껴버려")% %K17_AP_NUM(3,1)%」
	PRINTFORMDL %cReAction%
	PRINTFORML (역시…… %K17_RS("없이 하는게/직접 하는게")%…… %K17_RS("좋아해/기분이 좋은/느껴버려")%)
	PRINTFORML 「%K17_AP_NUM(2) %%K17_RS("동글동글/스윽스윽/주물주물")%하는 거 %K17_RS("좋아/좋아해/좀 더 해")%%K17_HEART()% ……%K17_AP_NUM(2,1)%」
	RETURN 1
ENDIF
;-------------------------------------------------
;315, 구리 애무
;기입 체크(=0, 비표시, 1, 표시)
;2번째 이행 모브 있어 범용
LOCAL = 1
;-------------------------------------------------
IF LOCAL && iMOB
	PRINTFORMDL %타겟은% 깜짝 놀란 듯 반응하더니 \@TEQUIP ? %K17_GET_CLOTHNAME_BOTTOM(TARGET)%#고간\@ 위에 놓인 %CALLNAME:MASTER%의 손에 손을 포갰다
	PRINTW
	;-----------------
	;허덕여타입 선택
	;-----------------
	;친구가 있으면 싫어해
	IF iFriends
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위C, K17C_접수_억지로계)
	ELSE
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위C, K17C_접수_합의덮쳐계)
	ENDIF
	;범용은 맨 위의 복상으로부터 애무 벌거숭이라면 직
	cAction = %마스터는% %CALLNAME:TARGET%의
	IF TEQUIP:하반신착의상황
		cAction += @"%K17_GET_CLOTHNAME_BOTTOM(TARGET, 1)% 위로부터"
		iTouch = RESULT
	ELSE
		;하반신노출
		cAction += @"드러난"
	ENDIF
	;통상 처리
	PRINTFORMDL %cAction%%cCli%를 %cAction:1%
	PRINTFORML 「%K17_AUTO_PVOICE()%」
	PRINTFORMDL %cReAction%
	PRINTW
	;고간 상태 분기
	SELECTCASE iTouch
		CASE 0
			PRINTFORML (이거…… 피부에 그대로…… 바보 변태%K17_HEART()%……)
		CASE 1
			PRINTFORML (이거…… 속옷에 스쳐서…… 조금 %K17_RS("아파/초조해져/간지러워")%……)
		CASE 2,3
			PRINTFORML (이거…… 옷에 스쳐서…… 조금 %K17_RS("아파/초조해져/간지러워")%……)
	ENDSELECT
	;사람이 있을까 본다
	IF iFriends
		PRINTFORML (소리……나와버려……%K17_CNAME(iFriends)%한테 %K17_RS("들켜버/목소리 들려버")%려 ……)
	ELSEIF iMOB
		PRINTFORML (소리……나와버려……다른 사람한테 %K17_RS("들켜버/목소리 들려버")%려 ……)
	ENDIF
	RETURN 1
ENDIF
RETURN 1

;====================================================================================================
;316, 지삽
;어떤 것에서도 손가락은 넣어버린다
;EX에서는 손가락 페라 추가
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_316
IF FLAG:시간정지 || CFLAG:우후후==2 || CFLAG:TARGET:수면
	CALL TRAIN_MESSAGE
	TRYCALL M_KOJO_MESSAGE_COM_K17_수면애무
	SIF CFLAG:우후후==2
		CALL M_KOJO_MESSAGE_COM_K17_316_우후후
ELSE
	;CALL TRAIN_MESSAGE
	CALL K17_SKIP_TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_316_1
	PRINTW
	CALL K17_DATE_HITOGOMI_MESSAGE
ENDIF
RETURN 1
;-------------------------------------------------
;카운터 우후후 때의 커맨드
;-------------------------------------------------
@M_KOJO_MESSAGE_COM_K17_316_우후후
#DIM iType	;타입 일시 보존
iType = CFLAG:K17C_ID:K17C_CF_허덕여타입
CFLAG:K17C_ID:K17C_CF_허덕여타입 = K17C_접수_애원계
CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(), K17C_부위V)
PRINTFORML 「%K17_AUTO_PVOICE()%」
CFLAG:K17C_ID:K17C_CF_허덕여타입 = iType
PRINTW
RETURN 1
@M_KOJO_MESSAGE_COM_K17_316_1
;-------------------------------------------------
;일상 커맨드
;-------------------------------------------------
;변수
;-------------------------------------------------
#DIM iRT			;EX 데이트라고
#DIM iSub_TARGET	;앨리스 이외의TARGET
#DIM iMOB			;모브의 판정
#DIM iExFlag		;추가 조건 플래그
#DIM iAnger			;이 커맨드 선택으로 화날지 어떨지
#DIM iKiss			;츄파음의 감각
#DIMS cAction		;감도에 의한 행동
#DIMS cReAction		;감도에 의한 반응
#DIMS cWet			;젖는 상태　+팬티 or성기를 붙인다
#DIMS cB_Action, 2	;하반신복장에 대한 액션 0옷 1 속옷 벗겨낸다든가 넘기면 빌려주자 말해
#DIMS cALICE		;앨리스의 대사
;-------------------------------------------------
;각종 초기화
;-------------------------------------------------
iRT = K17_GRT_EX(TARGET)
iAnger = K17_CHECK_ANGER_COM(TARGET)
VARSET cAction
VARSET cB_Action
cReAction =
cWet =
iKiss = 0
;글로벌로 해 보므로　RT, 감각 부위를 보존
CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위V)

;-------------------------------------------------
;모브 검색
;-------------------------------------------------
iMOB = 0
iSub_TARGET = 0
IF GET_TARGETNUM() > 1
	;앨리스 이외의TARGET가 있다
	iMOB = 1
	iSub_TARGET = K17_GET_TARGETS_ID()
ENDIF
;그외모브
SIF (DATE_HITOGOMI() || WITH_MOB() == 9)
	iMOB = 1
;사람 있을 때는 천분도 바꾼다
SIF iMOB
	CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위V, K17C_접수_억지로계)
;-------------------------------------------------
;추가 조건식
;-------------------------------------------------
iExFlag = 0
;C감각 5이상＆사모 밀회 이상
SIF ABL:V감각 >= 5 && iRT >= K17C_사모밀회 && BASE:무드 >= 500 && !iMOB
	iExFlag = 1
;5미만이라면 사랑으로 커버
SIF iRT >= K17C_연모 && BASE:무드 >= 500 && !iMOB
	iExFlag = 2
;-------------------------------------------------
;복장 판정
;-------------------------------------------------
;젖는 상태의 묘사
IF PALAM:윤활 > PALAMLV:4
	cWet += "질척하게 젖은"
ELSEIF PALAM:윤활 > PALAMLV:2
	cWet += "희미하게 습기찬"
ENDIF

IF TEQUIP:하반신착의상황 & 1
	;치마있어
	cB_Action:0 = %K17_GET_CLOTHNAME_BOTTOM(TARGET)%를 걷어 올리고,
ENDIF
;속옷 판정
IF K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET) != ""
	;속옷 있어
	cB_Action:1 = %cWet%%K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)%의 틈새로부터 %K17_RS("성기/은밀한 곳/은밀한 틈")%에
ELSE
	cB_Action:1 = 드러난 %cWet%%K17_RS("성기/은밀한 곳/은밀한 틈에")%에
ENDIF
;-------------------------------------------------
;감각 판정 액션
;-------------------------------------------------

IF TALENT:처녀 == 1
	cAction = , 처녀막을 손상시키지 않게끔 조심스레 손가락을 삽입했다……
ELSE
	;감각 판정
	IF ABL:V감각 < 1
		cAction = , 천천히 손가락을 삽입했다……
	ELSEIF ABL:V감각 <= 2
		cAction = 손가락을 삽입한 뒤, 천천히 움직였다……
	ELSE
		;5(으)로부터
		cAction = 손가락을 삽입한 뒤, %K17_RS("휘젓듯이/격렬하게/느끼는 포인트를 찾아내려는 듯이")% 움직였다……
	ENDIF
ENDIF
;-------------------------------------------------
;감각 판정 리액션
;-------------------------------------------------
IF TALENT:처녀
	cReAction = %타겟은% 몸이 굳어져선, 불안한 얼굴로 %마스터를% 보고 있다……
	
ELSE
	
	;감각 판정 실수치
	IF ABL:V감각 < 1
		cReAction = %타겟은% 강한 이물감 때문인지 몸을 경직시켰다……
	ELSEIF ABL:V감각 <= 4
		cReAction = %타겟은% 애무에 뜨거운 숨결을 내쉬고 있다……
	ELSE
		;5(으)로부터
		cReAction = %타겟은% 침을 흘려대면서, 스스로 허리를 %K17_RS("내밀며/흔들며")% 쾌락에 취해 있었다……
	ENDIF
	
ENDIF

;-------------------------------------------------
;지문 개시
;-------------------------------------------------
PRINTFORMDL %조교자는% %CALLNAME:TARGET%의 %cB_Action%%K17_RS("고간/은밀한 곳")%에 손을 뻗었다……

;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;316, 손가락삽입
;실패 분노 붙는 녀석
LOCAL = 1
;-------------------------------------------------
IF LOCAL && iAnger
	;타입의 변경
	CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위V, K17C_접수_억지로계)
	PRINTFORMDL %타겟은% 재빠르게 \@TEQUIP:하반신착의상황 & 1 ?  %K17_GET_SKIRT(TARGET)%#고간\@을 누르며 %CALLNAME:MASTER%의 손을 뿌리쳤다
	PRINTW
	;묘사 바꾸고
	;속옷 판정 원수째다 이것
	;IF TEQUIP:0 & 2
	IF K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET) != ""
		;속옷 있어
		cB_Action:1 = %cWet%%K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)%를 벗겨서 %K17_RS("성기/은밀한 곳/은밀한 틈")%에
	ELSE
		cB_Action:1 = 드러난 %cWet%%K17_RS("성기/은밀한 곳/은밀한 틈")%에,
	ENDIF
	PRINTFORML 「%K17_AP_NUM(2)%……%K17_RS("너무 난폭하/너무 나갔")%잖아, %K17_AP_NUM(3,1)%」
	PRINTFORMDL %마스터는% 싫어하는 %CALLNAME:TARGET%를 보고 더 흥분해서는 %cB_Action:1% 손가락을 넣고 %K17_RS("격렬하게/난폭하게")% 휘저었다
	PRINTFORML 「꺄악!　%K17_AP_NUM(2) %%K17_RS("그만햇/싫엇/하지맛")%, %K17_AP_NUM(3,1)%」
	
	IF TALENT:처녀
		PRINTFORMDL %타겟은% %CALLNAME:PLAYER%의 손가락을 막으려는 듯이 허벅지를 꽉 오므렸다……
	ELSEIF K17_ABL_RT_EX(iRT, K17C_부위V)
		;보정 첨부 감각 수치가  0이외
		PRINTFORMDL %타겟은% 싫어하면서도 느껴 버리고 있었다……
	ENDIF
	RETURN 1
ENDIF

;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;316, 손가락삽입
;첫회　EX이전 사람 있는 등
LOCAL = 1
;-------------------------------------------------
IF LOCAL && (FIRSTTIME(@"{SELECTCOM}말", 1) || !iExFlag)
	PRINTFORMDL %타겟은% 깜짝 놀란 듯 반응하더니, \@TEQUIP:하반신착의상황 & 1 ? %K17_GET_SKIRT(TARGET)%#고간\@을 손으로 눌렀다
	PRINTW
	
	;사람이 있으면 허덕여타입 변경
	IF iMOB
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위V, K17C_접수_억지로계)
		cALICE = 지금, 은 %K17_RS("안 돼엣/하지맛/싫엇")%
	ELSEIF TALENT:처녀 != 0 &&  TALENT:처녀 != -1
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위V, K17C_접수_합의덮쳐계)
		cALICE = 처녀막 %K17_RS("스윽스윽/빙글빙글/미끌미끌")% 하지맛,
	ELSEIF !TALENT:처녀
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위V, K17C_접수_합의덮쳐계)
		;감각 판정 말
		SELECTCASE ABL:V감각
			CASE IS < 1
				cALICE = %K17_RS("아직 이상한 느낌/조금 아파")%,
			CASE IS <= 4
				cALICE = 찌걱찌걱 %K17_RS("싫엇/하지맛/아앙")%,
			CASEELSE
				cALICE = 찌걱찌걱 %K17_RS("기분 좋앗/")%
		ENDSELECT
	ENDIF
	
	
	;첫회 일단 옷 입고 있어, 사람 있을까를 본다
	IF FIRSTTIME(@"{SELECTCOM}말", 1) && TEQUIP:0 && !iMOB
		PRINTFORM 「히약! 엣…… 엣……, 거기에 손가락, 넣고 싶……어?」
		TRYCALL K17_인형대사(-1, 1, K17_RS("치한/엉큼해/변태"))
		PRINTFORMDL 어쩌다 만지고 말았는데, 싫었던 걸까
		;재생 처녀 이외
		IF TALENT:처녀==1 || TALENT:처녀 == -1
			PRINTFORML 「그러니까…… 나, 나…… 그 경험 없어서 %K17_BLUSH()% ……그러니까 무조건 상냥하게…… 해?」
			PRINTFORMDL 라고 하면서 새빨간 얼굴로 고백하는 %CALLNAME:TARGET%
		ENDIF
		;무자각
		SIF TALENT:처녀 == -1
			PRINTFORMDL 이미 개통을 끝내놓은 상태인데도, %타겟은% 아직도 처녀라고 믿고 있는 것 같다……
		PRINTFORML 「만져도 괜찮지만…… 너무 격렬하게 하면, 안 된다……니깐……」
		CALLF FIRSTTIME(@"{SELECTCOM}말")
	ELSE
		;2회째 이후
		;사람 있을까 본다
		IF iMOB
			PRINTFORML 「안 돼, 지금은……%K17_AP_NUM(3,1)%」
		ELSE
			PRINTFORML 「%K17_RS("햣/응/하앗")%…… %K17_RS("천천히/상냥하게")%…… 해\@iRT >= K17C_연모? %K17_HEART()% # %K17_BLUSH()%\@ %K17_AP_NUM(2,1)%」
		ENDIF
	ENDIF
	PRINTW
	;액션
	PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 %cB_Action:1%%cAction%
	PRINTFORML 「%K17_AP_NUM(2) %%cALICE%%K17_AP_NUM(3,1)%」
	
	;젖는 상태 보는 커어억 처리로부터 비처녀 옥내 한정
	IF PALAM:윤활 > PALAMLV:4 && !TALENT:처녀 && INROOM(CFLAG:현재위치)
		PRINTW
		PRINTFORMDL %마스터가% 손가락을 움직일 때마다 %CALLNAME:TARGET%의 %K17_RS("은밀한 곳/은밀한 틈/성기")%에서 %K17_RS("질척질척/질퍽질퍽/찌걱찌걱")% 거리는 소리가 조용한 실내에 %K17_RS("울리고 /메아리 치고")%있었다
		PRINTFORML 「소리, %K17_RS("안 돼/내지 마/그만둬") %%K17_AP_NUM(4,1)%」
	ENDIF
	
	;복장 체크한다
	IF K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET) != ""
		PRINTFORML (이거…… 속옷 더러워져버려……)
	ELSEIF K17_GET_CLOTHNAME_BOTTOM(TARGET) != ""
		;속옷 없음옷 있어
		PRINTFORML (이거…… 옷, 더러워져버려……)
	ENDIF
	;리액션
	PRINTFORMDL %cReAction%
	
	IF K17_GET_FRIENDS(iSub_TARGET)
		PRINTW
		PRINTFORML (소리를 멈출 수가 없어…… %K17_CNAME(iSub_TARGET)%한테 들려버려……)
		PRINTFORML (%K17_CNAME(iSub_TARGET)%한테…… 변태 취급 당해버려……)
	ELSEIF iMOB
		PRINTW
		PRINTFORML (소리를 멈출 수가 없어……다른 아이한테 들려버려……)
	ENDIF
	
	RETURN 1
ENDIF

;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;316, 손가락삽입
;2회째 이후 확장손가락 펠라도 하는 둘이서이므로 소리 있어
LOCAL = 1
;-------------------------------------------------
IF LOCAL && iExFlag

	PRINTL

	PRINTFORML 「아, 기다려……」
	PRINTFORMDL 그렇게 말하고 %타겟은% %CALLNAME:MASTER%의 손을 잡았다
	PRINTW
	
	;-----------------
	;신음 타입 선택 옥내만 애원
	;-----------------
	IF INROOM(CFLAG:현재위치)
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위B, K17C_접수_애원계)
	ELSE
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_부위B, K17C_접수_도움계)
	ENDIF
	
	IF TALENT:처녀 != 0 &&  TALENT:처녀 != -1
		cALICE = 처녀막%K17_RS("스윽스윽/빙글빙글/미끌미끌")%되고 있다,
	ELSEIF !TALENT:처녀
		;감각 판정 말
		SELECTCASE ABL:V감각
			CASE IS < 1
				cALICE = %K17_RS("아직 이상한 느낌/조금 아파")%,
			CASE IS <= 4
				cALICE = 찌걱찌걱 %K17_RS("기분 좋게/변태가")% 되어버렷,
			CASEELSE
				cALICE = 좀 더 %K17_RS("기분 좋게/갖고 싶게/변태가")% 되어버렷,
		ENDSELECT
	ENDIF
	;M감각 봐 2 미만이라면 풍미로
	IF ABL:M감각 >= 2
		iKiss = ABL:M감각
	ELSE
		iKiss = -1
	ENDIF
	
	
	;첫회
	IF FIRSTTIME(@"{SELECTCOM}말-2")
		PRINTFORML 「먼저 말하려고 생각했는데…… 그…… 갑자기 삽입되면 아프니까……」
		PRINTFORML 「응…… 가만히, 있어줘……, %K17_츄파음(K17C_접수_애원계, iKiss, 3,1)%」
		PRINTFORMDL %타겟은% %CALLNAME:MASTER%의 손가락을 입에 물고선, 타액을 발라대며 빨기 시작했다
		PRINTW
	ELSE
		PRINTFORML 「아암 %K17_HEART()%　……%K17_츄파음(K17C_접수_애원계, iKiss, 3,1)%」
		PRINTFORMDL %타겟이% %K17_RS("요염하게/정성스레")% %CALLNAME:MASTER%의 손가락을 %K17_RS("물어/빨아")% 적셨다
		
	ENDIF
	PRINTFORMDL %타겟은% %CALLNAME:MASTER%의 손가락을 물은 채로, 홍조 띤 얼굴로 올려다본다
	PRINTFORML 「이걸로…… %K17_츄파음(K17C_접수_애원계, iKiss, 2)%…… 상냥하게, 해줘…… 너무 세게 하면 안 돼?」
	PRINTW
	
	;액션
	PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 %cB_Action:1%%cAction%
	PRINTFORML 「%K17_AP_NUM(2) %%cALICE%%K17_AP_NUM(3,1)%」
	
	;젖는 상태 보는 커어억 처리로부터 비처녀 옥내 한정
	IF PALAM:윤활 > PALAMLV:4 && !TALENT:처녀 && INROOM(CFLAG:현재위치)
		PRINTW
		PRINTFORMDL %마스터가% 손가락을 움직일 때마다 %CALLNAME:TARGET%의 %K17_RS("은밀한 곳/은밀한 틈/성기")%에서 %K17_RS("질척질척/질퍽질퍽/찌걱찌걱")% 거리는 소리가 울린다
		PRINTFORML 「소리, %K17_RS("부끄러워/싫어엇/울리지 마")%%K17_AP_NUM(4,1)%」
	ENDIF
	
	;복장 체크한다
	IF K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)  != ""
		PRINTFORML (이거…… 속옷이 더러워져버려……)
	ELSEIF K17_GET_CLOTHNAME_BOTTOM(TARGET) != ""
		;속옷 없음옷 있어
		PRINTFORML (이거…… 옷, 더러워져버려……)
	ENDIF
	;리액션
	PRINTFORMDL %cReAction%
	
	
	RETURN 1
ENDIF

RETURN 1
;====================================================================================================
;317, V허리를 거절한다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_317
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_317_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_317_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL
CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(), K17C_부위V)
PRINTFORML 「%K17_AUTO_PVOICE()%」
ENDIF
RETURN 1
;====================================================================================================
;318, A허리를 거절한다
;====================================================================================================
;@M_KOJO_MESSAGE_COM_K17_318
;CALL TRAIN_MESSAGE
;CALL M_KOJO_MESSAGE_COM_K17_318_1
;RETURN RESULT

;@M_KOJO_MESSAGE_COM_K17_318_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;LOCAL = 0
;-------------------------------------------------
;IF LOCAL

;ENDIF
;RETURN 1

;====================================================================================================
;320, 상대주도정상위
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_320
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_320_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_320_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL
CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(), K17C_부위V)
PRINTFORML 「%K17_AUTO_PVOICE()%」
ENDIF
RETURN 1
;====================================================================================================
;322, 상대주도후배위
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_322
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_322_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_322_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL
CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(), K17C_부위V)
PRINTFORML 「%K17_AUTO_PVOICE()%」
ENDIF
RETURN 1

;====================================================================================================
;330, 치마걷어 올리기
;코피페정지 
;결국 전부 만들어 수선
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_330
IF FLAG:시간정지
	CALL TRAIN_MESSAGE
ELSE
	CALL K17_SKIP_TRAIN_MESSAGE
ENDIF
CALL M_KOJO_MESSAGE_COM_K17_330_1
CALL M_KOJO_MESSAGE_COM_K17_330_이상기상
RETURN 1

@M_KOJO_MESSAGE_COM_K17_330_1
#DIM iMOB = 0	;모브 플래그
#DIMS cPANTS	;치마안 몸의 묘사
#DIMS cALICE	;치마안 몸의 말
#DIMS cShade	;데리고 들어가지는 장소
#DIM iDoll = 0	;인형 플래그의 용기
#DIM iOpen = 0	;과시하고 필요치
#DIM iRT = 0	;관계치 Ex로 취한다
#DIM iAnger = 0 ;분노점등을 본다
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !FLAG:시간정지

	;--------------------
	;각종 초기화
	;--------------------
	iMOB = 0
	cShade =
	iOpen = 0
	iRT = K17_GRT_EX(TARGET)
	iAnger = K17_CHECK_ANGER_COM(TARGET)
	
	;타인이 있을까 체크
	IF GET_TARGETNUM() == 1 && !DATE_HITOGOMI(CFLAG:PLAYER:현재위치) && !WITH_MOB()
		SIF ABL:노출벽 > 3
			iOpen = 1
	ELSE
		iMOB = 1
		SIF ABL:노출벽 >= 5
			iOpen = 1
	ENDIF
	;옥외 체크 SHIGEMI
	IF INROOM(CFLAG:현재위치)
		cShade += "그늘"
	ELSE
		cShade += "수풀"
	ENDIF
	;치마안 몸
	VARSET cPANTS
	VARSET cALICE
	;보디 슈트
	IF EQUIP:TARGET:레오타드||  EQUIP:TARGET:보디슈트
		IF CFLAG:노팬티
			cPANTS += "선명히 돋아난 "
			IF GETBIT(TALENT:TARGET:성별, 1)
				cPANTS += "돌기"
			ELSE
				cPANTS += "균열부"
			ENDIF
		ELSE
			cPANTS += SHOW_하반신속옷(TARGET, 3)
			cALICE += "거기"
		ENDIF
	;팬티
	ELSEIF !CFLAG:노팬티
		IF GETBIT(TALENT:TARGET:성별, 1)
			IF BASE:발기 >= 1000
				cPANTS += "볼록하게 눈에 띄는 돌기 "
			ELSE
				cPANTS += "눈에 띄는 돌기 "
			ENDIF
			cPANTS += "와"
		ENDIF
		;젖는 상태
		IF PALAM:윤활 > PALAMLV:4
			cPANTS += "질퍽질퍽하게 젖은 "
		ELSEIF PALAM:윤활 > PALAMLV:2
			cPANTS += "희미하게 습기찬 "
		ENDIF
		;과시하고로 묘사 바꾸고
		IF iOpen
			cPANTS += PANTSNAME(EQUIP:TARGET:하반신속옷2, TARGET)
		ELSE
			cPANTS += PANTS_DESCRIPTION(EQUIP:TARGET:하반신속옷2, TARGET) +K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)
		ENDIF
		cALICE += K17_RS("팬티/속옷/팬티")
		
	;성기
	ELSE
		IF GETBIT(TALENT:TARGET:성별, 1)
			IF BASE:발기 >= 1000
				cPANTS += "바짝 서버린 "
			ELSE
				cPANTS += "살짝 돋은"
			ENDIF
			cPANTS += K17_RS("아이 같은 /깜찍한 ") + "후타나리와"
		ENDIF
		IF PALAM:윤활 > PALAMLV:4
			cPANTS += "허벅지까지 애액을 흘리는 "
		ELSEIF PALAM:윤활 > PALAMLV:2
			cPANTS += "미끌미끌한 애액에 젖은 "
		ENDIF
		cPANTS += "드러난"
		IF TALENT:체형 < 0
			cPANTS += K17_RS("어린 균열/어린 음순")
		ELSE
			cPANTS += K17_RS("은밀한 틈/은밀한 곳")
		ENDIF
		cALICE += K17_CALL_G(TARGET, 0,1)
	ENDIF
	;인형 랜덤
	iDoll = K17_GET_DOLL(-1)
	
	
	;--------------------
	;개시
	;--------------------
	IF CFLAG:우후후 == 2
		PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 %K17_GET_CLOTHNAME_BOTTOM(TARGET)%를 넘겨 젖히려 손을 뻗는다……
		PRINTW
	ELSE
		PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 %K17_GET_CLOTHNAME_BOTTOM(TARGET)%를 넘겨 젖히려 했다……
		PRINTW
	ENDIF
	;--------------------
	;조건식이 길어졌으므로 분할
	;한 번 판정에서 이길 수 있으면(자), 무드치만으로 이길 수 있도록(듯이)
	;--------------------
	RESULT = 0
	;미독＆호감도 5000, RT_EX의 사모키스 이상, 무드 반이상↑
	SIF FIRSTTIME(@"{SELECTCOM}말", 1) && (CFLAG:호감도 > 5000 && iRT > K17C_사모키스 && BASE:무드 > 500)
		RESULT = 1
	;팬티 보이고 기독＆무드 부족
	SIF !FIRSTTIME(@"{SELECTCOM}말", 1) && BASE:무드 > 500
		RESULT = 1

	;--------------------
	;실패
	;--------------------
	IF CFLAG:TARGET:빡침 == 1 || CFLAG:호감도 < 100 || TALENT:기분 == -1 || (iAnger && !RESULT)
		;확장 조건 채우지 않을 때의 실패
		PRINTFORM 「%K17_RS("큿/히/이")%!　%K17C_인형명 :iDoll%\@iDoll ?  #들\@!」
		TRYCALL K17_인형대사(iDoll, 1, K17_RS("치한/여성의 적/변태"))
		PRINTFORMDL %타겟은% %K17_GET_CLOTHNAME_BOTTOM(TARGET)%를 재빠르게 누르고서는, %CALLNAME:MASTER%에게 로우 킥을 먹이더니 추가로 %K17C_인형명:iDoll%의 창이 날아왔다
		PRINTW
		RETURN 1
	ELSEIF iAnger && RESULT
		;확장 조건 채우고 있는 때의 분노점등
		PRINTFORM 「지금은 %K17_RS("안 된다/싫다")%구……정말」
		TRYCALL K17_인형대사(iDoll, 1, K17_RS("치한/여성의 적/변태"))
		PRINTFORMDL %타겟은% 싫어하면서 %K17_GET_CLOTHNAME_BOTTOM(TARGET)%를 누르고 있다
		PRINTFORMDL %마스터는% 상관없다는 듯 %K17_GET_CLOTHNAME_BOTTOM(TARGET)%를 걷어 올리고, 살짝 보일 듯 말 듯 하는 %cPANTS%를 %K17_RS("감상했다/바라봤다/들여다봤다")%
		PRINTW
		RETURN 1
	ENDIF
	
	;--------------------
	;범용
	;--------------------
	IF !RESULT
		;호감도 부족의 우후후 안일까무슨 이것 나왔겠지요 ……
		IF CFLAG:우후후 == 2
			PRINTFORML 「%K17_RS("아앙/싫어/이 녀석")%, 지금 내 %cALICE% 보려고 한 거지……? 안. 돼!」
			PRINTFORMDL 좀 더 대단한 걸 하려 했지만…… 눈치 못 챈 듯하다
			PRINTW
			RETURN 1
		ENDIF
		SELECTCASE CFLAG:호감도
			CASE 100 TO 1000
				PRINTFORM 「%K17_RS("하앗/핫/이 녀석")%! %K17C_인형명 :iDoll%\@iDoll ?  #들\@!」
				TRYCALL K17_인형대사(iDoll, 1, K17_RS("치한/여성의 적/변태"))
				PRINTFORMDL %타겟은% 재빠르게 %K17_GET_CLOTHNAME_BOTTOM(TARGET)%를 눌렀고, %마스터는% %K17C_인형명:iDoll%에게 습격 당했다
				
			CASE 1001 TO 3000
				PRINTFORM 「%K17_RS("그만두라/싫다/싫, 다")%니깐, %K17_RS("최저/최악이")%네」
				TRYCALL K17_인형대사(iDoll, 1, K17_RS("치한/여성의 적/변태"))
				PRINTFORMDL %타겟은% %K17_GET_CLOTHNAME_BOTTOM(TARGET)%를 누른 채 %CALLNAME:MASTER%에게 항의했다
				
			CASE IS > 3001
				PRINTFORM 「%K17_RS("아앙/싫어/이 녀석")%, %K17_RS("색골/변태/아이")% 같네, 정말 바보」
				TRYCALL K17_인형대사(iDoll, 1, K17_RS("치한/색골/변태"))
				PRINTFORMDL %타겟은% %K17_GET_CLOTHNAME_BOTTOM(TARGET)%를 누른 채, 왠지 모르게 기쁜 듯이 %CALLNAME:MASTER%에게 항의했다
				
		ENDSELECT
		;럭키 색골
		IF K17_LUCKY_SUKEBE(35) && !INROOM(CFLAG:현재위치)
			PRINTW
			PRINTFORMDL 갑자기 바람이 한바탕 휙 불더니, %CALLNAME:TARGET%의 %K17_GET_CLOTHNAME_BOTTOM(TARGET)%를 들쳐 올렸다
			
			IF CFLAG:호감도 >= 1001
				IF CFLAG:노팬티
					PRINTFORMDL 들쳐진 옷에서 %HIP(TARGET)%가 슬쩍 보였다
				ELSE
					PRINTFORMDL 들쳐진 옷에서 %cPANTS%가 슬쩍 보였다
				ENDIF
			ELSE
				PRINTFORMDL %THIGHS(TARGET)%가 슬쩍 보였다
			ENDIF
			PRINTFORM 「꺄아악, %K17_RS("뭐야/어째서/싫어")%…… %K17_RS("최악이")%야……」
			TRYCALL K17_인형대사(iDoll, 1, K17_RS("럭키스케베/꺄-/보였다")+"!")
		ENDIF
		PRINTW
		RETURN 1
	ENDIF
	
	
	;--------------------
	;사모나 호감도 5000↑의
	;밀어넘어뜨려지고 안
	;--------------------
	IF CFLAG:우후후 == 2
		PRINTFORML 「%K17_RS("싫어/꺄악")%%K17_HEART()%그 정도로 내 %cALICE%가 보고 싶은거야?」
		PRINTFORMDL 그렇게 말하면서 %K17_RS("허리/엉덩이")%를 흔들며 항의하는 %CALLNAME:TARGET%
		PRINTFORMDL %K17_GET_CLOTHNAME_BOTTOM(TARGET)%로부터, 슬쩍 보이는 %cPANTS%를 즐겼다
		PRINTW
		RETURN 1
	ENDIF
	
	;--------------------
	;사모나 호감도 5000↑
	;MOB 유무로 반응 나누기
	;는 노출벽 5　없음은 노출벽 3으로 과시하고
	;SIF PALAM:욕정 > PALAMLV:4　그리고 기대
	;--------------------
	;--------------------
	;허가 첫회 한정
	;--------------------
	IF FIRSTTIME(@"{SELECTCOM}말")
		;인형 체크
		iDoll=K17_GET_DOLL(0)
		IF iDoll ==  K17C_인형수
			;양쪽 모두 아무렇지도 않으면 샹하이 우선
			iDoll = K17C_샹하이
		ENDIF
		PRINTFORM 「이 녀석, 대체 뭐하려는거야…… 변태%K17_HEART()%」
		TRYCALL K17_인형대사(iDoll, 1,"변태-")
		PRINTFORM 「속옷이 그리 궁금하면, %K17C_인형명:iDoll% 거라도 보고 있던가」
		TRYCALL K17_인형대사(iDoll, 1,"꺄-")
		PRINTFORMDL 시험 삼아 %K17C_인형명:iDoll%의 치마를 넘겨보니 드로워즈가 슬쩍 보이더니, %타겟이% 인형에게 수줍은 듯한 연기를 시켰다
		IF CFLAG:K17C_ID:K17C_CF_샹하이이벤트<=0
			PRINTFORMDL 정말로 능숙한 인형 조작 때문에, 인형이 마치 살아있는 것처럼 보였다
		ELSE
			PRINTFORMDL 샹하이를 보고 있었더니, 조금 미안해졌다……
		ENDIF
		PRINTW
		PRINTFORML 「애당초, 여성의 속옷을 훔쳐본다는 애들이나 할 법한 짓 좀 그만두세요」
		PRINTFORMDL 주절주절 설교하는 %CALLNAME:TARGET%지만, 일순간 바람이 불어 %CALLNAME:TARGET%의 %K17_GET_CLOTHNAME_BOTTOM(TARGET)%를 걷어올렸다
		PRINTFORM 「꺄아악, 싫어 ……봐, 봤어……?」
		TRYCALL K17_인형대사(iDoll, 1,"보였다!")
		IF CFLAG:노팬티
			PRINTFORMDL 걷어올려간 옷에서 엉덩이가 슬쩍 보인 것 같다……
		ELSE
			PRINTFORMDL 걷어올려간 옷에서 속옷이 슬쩍 보인 것 같다……
		ENDIF
		PRINTFORML 「이…… 잊어……줘 %K17_BLUSH()%」
		PRINTFORMDL 좀 더 제대로 보고 싶었다……
		PRINTW
		PRINTFORML 「……그렇게…… 보고 싶은……거야?」
		PRINTFORMDL 진짜로 보여줄 것 같은 분위기가 되어서, %마스터는% 벽까지 밀어붙힌 뒤 %CALLNAME:TARGET%의 얼굴 옆 벽에 손을 댄 채 설득했다
		PRINTFORM (꺄-꺄―…… 뭐 이리…… 필사적인 거야……)
		TRYCALL K17_인형대사(iDoll, 1,"바보 아냐?")
		PRINTFORML 「기다려, 알았어, 이해했으니까…… 그만 떠들어줘……」
		PRINTFORMDL 아무래도 %타겟은% 속옷보다 주위 사람들이 더 신경 쓰이는 눈치다
		
	;--------------------
	;2회째 이후 여기에서
	;--------------------
	ELSE
		PRINTFORM 「%K17_RS("아앙/싫어/이 녀석")%,…… 또 보고 싶어졌어?　%K17_RS("변태/색골")%」
		TRYCALL K17_인형대사(iDoll, 1, K17_RS("치한/색골/변태"))
		PRINTFORML 「이런 장소에선 안 된다고 말했을텐데……」
		PRINTFORMDL 그렇게 말하면서 %타겟은% 주위를 경계했다
	ENDIF
	
	;타캐릭터, 모브체크
	IF iMOB || DATE_HITOGOMI(CFLAG:PLAYER:현재위치) || WITH_MOB()
		PRINTFORML 「노출하는 건 %K17_RS("안 되/금지")%……거든? 부탁할게…… 봐도 괜찮지만, %K17_CNAME()% 뿐, 이야」
	ELSE
		PRINTFORML 「보여주는 건 %K17_CNAME()% 뿐……%K17_RS("비밀")%……이야?」
	ENDIF
	PRINTFORMDL %타겟은% %CALLNAME:MASTER%에게 귓속말로 속삭이면서, 손을 잡아당겨 %cShade%에 데려 갔다
	
	;모브 묘사 먼저 해 치운다
	CALL K17_DATE_HITOGOMI_MESSAGE
	PRINTW
	
	;과시하고 기정치 넘고 있으면(자) 65%
	IF iOpen && K17_PERCENT(65)
		IF EQUIP:하반신속옷2
			;오늘의팬티 있어
			PRINTFORML 「……네, 오늘은 %PANTSNAME(EQUIP:하반신속옷2, TARGET) %%K17_RS("/였습니다")%…… %K17_RS("차분히/부디/조용히")% 봐, 주세요%K17_BLUSH()%」
		ELSE
			;그 외
			PRINTFORML 「……네, %CALLNAME:TARGET%의 %cALICE%…… %K17_RS("차분히/부디/조용히")% 봐, 주세요%K17_BLUSH()%」
		ENDIF
		PRINTFORMDL %타겟은% 스스로 %K17_GET_SKIRT(TARGET)%를 천천히 들쳐 올리더니, %CALLNAME:MASTER%의 눈앞에서 %cPANTS%를 과시했다……
		PRINTFORML 「그렇게까지 들여다 보다니…… %K17_RS("변태/색골")%……」
		PRINTFORML 「%K17_RS("하앗/아앙")%%K17_HEART()% 정말 너무 흥분해서, 콧김까지 닿잖아……」
	;부끄럽게 여기기
	ELSE
		PRINTFORML 「부끄러우니깐…… %K17_CNAME()%이 %K17_GET_SKIRT(TARGET)% 들쳐볼래……?」
		PRINTFORMDL 부탁 받은 %마스터는% %K17_GET_SKIRT(TARGET)%를 성급하게 걷어올리려 했지만 %CALLNAME:TARGET%의 손에 눌려버렸다
		PRINTFORML 「너, 너무 많이 올렸잖아…… 조금……만」
		PRINTFORMDL 어쩔수 없이 %마스터는% %CALLNAME:TARGET%의 %K17_GET_SKIRT(TARGET)%에 얼굴을 쳐박아서, 차분히 %cPANTS%를 %K17_RS("감상했다/바라봤다/들여다봤다")%
		PRINTFORML 「%K17_RS("~읏/꺄아악~/바보~")%, %K17_RS("변태/색골")%」
	ENDIF
	
	;신키 님 우선 들키는지 걱정하는 것은 친구만으로 괜찮을까
	IF iMOB
		RESULT = K17_GET_FRIENDS_TARGET()
		SIF RESULT
			PRINTFORML (들켜버려…… %K17_CNAME(RESULT)%한테 들켜버려……)
	ENDIF
	
	IF PALAM:욕정 > PALAMLV:4 && !iMOB
		PRINTW
		PRINTFORML 「저기…… 보기만 하는…… 거야?」
		PRINTFORMDL %CALLNAME:TARGET%의 젖은 눈동자는, %CALLNAME:MASTER%에게 무언가를 기대하는 눈길을 보내고 있다…
	ENDIF
	PRINTW
ENDIF
RETURN 1

;====================================================================================================
;330, 치마걷어 올리기 이상기상
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_330_이상기상
#DIM MEKURI
SIF FLAG:이상기상 != 6
	RETURN 0

;획득 소스코피페
MEKURI = MAX(0,3000 - 300 * ABL:친밀)
SELECTCASE MARK:반발각인
	CASE 0
		MEKURI /= 2
	CASE 2
		MEKURI *= 2
	CASE 3
		MEKURI *= 4
ENDSELECT

;쾌락치 0이라면 그대로 반환
SIF !MEKURI
	RETURN 0
	
;-----------------------------
;이상기상으로 쾌락을 얻었다
;-----------------------------
PRINTFORML 「? ……%K17_RS("히/히얏")%…… 응%K17_HEART()%」
PRINTFORMDL %타겟은% 다리를 오므린 채 허벅지를 비틀며, 입을 다물었다
PRINTFORML (어…… 어째서! %K17_CALL_P(K17C_부위V)% 기분 좋아지는 거야……!)
PRINTW
RETURN 1

;====================================================================================================
;331, 차를넣는(약넣은)
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_331
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_331_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_331_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1

;====================================================================================================
;333, 푸념을듣는다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_333
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_333_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_333_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL
	SELECTCASE TFLAG:193
		CASE 6
		;대성공(취기)
		CASE 5
		;성공(취기)
		CASE 4
		;실패(취기)
		CASE 3
		;대성공
		CASE 2
		;성공
		CASE 1
		;실패
	ENDSELECT
ENDIF
RETURN 1
;====================================================================================================
;334, 잔을주고받는다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_334
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_334_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_334_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL
	SELECTCASE TFLAG:193
		CASE 1
		;대성공
		CASE 0
		;성공
		CASE -1
		;실패
	ENDSELECT
ENDIF
RETURN 1
;====================================================================================================
;335, 간호한다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_335
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_335_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_335_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL
	SELECTCASE TFLAG:193
		CASE 1
		;대성공
		CASE 0
		;성공
		CASE -1
		;실패
	ENDSELECT
ENDIF
RETURN 1

;====================================================================================================
;336, 무릎베개한다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_336
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_336_1
PRINTW
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_336_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;336, 무릎베개한다
;성공
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:193 > 0
	PRINTFORML 「……%K17_RS("흐냐/하뉴/으냐")%? 아……깜빡 자버렸구나……」
	PRINTFORML 「아…… %K17_CNAME()%한테 잠자는 얼굴 보여줬다니, 부, 부끄러워%K17_BLUSH()%」
	PRINTFORMDL 자는 중에도 %CALLNAME:TARGET%의 %K17_RS("머리를/머리카락을")% %마스터는% 상냥하게 쓰다듬고 있었다
	PRINTFORML 「고마워, %K17_CNAME()%. 뭔가 %K17_RS("마음이 놓여서/쉬고 싶어져서/어리광부리고 싶어져서")%, 덕분에 기분 좋게 잘 수 있었어」
	RETURN 1
ENDIF

;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;336, 무릎베개한다
;범용 친밀별
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	SELECTCASE ABL:TARGET:친밀
		CASE IS < 5
			;PRINTFORML %타겟은% 기분이 나빠 보인다…
			PRINTFORML 「그럼, 이렇게? ……괜찮아? 무겁진 않아?」
			PRINTFORMDL %타겟은% %CALLNAME:MASTER%의 무릎 위에 조심스레 머리를 올리곤, 몸의 자세를 몇 번이나 고쳐잡고 있었다
		CASE 5 TO 9
			;PRINTFORML %타겟은% 부끄러운 것 같다……
			PRINTFORML 「으응~ ……뭐라 해야 될까, %K17_RS("부끄러워/창피해/낯 뜨거워져")%……」
			PRINTFORMDL 긴장한 표정이 된 %CALLNAME:TARGET%의 %K17_RS("머리를/머리카락을/이마를")%, %마스터는% 상냥하게 쓰다듬었다
		CASEELSE
			;PRINTFORML %타겟은% 행복한 것 같다……
			PRINTFORML 「%K17_RS("흐아앙/에―")%…… 후훗, 어쩐지 행복한걸……」
			PRINTFORMDL 무릎 위에서 응석부리는 %CALLNAME:TARGET%의 %K17_RS("머리를/머리카락을/이마를")%, %마스터는% 상냥하게 쓰다듬었다
	ENDSELECT
	
ENDIF
RETURN 1

;====================================================================================================
;350, 밀어넘어뜨린다(시간시 장난한다
;TFLAG:194 (0=성공 1=명째가 있다　2=야외는 싫어 입니다만　3=많은 사람 플레이는 용서　4=합의가 있어도 무드가 충분하지 않다)
;TCVAR:껴안고첫회　1=보통으로 합의Get　2=먼저 키스 정도 해라　3=미약or발정에는 이길 수 없었어요 …　4=분한…각인조차 없으면 히″쿠히″군
;5=억지로 재촉당한다고 거절할 수 없는(소질 겁쟁이 소유 전용) 6=반드시 싫지만은 않다　7=안 돼　8=논외
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_350
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_수면
IF !RESULT
	CALL M_KOJO_MESSAGE_COM_K17_350_1
ENDIF
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_350_1
#DIM iFriends		;친구가 있을까 본다
#DIM iFriends_Room	;현재위치가 친구 방인가 본다
;현재가의 친구 검색
iFriends = K17_GET_FRIENDS_TARGET(TARGET)
iFriends_Room = K17_GET_FRIENDS_ROOM(TARGET)
TCVAR:K17C_ID:K17C_TC_질내사정카운트 = 0
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;350, 밀어넘어뜨린다
;실패 패턴
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:194
	SELECTCASE TFLAG:194
		;---------------
		;명째가 있는 or야외 거부
		;---------------
		CASE 1,2
			IF CFLAG:TARGET:기정사실 & 합의_우후후
				;합의 취득 후
				SELECTCASE K17_GRT(TARGET)
					CASE IS >= K17C_연모고백
						PRINTFORML 「안 돼…… 단 둘만 있는 장소서…… 하자?」
					CASE IS >= K17C_사모우후후
						;합의 취득 후
						PRINTFORML 「싫어…… 안 돼, 이런 곳에선…… 누%K17_RS("가 볼 수 있잖아/구한테 들키잖아")%……」
					CASEELSE
						PRINTFORML 「무슨 생각이야? 이런 곳에선 %K17_RS("안 되는/싫은")% 게 당연하지」
				ENDSELECT
			ELSE
				;합의 취득전
				PRINTFORML 「엣…… 무슨 생각이야. %K17_RS("안 되는/싫은")%게 당연하지」
			ENDIF
		;---------------
		;난교 거부
		;---------------
		CASE 3
			PRINTFORML 「하…… 함께 하자니…… 무리야…… 바보」
		;---------------
		;무드 부족
		;---------------
		CASE 4
			PRINTFORML 「%K17_RS("정말/싫어/안 돼")%…… 아무리 그래도 이건 너무 %K17_RS("들이대잖아/속 보이잖아")%」
			PRINTFORML 「무드도 좀 고려해줘……」
		;---------------
		;취간시 목격자 있다
		;---------------
		CASE 5
			PRINTFORML 「후에∼…… 뭐하려고 한거야?」
	ENDSELECT
	IF iFriends && !TCVAR:만취
		PRINTW
		PRINTFORML (%K17_CNAME(iFriends)%한테 %K17_RS("보이니까/들켜버리니까")%…… %K17_RS("무리/싫어")%……)
	ENDIF
	PRINTW
	RETURN 1
ENDIF

;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;350, 밀어넘어뜨린다
;만취
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TCVAR:만취
	;-----------
	;개시시의 주도권
	;욕구불만도의 일시 보존
	;-----------
	CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1, K17C_접수_애원계)
	TCVAR:K17C_ID:K17C_TC_우후후주도권 = -1
	TCVAR:K17C_ID:K17C_TC_욕구불만도 = CFLAG:TARGET:욕구불만도
	PRINTFORML 「후에∼ ……뭐 하는 거야~ 에헤헤……」
	PRINTFORML (아―…… 이거 항상 보는 꿈 속인가……)
	PRINTFORMDL 제정신이 아닌 %타겟은% 자신이 지금 꿈 속에 있다고 착각했다……
	PRINTW
	RETURN 1
ENDIF
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;350, 밀어넘어뜨린다
;성공 첫회
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:194 == 0 && TCVAR:껴안고첫회

	;첫회 판정
	SELECTCASE TCVAR:껴안고첫회
		;---------------
		;키스도 하지 않는다
		;---------------
		CASE 2
			PRINTFORML 「아…… 그러니까…… 후우…… 그런 거구나……」
			PRINTFORML (아직 키스도 한 적 없는데…… 어떡해……)
			;-----------
			;개시시의 주도권
			;욕구불만도의 일시 보존
			;-----------
			CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1, K17C_접수_도움계)
			TCVAR:K17C_ID:K17C_TC_우후후주도권 = -1
			TCVAR:K17C_ID:K17C_TC_욕구불만도 = CFLAG:TARGET:욕구불만도
		;---------------
		;약 번창해졌을 때 멈춤으로 개발되었다
		;---------------
		CASE 3,4
			PRINTFORML 「하아하아……%K17_HEART()%」
			PRINTFORMDL %타겟은% 홍조 띤 얼굴로 고개를 끄덕거렸다……
			PRINTFORML (해버리는…… 거야? 몸이…… 원하고 있어…… 어째서?)
			;-----------
			;개시시의 주도권
			;욕구불만도의 일시 보존
			;-----------
			CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1, K17C_접수_합의덮쳐계)
			TCVAR:K17C_ID:K17C_TC_우후후주도권 = -1
			TCVAR:K17C_ID:K17C_TC_욕구불만도 = CFLAG:TARGET:욕구불만도
		;---------------
		;겁쟁이
		;---------------
		CASE 5
			PRINTFORML 「힉…… 나, 난폭하게는 하지 말아줘…… 하는 말 들을 테니깐…」
			PRINTFORMDL %타겟은% 겁먹은 모습으로, %마스터를% 받아들이고 말았다……
			;-----------
			;개시시의 주도권
			;욕구불만도의 일시 보존
			;-----------
			CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1, K17C_접수_억지로계)
			TCVAR:K17C_ID:K17C_TC_우후후주도권 = -1
			TCVAR:K17C_ID:K17C_TC_욕구불만도 = CFLAG:TARGET:욕구불만도
		;---------------
		;끝만
		;---------------
		CASE 9
			PRINTFORML 「하아하아……%K17_HEART()%」
			PRINTFORMDL %타겟은% 홍조 띤 얼굴로, 고개를 끄덕거렸다……
			PRINTFORML 「 하지만…… 실전 섹스는…… 안 돼…… 부탁……」
			;-----------
			;개시시의 주도권
			;욕구불만도의 일시 보존
			;-----------
			CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1, K17C_접수_도움계)
			TCVAR:K17C_ID:K17C_TC_우후후주도권 = -1
			TCVAR:K17C_ID:K17C_TC_욕구불만도 = CFLAG:TARGET:욕구불만도
		;---------------
		;↓거부
		;---------------
		;반드시 싫지만은 않다
		;---------------
		CASE 6
			PRINTFORML 「아…… 아직은……안 돼……」
			PRINTFORML 「마음의 준비가 아직 안 됐어…… 미안해」
			PRINTFORML (역시…… 그런 거…… 하고 싶어 하는구나…… %K17_CNAME()%)
		;---------------
		;취급
		;---------------
		CASE 7
			PRINTFORM 「……그만해. 난 그렇게 %K17_RS("싼/가벼운")% 여자가 아니냐」
			TRYCALL K17_인형대사(-1, 1, K17_RS("변태!/바보 아냐!/색골!"))
		;---------------
		;비명
		;---------------
		CASE 8
			PRINTFORM 「꺄아아! 무, 무슨 짓이야」
			TRYCALL K17_인형대사(-1, 1,"변태!")

		;---------------
		;합의 첫회 코피페 담력계 컷
		;---------------
		CASE 1
			IF TALENT:연모 && TALENT:연인
				;PRINTFORML %CALLNAME:TARGET%도 %CALLNAME:MASTER%에 팔을 돌려 안아 돌려주어 왔다… 
				PRINTFORML 「드디어…… 할 기분이 들었구나……」
				PRINTFORMDL 지금까지 기다리게 만든 걸까……
				PRINTFORML 「정말, 이런 일에는 흥미 없는 줄 알았어요」
				PRINTFORMDL 안심한 듯이 %CALLNAME:MASTER%에게 몸을 맡겼다……
			ELSEIF TALENT:조합지식
				;PRINTFORML %타겟은% 당황하고 있다…
				PRINTFORML 「엣……엣…… 해버리는…… 거야?」
				PRINTFORML (당해버리는 거야? 이런 짓이나 저런 짓…)
				PRINTFORML 「읏∼~~~~%K17_BLUSH()%」
				PRINTFORMDL %타겟은% 갑자기 안절부절 하더니, 새빨간 얼굴로 굳어져버렸다……
				PRINTW
				PRINTFORML (색골! 변태!)
				PRINTFORMDL 이번에는 뭐라 중얼거리면서, 자꾸 두 발을 주춤거리기 시작했다
				PRINTFORML 「저기…… 처음이니깐…… 평범하게, 평범하게 해?」
				PRINTFORMDL 뭘 상상하고 있던 걸까……
			ELSEIF TALENT:유치
				;PRINTFORML %타겟은% 잘 모르는 것 같다…
				PRINTFORML 「뭐야? 뭐 하는 거야?」
			
			ELSE
				;PRINTFORML %타겟은% 각오한 눈으로 %마스터를% 응시하고 있다…
				IF TALENT:처녀 == -1 || TALENT:처녀 == 1
					PRINTFORML 「……으, 응……」
					PRINTFORMDL %타겟은% 모기가 우는 소리로 작게 수긍했다
				ELSE
					PRINTFORML 「괘…… 괜찮은데? ……저기 처음이니깐…… 저기, 상냥하게…… 해?」
				ENDIF
			ENDIF
			
			;처녀 판정 유치하면 스킵으로 괜찮을까
			IF (TALENT:처녀 == -1 || TALENT:처녀 == 1) && !TALENT:유치
				;PRINTFORM %타겟은% 불안과 기대가 뒤섞이고 글자것 같은 표정을 띠고 있다…
				PRINTW
				IF TALENT:연모 || TALENT:연인
					PRINTFORML 「그………… 나, 처음, 이니까…… 그러니까, 상냥하게…… 해?」
					PRINTFORMDL %타겟은% 새빨간 얼굴로 %CALLNAME:MASTER%에게 전했다
				ELSE
					PRINTFORML 「나, 나 아직…… 경험 없어서……아직 마음의 준비가 안 돼서, 실전은 조금 기다려, 줄래?」
					PRINTFORMDL %타겟은% 새빨간 얼굴로 %CALLNAME:MASTER%에게 전했다
				ENDIF
				SIF TALENT:처녀 == -1
					PRINTFORMDL 이미 개통을 끝내놓은 상태인데도, %타겟은% 아직도 처녀라고 믿고 있는 것 같다……
			ENDIF
			;-----------
			;개시시의 주도권
			;욕구불만도의 일시 보존
			;-----------
			CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1, K17C_접수_애원계)
			TCVAR:K17C_ID:K17C_TC_우후후주도권 = -1
			TCVAR:K17C_ID:K17C_TC_욕구불만도 = CFLAG:TARGET:욕구불만도

	ENDSELECT
	PRINTW
	RETURN 1
ENDIF

;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;350, 밀어넘어뜨린다
;성공 난교 정사 발각의 코피페
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:194 == 0 && GET_TARGETNUM() > 1
	
	;-----------
	;개시시의 주도권
	;욕구불만도의 일시 보존
	;-----------
	CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1, K17C_접수_도움계)
	TCVAR:K17C_ID:K17C_TC_우후후주도권 = -1
	TCVAR:K17C_ID:K17C_TC_욕구불만도 = CFLAG:TARGET:욕구불만도
	
	
	;누가 있을까 보는 친구 우선
	iFriends = K17_GET_TARGETS_ID()
	
	;아는 사람인가 본다
	SELECTCASE iFriends
		;거리낌 없는 계
		CASE K17C_레이무ID, K17C_마리사ID, K17C_파츄리ID, K17C_유카ID, K17C_사쿠야ID, K17C_메디슨ID
			;앨리스가 연인경우
			IF TALENT:TARGET:연인
				PRINTFORML 「정말이지……%K17_CNAME(iFriends)%랑 함께라니……」
				
			;상대가 연인인가 보는 아와와와……
			ELSEIF TALENT:iFriends:연인
				PRINTFORML 「%K17_CNAME(iFriends)%랑 함께라니……」
				
			ELSE
				PRINTFORML 「%K17_CNAME(iFriends)%?」
				
			ENDIF
		;존경계
		CASE K17C_미마ID, K17C_루이즈ID
			
			;앨리스가 연인경우
			IF TALENT:TARGET:연인
				PRINTFORML 「정말이지…… %K17_CNAME(iFriends)%한테도 손 대고 있었구나……」
				PRINTFORML 「함께 하는 거야 좋은데…… 왠지 긴장돼……」
			ENDIF
			
		;신키 님 유메코 한정
		CASE K17C_신키ID, K17C_유메코ID
			;앨리스가 연인경우
			IF TALENT:TARGET:연인
				IF FIRSTTIME(@"아수라장{iFriends}", 1) && FIRSTTIME(@"{SELECTCOM}말{iFriends}")
					PRINTFORML 「에엣, 엣…… %K17_CNAME(iFriends)%랑 같이 뭐하는 거야!」
					PRINTFORMDL %타겟은% 꽤 충격받은 듯한 모습으로, %마스터를% 놀란 듯이 바라봤다
					PRINTW
					PRINTFORML 「정말이지…… %K17_CNAME(iFriends)%에게도 손 대고 있었던 거네…… 언제부터 한 거야……」
					PRINTFORMDL %CALLNAME:iFriends%는 「%CALLNAME:TARGET%\@iFriends==K17C_신키ID ? #\@, 아냐!」 라고 변명 중이었다……
					PRINTFORMDL 뭔가 분위기가 싸해진 기분이다……
					PRINTFORMDL ……
					PRINTFORMDL …………
					PRINTFORMDW ………………
					PRINTFORML 「뭐…… 둘이서만 속닥속닥 노는 건……보기 싫, 고…… 같이 해도…… 괜찮은데」
					PRINTFORML 「%K17_CNAME(iFriends)%랑 너무 비교하면 안 돼?」
					;PRINTFORMDL %타겟은% %CALLNAME:iFriends%에게 대항 의식이 있는 것 같았다
					PRINTW
				ELSE
					;2회째 이후
					PRINTFORML 「그러니까…… 또…… %K17_CNAME(iFriends)%와 함께라니……」
					PRINTFORMDL %타겟은% 약간 질렸단 표정으로 한숨 짓더니, %마스터와% %CALLNAME:iFriends% 사이에 끼어들었다
					PRINTFORML 「%K17_CNAME(iFriends)%랑 너무 비교하면 안 돼?」
					PRINTFORMDL %CALLNAME:iFriends%는 또 「%CALLNAME:TARGET%\@iFriends==K17C_신키ID ? #\@, 아냐……」 하고 변명 중이었다…
					
				ENDIF
			;신키 님이 연인
			ELSEIF TALENT:iFriends:연인
				PRINTFORML 「에엣, 엣…… %K17_CNAME(iFriends)%과 같이!」
				
			ELSE
				PRINTFORML 「정말이지…… 하필이면 %K17_CNAME(iFriends)%와 같이 한다니……」
				
			ENDIF
	ENDSELECT
	TRYCALL K17_난교개시(iFriends)
	PRINTW
	RETURN 1
ENDIF

;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;350, 밀어넘어뜨린다
;성공 야외
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:194 == 0 && !(INROOM(CFLAG:현재위치))
	;-----------
	;개시시의 주도권
	;욕구불만도의 일시 보존
	;-----------
	CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1, K17C_접수_도움계)
	TCVAR:K17C_ID:K17C_TC_우후후주도권 = -1
	TCVAR:K17C_ID:K17C_TC_욕구불만도 = CFLAG:TARGET:욕구불만도
	
	PRINTFORML 「이런 장소에서…… %K17_RS("하고 싶어/하는 거야")%? 진짜, %K17_RS("변태/바보")%」
	PRINTFORMDL %타겟은% 주위를 경계하면서, 긴장한 표정으로 %CALLNAME:MASTER%에게 %K17_RS("몸을 바쳤다/몸을 맡겼다")%
	PRINTW
	RETURN 1
ENDIF


;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;350, 밀어넘어뜨린다
;성공 친구 방(초기위치)
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:194 == 0 && iFriends_Room
	
	PRINTFORML 「잠깐, 이런 장소에서…… %K17_RS("하고 싶어/하는 거야")%? %K17_RS("아앙/싫어/하앗")%%K17_HEART()%%K17_RS("안 돼/싫어")%……」
	PRINTFORML 「기다려, 여기서 하는 건 그만두자……? 내 방에서……? 응?」
	PRINTFORML (%K17_CNAME(iFriends_Room)%한테 들켜버려……)
	PRINTW
	
	;-----------
	;개시시의 주도권
	;욕구불만도의 일시 보존
	;-----------
	CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1, K17C_접수_합의덮쳐계)
	TCVAR:K17C_ID:K17C_TC_우후후주도권 = -1
	TCVAR:K17C_ID:K17C_TC_욕구불만도 = CFLAG:TARGET:욕구불만도
	
	
	PRINTFORMDL 입으로는 거부하지만 그 힘은 약해서, %마스터는% 아무렇지도 않게 %CALLNAME:TARGET%%K17_RS("를 덮쳤다/를 넘어뜨렸다")%
	PRINTFORML 「%K17_RS("아앙/싫어/하앗")%, 바보……」
	PRINTW
	RETURN 1
ENDIF

;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;350, 밀어넘어뜨린다
;성공 범용
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:194 == 0

	;-----------
	;개시시의 주도권
	;욕구불만도의 일시 보존
	;-----------
	CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1, K17C_접수_애원계)
	TCVAR:K17C_ID:K17C_TC_우후후주도권 = -1
	TCVAR:K17C_ID:K17C_TC_욕구불만도 = CFLAG:TARGET:욕구불만도
	
	;기분 나빠도 밀기 더할 수 있었으므로 억지로
	IF TALENT:기분 == -1
		CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1, K17C_접수_억지로계)
		PRINTFORML 「미안해요, 지금은 그런 짓 할 기분이 아니…… 히얏!」
		PRINTFORMDL %CALLNAME:TARGET%의 기분 같은 건 신경도 안 쓴다는 듯 %마스터가% 껴안았다
		PRINTW
		RETURN 1
	ENDIF
	
	
	;2회째 이후 통상 처리
	SELECTCASE K17_GRT_EX()
		CASE IS >= K17C_연인
			;허덕여 선택 만든다
			CALL K17_덮치기허덕여타입선택
			SIF RESULT
				RETURN 1
			PRINTFORML 「%K17_RS("하고 싶어/하는 거야")%? 응…… 좋아%K17_HEART()%」
			PRINTFORML 「오늘도  많이…… %K17_RS("사랑해줘?/귀여워해줘?/기분 좋게 해줘?")% %K17_CNAME(MASTER, 1)%」
			PRINTFORMDL %타겟은% 젖은 눈동자를 %마스터를% 향하며 %K17_RS("황홀한 표정으로/뺨을 홍조시키며/기대로 가득 찬 시선으로/뜨거운 숨결을 내쉬며")% 몸을 맡겨왔다
			
		CASE IS >= K17C_연모
			PRINTFORML 「또……하는 거야……?」
			PRINTFORML 「오늘도  많이…… %K17_RS("사랑해줘?/귀여워해줘?/기분 좋게 해줘?")% %K17_CNAME(MASTER, 1)%」
			PRINTFORMDL %타겟은% 젖은 눈동자를 %마스터를% 향하며 %K17_RS("황홀한 표정으로/뺨을 홍조시키며/기대로 가득 찬 시선으로/뜨거운 숨결을 내쉬며")% 몸을 맡겨왔다
		CASE IS >= K17C_사모
			PRINTFORML 「또……하고 싶은 거야……?」
			PRINTFORML 「%K17_RS("조…… 좋아/아…… 알았어/……응")%…… 좋아해, %K17_CNAME(MASTER, 1)%」
			PRINTFORMDL %타겟은% 부끄러운 듯이 고개를 끄덕거리곤, 긴장해 %K17_RS("굳어진 몸을/흠칫 반응하면서/조금 떨면서")% %CALLNAME:MASTER%에게 몸을 맡겼다
			CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1, K17C_접수_도움계)
		CASEELSE
			PRINTFORML 「진짜, %K17_RS("짐승/변태/항상 이러니깐")%……」
			PRINTFORMDL %타겟은% 입으로 그렇게 말하면서도, 긴장한 상태로 떨고 있었다
			CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1, K17C_접수_도움계)
	ENDSELECT
	PRINTW
ENDIF
RETURN 1
;====================================================================================================
;351, 데리고나간다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_351
;데리고 나가에는 TRAIN_MESSAGE가 없다
CALL M_KOJO_MESSAGE_COM_K17_351_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_351_1
#DIM iFriends = 0
#DIM iMOB = 0
#DIMS cMove
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !FLAG:시간정지
	PRINTL
	;만취
	IF TCVAR:(TARGET:LOCAL):만취
		PRINTFORML 「후에∼……어디 데려가는 거야~ 에헤헷……」
		PRINTW
		RETURN 1
	ENDIF
	
	;친구 우선으로 동행하고 있는 사람을 찾는다
	iFriends = 0
	iMOB = 0
	;MASTER에 동행이 붙어있는 경우 누군가를 찾는다
	IF CFLAG:MASTER:동행
		;친구를 본다
		FOR i, 0, K17C_친구인원수
			IF CFLAG:(K17C_친구ID:i):동행
				iFriends = K17C_친구ID:i
				BREAK
			ENDIF
		NEXT
		;보통으로 본다
		IF !iFriends
			FOR i, 1, CHARANUM
				IF (CFLAG:(TARGET:i):동행) && TARGET:i != K17C_ID
					iMOB = TARGET:i
					BREAK
				ENDIF
			NEXT
		ENDIF
	ENDIF
	
	;두 명의 이동 방식을 선택
	VARSET cMove
	IF ( !FIRSTTIME(@"311 데이트 이동", 1) && K17_LUCKY_SUKEBE(30) ) && (!iFriends && !iMOB)
		;팔 안아 경험이 끝난 상태
		cMove = %타겟은% 자연스레 %CALLNAME:MASTER%의 팔에 달라붙어, %K17_RS("젖가슴/가슴")%을 %K17_RS("밀어 붙이/꽉 누르")%면서 따라 왔다
	ELSEIF ( !FIRSTTIME(603,1) || !FIRSTTIME(@"스킨십 0", 1) ) && (!iFriends && !iMOB)
		;손을 잡는 경험이 끝난 상태
		IF K17_LUCKY_SUKEBE(40)
			cMove = %타겟은% 약간 %K17_RS("얼굴을 붉힌 채/수줍은 것처럼")% %CALLNAME:MASTER%의 손을 잡고 따라 왔다
		ELSE
			cMove = %마스터가% %CALLNAME:TARGET%의 손을 잡으면, 약간 %K17_RS("얼굴을 붉힌 채/수줍은 것처럼")% 손을 맞잡은 채 따라 왔다
		ENDIF
	ELSEIF iFriends || iMOB
		;그 밖에 동행이 있다
		cMove = %타겟은% %CALLNAME:(iFriends!=0 ? iFriends#iMOB)%에게 가볍게 %K17_RS("인사/묵례")%하면서 %마스터를% 따라 왔다
	ELSE
		;아직 하지 않다
		cMove = %마스터는% %타겟을% 데리고 나갔다
	ENDIF
	
	;반응과 묘사
	SELECTCASE K17_GRT_EX(TARGET)
		CASE IS >= K17C_연모
			PRINTFORML 「그럼, 어디로 %K17_RS("데려갈/갈")% 거야?」
			PRINTFORMDL %cMove%
		CASE IS >= K17C_사모밀회
			PRINTFORML 「그럼, 어디로 %K17_RS("데려갈/갈")% 거야?」
			PRINTFORMDL %cMove%
			
		CASE IS >= K17C_사모
			PRINTFORML 「그럼, 어디로 %K17_RS("데려갈/갈")% 거야?」
			PRINTFORMDL %cMove%
		CASEELSE
			PRINTFORML 「……저기…… 이상한 곳은 안 갈 거거든?」
			PRINTFORMDL %타겟은% 조금 경계하고 있다
	ENDSELECT
	
	;타동행자에게로의 반응
	IF iFriends
		PRINTFORML (……%K17_CNAME(iFriends)%도 함께, %K17_RS("라니")%…… %K17_RS("무슨 일인 걸까/뭘 할 생각인 걸까")%)
	ELSEIF iMOB
		PRINTFORML (……다른 아이도 함께……%K17_RS("라니/ 뭘 할 생각인 걸까")%)
	ELSE
		;동행자가 그 밖에 없을 때는 우후후 합의 기준
		SELECTCASE K17_GRT()
			CASE IS >= K17C_사모우후후
				PRINTFORML (……%K17_RS("조용한 곳으/단 둘이서만 보낼 수 있는 곳으/인기척 없는 장소")%로 가는 걸까나……?)
			CASE IS >= K17C_사모밀회
				PRINTFORML (……이상한 곳에 %K17_RS("억지로 데려가는 짓")%은 안 할 거지……?)
		ENDSELECT
		;동행자가 앨리스만으로 다른 사람이 그 자리에 있는 경우
		SIF GET_TARGETNUM() > 1
			PRINTFORMDL 본인만 데리고 나가서, %타겟은% 약간 부끄러운 것 같았다
	ENDIF
	
ENDIF
PRINTW
RETURN 1
;====================================================================================================
;352, 고백한다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_352
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_352_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_352_1
;-------------------------------------------------
;성공
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:193
	
	;앨리스 고백 이베전
	IF !CFLAG:K17C_ID:K17C_CF_고백이벤트
		PRINTFORML 「………………」
		PRINTFORML 「……그러니까…… 정말 나로 좋은거야……?」
		PRINTFORMDL 물론. %CALLNAME:TARGET%랑 연인이 되고 싶어
		PRINTFORMDL 그렇게 말했다
		
	;앨리스 고백 이베 후
	ELSE
		PRINTFORML 「………………」
		PRINTFORML 「……그러니까…… 무슨……에? 엣?」
		IF CFLAG:K17C_ID:K17C_CF_고백이벤트 >= 5
			PRINTFORML 「나, 예전부터 몇 번이나 %K17_CNAME()%한테 차였었지……?」
		ELSE
			PRINTFORML 「나, 예전에 %K17_CNAME()%한테 차였었지……?」
		ENDIF
		PRINTFORMDL 확실히 예전엔 그랬을 지도 모른다
		PRINTFORMDL 하지만 지금은 %CALLNAME:TARGET%랑 연인이 되고 싶어
	ENDIF
	PRINTW
	
	SELECTCASE K17_GRT(TARGET)
		CASE IS >= K17C_연모고백
			PRINTFORML 「나…… 나! 좀 더 귀엽고, 예쁜 아가씨가 될게!」
			PRINTFORMDL 지금도 충분하다고 생각하지만……
			PRINTFORML 「%K17_CNAME()%에게 어울리는 연인이 되고 싶어」
			PRINTFORML 「고마워, %K17_CNAME()%. 나, 노력할 거니깐」
			PRINTW
			PRINTFORML 「%K17_CNAME()%, 사랑해%K17_HEART()%」
			PRINTFORMDL 몹시 흥분한 듯한 모습으로 %CALLNAME:MASTER%에게 미소 지으며 안겨드는 %CALLNAME:TARGET%
		CASEELSE
			PRINTFORML 「응, 알았어…… 금새 바뀔지도, 모르겠지만…… 나, %K17_CNAME()%의 연인이 될게」
			;데이트이베로 기분을 전하고 있을까 본다
			SIF CFLAG:K17C_ID:K17C_CF_데이트이벤트
				PRINTFORML 「%K17_CNAME()%, 사랑해요 %K17_BLUSH()%」
			PRINTFORMDL 그렇게 말하면서 %타겟은% %CALLNAME:MASTER%에게 상냥하게 미소 지었다
	ENDSELECT
	PRINTFORMDL 그건 지금까지 봐온 수많은 미소 중에서도 최고의 미소였다
	;연인 플래그의 보존
	CALL K17_RELATION_EV(K17C_RTF_연인)
	RETURN 1
ENDIF
;-------------------------------------------------
;실패
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:193 == 0
	;실패 아마도 실패하는 정도로 커맨드 표시되지 않을까
	PRINTFORML 「…………아. 마, 마음은 고맙지만…… 미안해」
	RETURN 1
ENDIF
RETURN 1
;====================================================================================================
;380, 프로포즈
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_380
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_380_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_380_1
;-------------------------------------------------
;성공
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:193
	
DRAWLINE
PRINTFORMW ―――단독 엔딩 조건 달성―――
PRINTFORMW …………
PRINTFORMW ………
PRINTFORMW ……
PRINTFORMW 쇼핑에서 돌아오자, 새로운 찻집이 생겼다는 이야기를 앨리스에게서 들었다
PRINTFORMW 그 정도는 흥미없는 %CALLNAME:MASTER%지만, 앨리스의 강한 희망도 있고 해서 들르는 계기가 되었다
PRINTFORMW 　
PRINTFORMW 「헤에, 제법 멋진 가게잖아」
PRINTFORMW 가볍게 점내를 둘러보고 나서, 앨리스는 납득의 표정을 지었다
PRINTFORMW 점내에는 사각테이블이 몇개가 놓여져, 침착한 분위기를 자아낸다
PRINTFORMW 테라스에도 몇개가 놓여져 있어, 맑은 날에는 밖에서 즐길 수도 있을 것이다
PRINTFORMW 카운터 안쪽에서는 커피의 향기가 감돌아, 마음이 편해지는 공간을 연출하고 있다
PRINTFORMW 「그러니까―, 자리는……앗, 마침 딱 비어있네. 앉자」
PRINTFORMW 운 좋게 빈 창가의 자리에 앉아, 두 사람은 한숨 돌렸다
PRINTFORMW 　
PRINTFORMW 「그럼, 뭘 주문할까……」
PRINTFORMW 메뉴를 보면서, 앨리스는 작게 중얼거린다
PRINTFORMW 커피나 홍차는 물론이고, 잎에 대해서도 자세하게 쓰여있다
PRINTFORMW %마스터는% 대충 훑어봤으나 어떤게 어떤건지 도무지 알 수 없었다
PRINTFORMW 「……못 정했어? 그럼 이쪽의 홍차 같은 건 어때?」
PRINTFORMW 고민하는 %마스터를% 눈치챘는지, 앨리스가 도움의 손길을 뻗쳐주었다
PRINTFORMW 이대로 메뉴와 눈싸움을 하고 있어도, 정해질 거라곤 생각할 수 없다
PRINTFORMW %마스터는% 느긋히 수긍하고, 앨리스가 선택한 홍차를 골랐다
PRINTFORMW 「그럼, 나도 이걸로」
PRINTFORMW 「케이네에게 들었지만, 정말로 맛있을 것 같아」
PRINTFORMW 　
PRINTFORMW 잠시 있자, 두 사람분의 홍차가 나왔다
PRINTFORMW 머리가 맑게 개이는 듯한 향기가 코를 간질여, 마음을 진정시킨다
PRINTFORMW 한 입 머금어 모자, 부드러운 풍미가 입안 가득히 퍼져간다
PRINTFORMW 「맛있어……」
PRINTFORMW 앨리스도 납득한 맛인것 같아, 그 얼굴에서는 웃늘 얼굴이 흘러넘치고 있다
PRINTFORMW 　
PRINTFORMW 그로부터 잠시, 타애없는 회화가 이어졌다
PRINTFORMW 그런 중, 화제는 %CALLNAME:MASTER%의 일이 됐다
PRINTFORMW 「……그렇다고 해도 희한하네. 당신과 이런 식으로 보내는 날이 오다니」
PRINTFORMW 「얼마 전까지는 “저주해 주겠어” 같은거 생각했었는데……」
PRINTFORMW 컵을 접시에 내려놓고, 한숨 돌리는 앨리스
PRINTFORMW 일순간 흐린 표정을 지은 앨리스 였지만, 그 얼굴은 곧 웃는 얼굴로 바뀌었다
PRINTFORMW 「후훗, 그래도 지금은 달라」
PRINTFORMW 「앞으로도 의지할게요, 서·방·님♪」
PRINTFORMW 윙크하고, 앨리스는 다시 홍차를 입에 머금는다
PRINTFORMW 그 약지에는, 약혼반지가 반짝반짝 빛나고 있었다
PRINTFORMW 　
	RETURN 1
ENDIF
;-------------------------------------------------
;실패
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:193 == 0
	;실패 아마도 실패하는 정도로 커맨드 표시되지 않을까
	PRINTFORML 「…………흠. 기, 기분은 기쁘지만……미안해요」
	RETURN 1
ENDIF
RETURN 1

;====================================================================================================
;353, 장난한다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_353
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_353_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_353_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;354, 동침한다(상대는 일어나 이불에 부르는 느낌)
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_354
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_354_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_354_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;355, 때 멈추고(지문의 개변 정도로 두어야 함
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_355
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_355_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_355_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;360, 몸을맡긴다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_360
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_360_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_360_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;363, 읽어들려주고([유치]소유)
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_363
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_363_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_363_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;364, 콩장작(스이카, 유기, 스칼렛 자매용
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_364
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_364_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_364_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;365, 모리야 신사에 이동(사나에, 카나코, 스와코용
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_365
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_365_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_365_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;402, 취침(동침 때)
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_402
;취침에 TRAIN_MESSAGE는 없다
CALL M_KOJO_MESSAGE_COM_K17_402_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_402_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;403, 휴식
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_403
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_403_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_403_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;405, 나간다(동행시 데이트에 나간다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_405
;나가는에 TRAIN_MESSAGE는 없다
CALL M_KOJO_MESSAGE_COM_K17_405_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_405_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;410, 청소
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_410
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_수면
IF !RESULT
	CALL M_KOJO_MESSAGE_COM_K17_410_1
	PRINTW
ENDIF
RETURN 1

@M_KOJO_MESSAGE_COM_K17_410_1
#DIMS DYNAMIC cPants
#DIM DYNAMIC iRT=0
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;410, 청소
;보고 있을 뿐
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !TFLAG:193
	PRINTFORM 「……%K17_RS("헤에/흐응/어머나")%」
	TRYCALL K17_인형대사(-1, 1, K17_RS("힘내-/Fight-/좋아") )
	RETURN 1
ENDIF
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;410, 청소
;분노 기분 나쁘다
LOCAL = 1
;-------------------------------------------------
IF LOCAL && (CFLAG:빡침 || TALENT:기분 == -1)
	PRINTFORML 「%K17_SHUFFLE_잠꼬대(K17_RS("하아/후우/으응~"))%」
	PRINTFORMDL %타겟은% 기분이 안 좋아 보여서, %마스터는% 묵묵히 작업을 계속했다
	RETURN 1
ENDIF

;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;410, 청소
;우후후 안
LOCAL = 1
;-------------------------------------------------
IF LOCAL && CFLAG:우후후
	PRINTFORML 「%K17_SPLIT_SHUFFLE(@"……/%K17_RS("저기/엣/있잖아")%")%」
	PRINTFORMDL %타겟은% 어이없단 표정으로 %마스터를% 보고 있었다
	RETURN 1
ENDIF
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;410, 청소
;통상 처리
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !CFLAG:빡침 && TALENT:기분 != -1

	IF FIRSTTIME(@"{SELECTCOM}말")
		;첫회
		PRINTFORML 「청소네. 자, 같이 치우자」
		PRINTFORMDL %타겟은% 팔을 걷어붙일 만큼 의욕이 넘치는 모습이었다
		PRINTFORML 「흥 흐응……♪」
		IF CFLAG:TARGET:초기위치 != CFLAG:MASTER:초기위치
			;동거(同居) 하지 않을 때 마셔
			PRINTW
			PRINTFORML 「그러고 보니 %K17_CNAME()%, 자기 방도 제대로 청소하고 있어?」
			PRINTFORMDL 생각지도 못한 비난의 화살이 %마스터를% 향해 왔다
			IF TALENT:MASTER:성별 == 2
				;남성
				PRINTFORML 「역시 남자의 독신 생활은 조금 걱정되는걸……」
			ELSE
				;여성
				PRINTFORML 「여자아이니깐 착실하게 하고 다니렴?」
			ENDIF
			PRINTFORM 「확실히 정기적으로 청소해두지 않으면, 금방 더러워져 버리니까……」
			TRYCALL K17_인형대사(-1, 1, K17_RS("할거야/청소/청소할거야") )
		ENDIF
	ELSE
		;2회째 이후
		PRINTFORM 「자, %K17_RS("깨끗이 치우자/청소하자/청소해버리자")%」
		TRYCALL K17_인형대사(-1, 1, K17_RS("치우자/청소/청소해버리자") )
	ENDIF
	PRINTFORMDL %타겟은% 왠지 모르게 의욕에 넘쳐 있었다……
	
	;럭키 색골 40%+ 행운보정*10%+ 관계성*3%　전라라면 100%들어간다
	IF (K17_LUCKY_SUKEBE(40) && (EQUIP:치마|| EQUIP:원피스|| EQUIP:기모노) ) || (!TEQUIP:하반신착의상황 && !TEQUIP:상반신착의상황)
		;-------------
		;각종 초기화
		;-------------
		iRT = K17_GRT_EX(TARGET)
		cPants = %PANTS_DESCRIPTION(EQUIP:하반신속옷2, TARGET) %%K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)%
		SIF cPants ==""
			cPants = 속옷을 입지 않은 %K17_RS("은밀한 틈/은밀한 부분/은밀한 곳")%
			
		PRINTW
		PRINTDATAL
			DATAFORM 「%K17_RS("영차……/네―/……네,")%와……」
			DATAFORM 「%K17_RS("흥 흐응/후후~응/응∼")%……♪」
		ENDDATA
		
		IF TEQUIP:하반신착의상황 || TEQUIP:상반신착의상황
			;옷 있어
			PRINTDATAD
				DATAFORM 상반신을 굽힌 채 청소하는 %CALLNAME:TARGET%의 %K17_RS("가슴/가슴골")%에,
				DATAFORM 움직일 때마다 흔들리는 %OPPAI_DESCRIPTION(TARGET, 1)%에,
				DATAFORM 엎드린 채 청소하는 %CALLNAME:TARGET%의 %K17_GET_CLOTHNAME_BOTTOM(TARGET)%로부터 슬쩍 엿보이는, \n%cPants%에,
				DATAFORM 좁은 장소에 무리하게 손을 뻗고 있는 %타겟이% 내밀고 있는, %HIP(TARGET)%에
				DATAFORM 더러워지지 않도록 약간 걷어올린 %CALLNAME:TARGET%의 %K17_GET_CLOTHNAME_BOTTOM(TARGET)%로부터 늘어난, %THIGHS(TARGET)%에
				DATAFORM 잠시 쉬면서 땀을 닦아내는 %CALLNAME:TARGET%의 %K17_RS("겨드랑이/목덜미/쇄골의 근처")%에,
			ENDDATA
		ELSE
			;옷없음
			PRINTFORMD 전라로 청소하는 %CALLNAME:TARGET%에 이상한 흥분을 느껴
		ENDIF
		PRINTFORMDL  %마스터는% 그만 시선을 빼앗겨 버렸다
		
		;관계성 본다
		SELECTCASE iRT
			CASE IS  >= K17C_연모
				;연모로부터
				PRINTFORML 「정말, 어디 보고 있어……%K17_BLUSH()% %K17_RS("색골/변태")%」
				PRINTFORML 「그런 건 청소 끝난 뒤에……」
				PRINTFORMDL %마스터는% 나머지 작업을 서둘러 시작했다
				PRINTFORMDL ……
				PRINTFORMDL …………
				PRINTFORMDW ………………
				PRINTFORML 「후우, 수고했어, %K17_CNAME()%…… 저기, 이리 %K17_RS("와봐")%」
				TRYCALL K17_응석부리게해
			CASEELSE
				PRINTFORML 「……%K17_RS("응?/엣?/……?")%」
				PRINTFORML (엣…… 설마, %K17_RS("그런 눈으로/부끄러운 곳")% 보고 있던 거……야?)
				PRINTFORML 「읏∼~~~~%K17_BLUSH()%」
				PRINTFORMDL %타겟은% 갑자기 얼굴을 새빨갛게 붉힌 채 숙여버렸다
		ENDSELECT
	ENDIF
ENDIF
RETURN 1

;*********************************************************************************
;	각처에서 사용하는 앨리스가 MASTER를 응석부리게 하는 텍스트
;	조만간 늘리겠어―
;
;*********************************************************************************
@K17_응석부리게해
PRINTFORMDL %타겟은% %CALLNAME:MASTER%의 머리를 가슴으로 안은 뒤, 머리를 쓰다듬었다
PRINTFORML 「정말이지, %K17_CNAME()%는 완전 어리광쟁이 %K17_RS("씨 네―, 아하하")%%K17_HEART()%」
PRINTFORMDL %타겟이% 응석받이로 만드는 거라 생각한다……
RETURN 1


;====================================================================================================
;411, 전투훈련
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_411
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_411_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_411_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;412, 공부
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_412
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_412_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_412_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

;	IF TALENT:MASTER:성별 & 2
;		BASE:MASTER:발기 = 500
;		BASE:MASTER:정력 = MAX(BASE:MASTER:정력 - 100,0)
;		EXP:MASTER:사정경험 ++
;	ENDIF
;	BASE:MASTER:기력 = MAX(BASE:MASTER:기력 - 300,0)
;	TIME += 10
;	EXP:MASTER:절정경험 ++
;	EXP:MASTER:자위경험 ++
;	SOURCE:TARGET:강요 += 500
;	SOURCE:TARGET:송구스러운 += 500
;	SOURCE:TARGET:가학 += 700
;	SOURCE:TARGET:정복 += 700
;	SOURCE:TARGET:달성 += 300
ENDIF
RETURN 1
;====================================================================================================
;413, 요리
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_413
;요리에 TRAIN_MESSAGE는 없다
CALL M_KOJO_MESSAGE_COM_K17_413_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_413_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;414, 식사
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_414
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_414_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_414_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;415, 식사를대접한다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_415
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_415_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_415_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;416, 연주한다(동결중?
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_416
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_416_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_416_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;417, 낮잠을 한다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_417
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_417_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_417_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;421, 발원함 한다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_421
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_421_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_421_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;431, 욕실로느긋하게쉰다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_431
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_431_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_431_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;440, 기다린다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_440
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_440_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_440_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;441, 수업을 받는다(케이네 전용?
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_441
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_441_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_441_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;442, 벌채한다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_442
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_442_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_442_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※
;데이트계 커맨드
;※※※※※※※※※※※※※※※※※※※※※※※※※
[SKIPSTART]
;현상미실장
;====================================================================================================
;600, 데이트 회화
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_600
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_600_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_600_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1

;====================================================================================================
;601, 데이트 스킨십
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_601
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_601_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_601_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1

;====================================================================================================
;602, 데이트 키스
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_602
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_602_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_602_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
[SKIPEND]
;====================================================================================================
;603, 손을잡는다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_603
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_603_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_603_1
#DIM DYNAMIC iRT = 0
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	iRT = K17_GRT_EX(TARGET)
	;첫회
	IF FIRSTTIME(SELECTCOM) || FIRSTTIME(@"스킨십 0")
		PRINTFORML 「음…… 조금 부끄럽네」
		PRINTFORML 「내 손, 마법이나 인형 조작 때문에, 많이 다쳐있어서……」
		PRINTFORMDL 그런 거 신경 안 써
		PRINTFORMDL 이 손으로 그 인형들을 세심하게 조종하고 있나 생각해보니, 뭔가 대단한 걸 만지고 있단 생각이 들었다
		PRINTFORML 「그렇게 칭찬해줘도 아무것도 안 줄거지만, 고마워 %K17_CNAME()%」
		PRINTFORMDL 그렇게 말하면서 얼굴을 붉힌 채, 손을 꼭 맞잡아왔다
		CALLF FIRSTTIME(@"스킨십 0")
		RETURN 1
	ENDIF
	
	;사모 있으면 하한 절상
	iRT = K17_MAX_LIMIT_RAND(iRT, K17C_사모, K17C_연모고백)
	;2회째 이후
	SELECTCASE iRT
		CASE IS >= K17C_연모고백
			PRINTFORML 「아, 진짜, 그렇게 하는 게 아니라∼~ 이렇게 하는 거잖아?」
			PRINTFORMDL 손가락을 엮어서 소위 말하는 연인 손깍지를 하고 있으려니, %타겟은% 팔에도 안겨왔다
			PRINTFORML 「어머, 오늘은 왠지 덥네…… 응? 뭐야? 왜 그러는 거야」
			PRINTFORMDL 말하면서 %타겟은% 부쩍부쩍 %CALLNAME:MASTER%의 팔에 가슴을 꾹 눌러 온다
			PRINTFORML 「이제 와서 이런 일로 %K17_RS("수줍어하다/붉어지다/부끄러워하다")%니, 뭔가 귀엽네」
		CASE IS >= K17C_사모우후후
			PRINTFORML 「손, %K17_RS("따뜻하/차갑")%네」
			PRINTFORML 「손 잡는 거, %K17_RS("좋아해? /좋아하지? ")% ……나도?」
		CASE IS >= K17C_사모
			PRINTFORML 「응…… 뭔가 %K17_RS("수줍어지네/얼굴 빨개질 거 같네/낯 간지럽네")%」
		CASE IS >= K17C_아는사람
			PRINTFORML 「응…… 어머, %K17_RS("조금 차갑네/땀 흘리고 있네")%」
			;남성으로 체형이 보통 이상 여성의 경우 체형이 크면
			IF (TALENT:MASTER:성별 == 2 && TALENT:MASTER:체형 > -1) || (TALENT:MASTER:성별 & 1 && TALENT:MASTER:체형 > TALENT:TARGET:체형)
				PRINTFORML 「으응~, 역시 내 손보다 크구나」
			ELSEIF (TALENT:MASTER:성별 == 2 && TALENT:MASTER:체형 < -1) || (TALENT:MASTER:성별 & 1 && TALENT:MASTER:체형 < TALENT:TARGET:체형)
				PRINTFORML 「으응~, 역시 내 손보다 작고 귀엽네」
			ELSE
				PRINTFORML 「으응~, 손도 이렇게 비교해보니 많이 달라 보이네」
			ENDIF
	ENDSELECT


ENDIF
RETURN 1

;====================================================================================================
;604, 산책한다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_604
;산책하려면  TRAIN_MESSAGE가 없다
CALL K17_SKIP_TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_604_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_604_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL && FLAG:데이트상대 == K17C_ID
	
	;이동처의 명칭을 취득
	LOCALS = %DATENAME_SPOT()%
	
	;두 명의 이동 방식을 선택
	IF !FIRSTTIME(@"311 데이트 이동", 1)
		;팔 안아 경험이 끝난 상태
		PRINTFORMDL %타겟은% 자연스레 %CALLNAME:MASTER%의 팔에 달라붙어, %K17_RS("젖가슴/가슴")%을 %K17_RS("밀어붙이/꽉 누르")%면서 함께 %LOCALS%로 이동했다
	ELSEIF !FIRSTTIME(603,1) || !FIRSTTIME(@"스킨십 0", 1)
		;손을 잡는 경험이 끝난 상태
		PRINTFORMDL %마스터는% %CALLNAME:TARGET%의 손을 잡아 %K17_RS("달라붙은 채/나란히")% %LOCALS%로 이동했다
	ELSE
		;아직 하지 않다
		PRINTFORMDL 두 명은 나란히 %LOCALS%로 이동했다
	ENDIF
	
	;이동처가 이제(벌써) 들어오고 있는은 두
	SELECTCASE CFLAG:MASTER:현재위치
		CASE 혼숙여관
			IF CFLAG:기정사실 & 합의_우후후
				PRINTFORML 「……그거…… %K17_RS("하고 싶은…… 거야?/해버릴…… 거구나")%%K17_BLUSH()%」
			ELSE
				PRINTFORML (따라……와버렸다…… 역시 그런 짓, 하겠지)
				PRINTFORML 「……%K17_BLUSH()%」
			ENDIF
			PRINTFORMDL %타겟은% 얼굴을 새빨갛게 붉힌 채 숙여버렸다
			
		CASE 대도서관
			PRINTFORML 「아, %K17_RS("공부/독서")%라도 하고 싶은 거야? 나도 여기 자주 와」
		;그 외
		CASEELSE
			IF K17_PERCENT(40)
				SELECTCASE K17_GRT_EX()
					CASE IS >= K17C_사모
						PRINTFORML 「%K17_RS("흐흥~,/응? /어머나, ")%%K17_RS("저쪽이/여기/그쪽이")%구나……」
					CASEELSE
						PRINTFORML 「응…… %K17_RS("저쪽이/여기/그쪽이")%구나……」
				ENDSELECT
			ENDIF
	ENDSELECT
	
	PRINTW
ENDIF
RETURN 1
;====================================================================================================
;605, 지나치는길한다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_605
;지나치는 길 하려면  TRAIN_MESSAGE가 없다
CALL M_KOJO_MESSAGE_COM_K17_605_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_605_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1

;====================================================================================================
;610, 식사제의를한다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_610
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_610_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_610_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1

;====================================================================================================
;613, 돈 벌어 한다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_613
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_613_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_613_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;614, 식재료 장보기
;데이트중 혹은 거점 마을에서 동행중
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_614
CALL TRAIN_MESSAGE
IF FLAG:데이트상대 ==K17C_ID || CFLAG:TARGET:동행
	CALL M_KOJO_MESSAGE_COM_K17_614_1
	PRINTW
ENDIF
RETURN 1

@M_KOJO_MESSAGE_COM_K17_614_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;614, 식재료 장보기
;사지 않았다(말 불리지 않았다
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:193 == -1

	SELECTCASE K17_MAX_LIMIT_RAND(K17_GRT_EX(TARGET), K17C_연모, K17C_연인)
		CASE IS >= K17C_연인
			PRINTFORMDL 결혼은 언제 할 거냐고, 놀리는 목소리가 들려 왔다……
			PRINTFORMDL 뭔가 부끄러워져서 그대로 나와 버렸다……
		CASE IS >= K17C_연모
			PRINTFORML 「……어머나? 아무것도 안 샀다고?」
			PRINTW
			PRINTFORML 「…………읏!」
			PRINTFORML (앗, 민폐가 될 수도 있어서, 날 신경 써준거야……?)
			PRINTFORMDL %타겟은% 새빨갛게 된 얼굴을 숙인 채, %CALLNAME:MASTER%의 %K17_RS("팔에 달라붙어 왔다/손을 잡아 왔다")%
		CASEELSE
			PRINTFORMDL 어쩐지 %타겟은% 가게의 %K17_RS("여성 점원이/아줌마/여주인이")%랑 %K17_RS("이야기하고 /담소하고")% 있다
			IF TALENT:MASTER:성별 == 2 && RAND:2
				PRINTFORMDL 「남자들은 요리로 잡아놓으면 마음대로 할 수 있어……」라는 말이 들려 왔다
			ELSE
				PRINTFORMDL 인근 여성이 결혼했다느니 뭐라느니…… 잡담이 들려 왔다
			ENDIF
			PRINTFORMDL 길어질 것 같았다……
			PRINTFORMDL ……
			PRINTFORMDL …………
			PRINTFORMDL ………………
			PRINTW
			PRINTFORML 「……어머나? 아무것도 안 샀다고?」
			PRINTFORMDL 목적을 완전히 까먹고 있었다!
	ENDSELECT
	
	RETURN 1
ENDIF
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;614, 식재료 장보기
;샀다(성공
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	SELECTCASE K17_MAX_LIMIT_RAND(K17_GRT_EX(TARGET), K17C_연모, K17C_연인)
		CASE IS >= K17C_연인
			PRINTFORML 「요즘 뭘 먹었더라……그러니까……」
			PRINTFORMDL 둘이서 그런 이야기를 하고 있으니, 가게의 %K17_RS("여성 점원에/아줌마에/여주인에")%게 「이제 완전 부부 다 됐네」 하고 놀림 받았다……
			PRINTW
			PRINTFORML 「뭔가 이렇게, 둘이서 장 보는 것도 괜찮은걸……」
			PRINTFORMDL 귀찮지 않아……?
			PRINTFORML 「행복하다고 그랬잖아, 정말 %K17_BLUSH()%」
			PRINTFORMDL 확실히 행복한 걸지도…… 라고 %마스터는% 생각했다
		CASE IS >= K17C_연모
			PRINTFORML 「뭘 만들어볼까. %K17_CNAME()%이 좋아하는 거 만들어줄까?」
			PRINTFORML 「아― %K17_RS("안 돼 안 돼/안 돼")%, 아무거나 좋다는 말은 금지야」
			PRINTFORMDL 대답을 예측 당했다…… %타겟이% 만들어 주는 거라면 어떤 음식이든 기쁘지만……
			PRINTFORML 「후훗, 이렇게 둘이서 같이 뭘 먹을지 생각하는 시간도 꽤 즐겁지?」
		CASEELSE
			PRINTFORML 「제대로 자취하고 있는 것 같네…… 조금 안심했어」
			PRINTFORMDL 뭔가 아이 취급 받는 느낌이다……
	ENDSELECT
ENDIF
RETURN 1
;====================================================================================================
;615, 도시락을 먹는다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_615
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_615_1
PRINTW
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_615_1
#DIM iRT = 0
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;615, 도시락을 먹는다
;실패 or 기능 부족
LOCAL = 1
;-------------------------------------------------
IF LOCAL && (TFLAG:193 == -1 || ABL:요리기능 < 2)
	
	IF FIRSTTIME(@"{SELECTCOM}말-실패")
		;첫회
		PRINTFORMDL %CALLNAME:TARGET%의 요리는 뭐라 해야 할까…… 나쁘게 말하면 밋밋하고, 좋게 말하면 소박한 맛이었다. %CALLNAME:MASTER%에게 있어선 뭔가 부족한 요리였다
		PRINTFORML 「혹시…… 입맛에 안 맞아?」
		PRINTFORML 「아, 괜찮아. 나한테 신경 쓰지 말고 솔직한 감상을 들려줘」
		PRINTFORMDL %마스터는% 정직한 감상을 %CALLNAME:TARGET%에게 전했다
		PRINTW
		PRINTFORML 「미안해, 항상 혼자서 먹어서…… 다른 사람의 입맛 같은 걸 생각해 본 적이 없었어」
		PRINTFORML 「아무래도 좀 더 연습이 필요한 것 같네…… 좀 더 노력해볼게」
	ELSE
		;2회째 이후
		PRINTFORML 「으응~, %K17_RS("아직 애매하구나/좀 더 연습이 필요한 것 같구나/다음은 좀 더 노력해볼게")%……」
	ENDIF
	RETURN 1
ENDIF

;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;615, 도시락을 먹는다
;성공 요리기능 2이상
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	PRINTFORML 「……어때? 맛있어? 후훗, %K17_CNAME()%%K17_RS("가 먹고 있는 모습, 귀엽네/한테 손수 만든 요리를 먹인다는 것, 좋네/, 그리 급하게 안 먹어도 괜찮아")%」
	iRT = K17_GRT_EX(TARGET)
	
	IF EXP:키스경험 && iRT >= K17C_연모고백 && K17_PERCENT(50) && !FIRSTTIME(@"{SELECTCOM}말-성공", 1)
		;2회째 이후 한편50%
		PRINTW
		PRINTFORML 「어머, 입가에 음식 묻어 있어…… ――쪽%K17_HEART()%」
		PRINTFORMDL %타겟이% 갑자기 얼굴을 접근하더니, %마스터는% 입술을 빼앗겼다
		PRINTFORMDL 입술을 떼니 %타겟은% 혀를 살짝 내밀면서, 부끄러워했다
		PRINTW
		PRINTFORMDL 뭐가 묻어있단 소리가 진짜였을까……?
		PRINTFORML 「진짜라니깐………… ――쪼옥%K17_HEART()% 아직…… 더 있어, 응~ 쪽%K17_HEART()% 날름%K17_HEART()%」
		;경험치
		CFLAG:K17C_ID:K17C_CF_FK앨리스 = MIN(CFLAG:K17C_ID:K17C_CF_FK앨리스+1, 10000)
		EXP:키스경험 += 1
		EXP:M경험 += 1
		EXP:MASTER:M경험 += 1
		EXP:MASTER:키스경험 += 1
		
	ELSEIF iRT >= K17C_연모
		PRINTW
		IF FIRSTTIME(@"{SELECTCOM}말-성공")
			;첫회
			PRINTFORML 「맞다. 예전부터 해보고 싶었던 게 있는데…… 그러니깐, 저기……」
			PRINTFORMDL 얼굴을 붉힌 %타겟이% 눈을 치켜 뜬 채 %마스터를% 바라보면서, 도시락의 반찬을 잡은 젓가락을 내밀었다
			PRINTFORML 「부끄러우니깐, 빨리 입 열라니까」
			PRINTFORMDL 부끄러워 하면서도 기대를 담아 바라보는 %CALLNAME:TARGET%에게 부탁받은 대로, %마스터는% 입을 열었다
			PRINTW
		ENDIF
		PRINTFORML 「자%K17_HEART()% 아앙~%K17_HEART(2)%」
		PRINTFORML 「후훗, %K17_RS(@"뭔가 길들이는 느낌이라 즐겁네/%K17_CNAME()%, 어린애 같아 보여서 귀여워/부끄러운 짓이라고 생각했는데, 실제로 해보니 의외로 재밌네, 이거")%」
	ENDIF
ENDIF


RETURN 1
;====================================================================================================
;617, 과자가게로 이끈다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_617
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_617_1
PRINTW
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_617_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;617, 과자가게로 이끈다
;첫회
LOCAL = 1
;-------------------------------------------------
IF LOCAL && FIRSTTIME(@"{SELECTCOM}말")
	PRINTFORML 「여기, 들어가려고?」
	PRINTFORMDL 혹시 %CALLNAME:TARGET%한테는, 이런 일본식 과자점은 별로인 걸까……
	PRINTFORML 「그런 게 아냐. 오히려 여길 혼자 들어갈 용기가 안 나서, 가보고 싶었지만 실제로 와본 적은 없었어」
	PRINTFORML 「살짝 기대되네. 기대되는 걸」
	PRINTFORMDL ……
	PRINTFORMDL …………
	PRINTFORMDL ………………
	PRINTW
	PRINTFORML 「약간 씁쓸한 차와 달콤한 과자가 맛있더라…… 일본식 과자도 좋네」
	PRINTFORMDL %CALLNAME:TARGET%한테 호평 받은 것 같아서 다행이다
	PRINTFORML 「고마워, %K17_CNAME()%…… 또, 데리고, 와줘」
	RETURN 1
ENDIF
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
;617, 과자가게로 이끈다
;2회째 이후
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	CALLF K17_RS("경단/양갱/팥떡/찹살떡/경단 단팥죽/콩가루떡/밤단팥죽","/", 2)
	PRINTFORML 「오늘은 그러면…… %RESULTS%으로 할까…… 아, 그래도 %RESULTS:1%도 %K17_RS("좋지/맛있을 것 같아/궁금해")%……」
	PRINTFORMDL 그렇게 중얼거리면서 즐겁게 고민하는 %CALLNAME:TARGET%의 모습은, %K17_RS("어쩐지 어린애 같아서/의외로")% 귀여웠다
	PRINTFORML 「앗, 미안해. 왠지 모르게 %K17_CNAME()%이랑 같이 올 때마다 뭔가 들떠버려서……%K17_BLUSH()%」
	PRINTFORMDL 결국 둘 다 주문해서, 서로 사이좋게 나눠 먹기로 했다
	PRINTFORMDL ……
	PRINTFORMDL …………
	PRINTFORMDL ………………
	PRINTW
	IF TFLAG:193 >= 0
		;성공
		PRINTFORML 「%K17_RS("만족했어/즐거웠어/맛있었어")%. 고마워, %K17_CNAME()%…… 또, 데리고, 와줘」
		PRINTFORMDL 다행히 %CALLNAME:TARGET%에게 호평 받은 것 같아 다행이다
	ELSEIF TFLAG:193 == -1
		;실패
		PRINTFORML 「으음…… 설마 노리던 게 품절이라니, ……다음번을 기대하죠」
		PRINTFORMDL 이번은 운이 나빴던 것 같다……
	ENDIF
	RETURN 1
ENDIF

RETURN 1
;====================================================================================================
;618, 꽃집
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_618
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_618_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_618_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;620, 스즈나안
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_620
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_620_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_620_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;660, 독서
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_660
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_660_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_660_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;698, 방에들어간다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_698
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_698_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_698_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;699, 밖으로나온다
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_699
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_699_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_699_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※
;파생 커맨드
;※※※※※※※※※※※※※※※※※※※※※※※※※
;====================================================================================================
;60, 귀이개
;====================================================================================================
@M_KOJO_MESSAGE_SCOM_K17_60
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K17_60_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K17_60_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;61, 안아 베개
;====================================================================================================
@M_KOJO_MESSAGE_SCOM_K17_61
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K17_61_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K17_61_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;62, 이마 쪽―
;====================================================================================================
@M_KOJO_MESSAGE_SCOM_K17_62
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K17_62_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K17_62_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;63, 좀 더 키스한다
;====================================================================================================
@M_KOJO_MESSAGE_SCOM_K17_63
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K17_63_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K17_63_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !FLAG:시간정지 && !CFLAG:수면
	;-----------------
	;플래그 첫회 체크
	;-----------------
	IF !CFLAG:K17C_ID:K17C_CF_FK마스터
		CALL K17_FIRSTKISS(TARGET)
		RETURN 1
	ENDIF

ENDIF
RETURN 1
;====================================================================================================
;80, 손을 잡아 당긴다
;====================================================================================================
@M_KOJO_MESSAGE_SCOM_K17_80
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K17_80_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K17_80_1
;-------------------------------------------------
;기입 체크(=0, 비표시, 1, 표시)
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1











