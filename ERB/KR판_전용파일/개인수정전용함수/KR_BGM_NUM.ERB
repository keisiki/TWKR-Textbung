;KR 개인수정 전용 함수
;CHARA_NUM을 받아 해당 BGM(악보)의 STR값을 반환하는 함수
;테마곡이 없거나, 악보 데이터 없는 경우는 0을 반환
;12/24 수정 : 테마곡이 여러개면 랜덤으로 반환
@BGM_NUM(CHARA_NUM)
#FUNCTION
#DIM DYNAMIC CHARA_NUM

SELECTCASE CHARA_NUM

    CASE 1 ;레이무
        RETURNF 10508 ;소녀기상곡　~ Dream Battle

    CASE 2 ;루코토
        RETURNF 0

    CASE 3 ;카나
        RETURNF 10207 ;몽소실　~ Lost Dream

    CASE 4 ;미마
        RETURNF 10160 ;Complete Darkness

    CASE 5 ;서니
        RETURNF 10955 ;요정대전쟁　~ Fairy Wars

    CASE 6 ;루나
        RETURNF 10955 ;요정대전쟁　~ Fairy Wars

    CASE 7 ;스타
        RETURNF 10955 ;요정대전쟁　~ Fairy Wars

    CASE 8 ;치유리
        RETURNF 10210 ;Sailor of Time

    CASE 9 ;유메미
        RETURNF 10211 ;Strawberry Crisis!!

    CASE 10 ;스이카
        RETURNF 10452 ;동화나라의 오니들의 섬　~ Missing Power

    CASE 11 ;마리사
        RETURNF 10509 ;사랑색 마스터 스파크

    CASE 12 ;루미아
        RETURNF 10352 ;요마야행

    CASE 13 ;대요정
        RETURNF 10353 ;루네이트 엘프

    CASE 14 ;치르노
        RETURNF 10354 ;말괄량이 연랑

    CASE 15 ;사쿠야
        RETURNF 10359 ;메이드와 피의 회중시계

    CASE 16 ;레밀리아
        RETURNF 10362 ;죽은 왕녀를 위한 셉텟

    CASE 17 ;앨리스
        RETURNF 10406 ;인형재판　~ 사람의 형상을 가지고 노는 소녀

    CASE 18 ;릴리 W
        RETURNF 10407 ;천공에 있는 꽃의 도시

    CASE 19 ;릴리 B
        RETURNF 0

    CASE 20 ;리리카
        RETURNF 10408 ;유령악단　~ Phantom Ensemble

    CASE 21 ;메를랑
        RETURNF 10408 ;유령악단　~ Phantom Ensemble

    CASE 22 ;루나사
        RETURNF 10408 ;유령악단　~ Phantom Ensemble

    CASE 23 ;요우무
        RETURNF 10410 ;히로아리，괴조를 쏘다　~ Till When?

    CASE 24 ;첸
        RETURNF 10404 ;댜오예쭝(withered leaf)

    CASE 25 ;란
        RETURNF 10415 ;소녀환장　~ Necro-Fantasy

    CASE 26 ;유카리
        RETURNF 10417 ;네크로 판타지아

    CASE 27 ;리글
        RETURNF 10502 ;준준추월　~ Mooned Insect

    CASE 28 ;미스티아
        RETURNF 10504 ;이젠 노래밖에 들리지 않아

    CASE 29 ;아야
        RETURNF 10658 ;요괴의 산　~ Mysterious Mountain

    CASE 30 ;에이키
        RETURNF 10564 ;60년만의 동방재판　~ Fate of Sixty Years

    CASE 31 ;사나에
        RETURNF 10660 ;신앙은 덧없는 인간을 위해

    CASE 32 ;카나코
        RETURNF 10662 ;신성하고 장엄한 옛 전장　~ Suwa Foughten Field

    CASE 33 ;스와코
        RETURNF 10664 ;네이티브 페이스

    CASE 34 ;텐시
        RETURNF 10701 ;유정천변　~ Wonderful Heaven

    CASE 35 ;이쿠
        RETURNF 10700 ;검은 바다에 붉음을　~ Legendary Fish

    CASE 36 ;오린
        RETURNF 10760 ;시체여행　~ Be of good cheer!

    CASE 37 ;오쿠
        RETURNF 10762 ;영지의 태양신앙　~ Nuclear Fusion

    CASE 38 ;코이시
        RETURNF 10764 ;하르트만의 요괴소녀

    CASE 39 ;나즈린
        RETURNF 10802 ;작디작은 현장

    CASE 40 ;코가사
        RETURNF 10804 ;만년 방치된 우산에 주의를

    CASE 41 ;누에
        RETURNF 10814 ;헤이안의 에일리언

    CASE 42 ;하타테
        RETURNF 0

    CASE 43 ;카센
        RETURNF 0

    CASE 44 ;엘렌
        RETURNF 10205 ;Tabula rasa　~ 공백소녀

    CASE 45 ;리카코
        RETURNF 10208 ;몽환유희　~ Dream War

    CASE 46 ;메이라
        RETURNF 10154 ;어둠의 힘

    CASE 47 ;리카
        RETURNF 10152 ;She's in a temper!!

    CASE 48 ;루이즈
        RETURNF 10304 ;영천　~ Spiritual Heave

    CASE 49 ;사토리
        RETURNF 10758 ;소녀 사토리　~ 3rd eye

    CASE 50 ;플랑
        RETURNF 10364 ;U.N.오웬은 그녀인가?

    CASE 51 ;니토리
        RETURNF 10656 ;아쿠타가와 류노스케의 캇파　~ Candid Friend

    CASE 52 ;우동게
        RETURNF 10511 ;광기의 눈동자　~ Invisible Full Moon

    CASE 53 ;테위
        RETURNF 10510 ;신데렐라 케이지　~ Kagome-Kagome

    CASE 54 ;파츄리
        RETURNF 10358 ;락드 걸　~ 소녀밀실

    CASE 55 ;뱌쿠렌
        RETURNF 10812 ;감정의 마천루　~ Cosmic Mind

    CASE 56 ;미코
        RETURNF 11012 ;쇼토쿠전설　~ True Administrator

    CASE 57 ;코코로
        RETURNF 11051 ;망실의 이모션

    CASE 58 ;메이링
        RETURNF 10356 ;메이지 17년의 상하이 앨리스

    CASE 59 ;소악마
        RETURNF 10357 ;브와르 마법도서관

    CASE 60 ;파르시
        RETURNF 10754 ;녹안의 젤러시

    CASE 61 ;모코우
        RETURNF 10517 ;달까지 닿아라，불사의 연기

    CASE 62 ;카구야
        RETURNF 10514 ;죽취비상　~ Lunatic Princess

    CASE 63 ;카게로
        RETURNF 11106 ;고독한 웨어울프

    CASE 64 ;유기
        RETURNF 10756 ;꽃의 술잔 오오에야마

    CASE 65 ;모미지
        RETURNF 10657 ;폴 오브 폴　~ 가을다워지는 폭포

    CASE 66 ;유유코
        RETURNF 10412 ;유아하게 피어라，묵염의 벚꽃　~ Border of Life

    CASE 67 ;케이네
        RETURNF 10505 ;그리운 동방의 피　~ Old World

    CASE 68 ;유카
        RETURNF 10562 ;금석환상향　~ Flower Land

    CASE 69 ;마미조
        RETURNF 11014 ;사도의 후타츠이와

    CASE 70 ;코스즈
        RETURNF 0

    CASE 71 ;신묘마루
        RETURNF 11112 ;빛나는 바늘의 소인족　~ Little Princess

    CASE 72 ;에이린
        RETURNF 10513 ;천년환상향　~ History of the Moon

    CASE 73 ;반키
        RETURNF 11104 ;버드나무 아래의 듀라한

    CASE 74 ;레티
        RETURNF 10402 ;크리스탈라이즈 실버

    CASE 75 ;메디슨
        RETURNF 10561 ;포이즌 바디　~ Forsaken Doll

    CASE 76 ;코마치
        RETURNF 10563 ;피안귀항　~ Riverside View

    CASE 77 ;시즈하
        RETURNF 10651 ;인간을 사랑한 신　~ Romantic Fall

    CASE 78 ;미노리코
        RETURNF 10652 ;이나다히메님께 야단맞으니까

    CASE 79 ;히나
        RETURNF 10654 ;운명의 다크사이드

    CASE 80 ;아큐
        RETURNF 0

    CASE 81 ;렌코
        RETURNF 0

    CASE 82 ;메리
        RETURNF 0

    CASE 83 ;키스메
        RETURNF 10751 ;어둠의 풍혈

    CASE 84 ;야마메
        RETURNF 10752 ;봉인당한 요괴　~ Lost Place

    CASE 85 ;이치린
        RETURNF 10806 ;시대 아저씨와 하이칼라 소녀

    CASE 86 ;무라사
        RETURNF 10808 ;캡틴・무라사

    CASE 87 ;쇼
        RETURNF 10810 ;범무늬의 비사문천

    CASE 88 ;쿄코
        RETURNF 11004 ;문앞의 요괴 소녀

    CASE 89 ;요시카
        RETURNF 11006 ;리지드 파라다이스

    CASE 90 ;청아
        RETURNF 11008 ;오랜 위안셴

    CASE 91 ;토지코
        RETURNF 11009 ;몽전대사묘

    CASE 92 ;후토
        RETURNF 11010 ;오오미와 신화전

    CASE 93 ;와카사기히메
        RETURNF 11102 ;비경의 머메이드

    CASE 94 ;벤벤
        RETURNF 11108 ;환상 정유리

    CASE 95 ;야츠하시
        RETURNF 11108 ;환상 정유리

    CASE 96 ;라이코
        RETURNF 11114 ;원시의 비트　~ Pristine Beat

    CASE 97 ;세이자
        RETURNF 11110 ;리버스 이데올로기

    CASE 98 ;요리히메
        RETURNF 0

    CASE 99 ;토요히메
        RETURNF 0

    CASE 100 ;레이센
        RETURNF 0

    CASE 101 ;토키코
        RETURNF 0

    CASE 102 ;신키
        RETURNF 10314 ;신화환상　~ Infinite Being

    CASE 103 ;유메코
        RETURNF 10312 ;가엾은 인형　~ Doll of Misery

    CASE 104 ;유키
        RETURNF 10309 ;진홍의 소녀　~ Crimson Dead!!

    CASE 105 ;마이
        RETURNF 10310 ;배신의 소녀　~ Judas Kiss

    CASE 106 ;스미레코
        RETURNF 11201 ;라스트 오컬티즘　~ 현세의 비술사

    CASE 107 ;세이란
        RETURNF 11252 ;토끼는 내려앉았다

    CASE 108 ;링고
        RETURNF 11254 ;9월의 펌프킨

    CASE 109 ;도레미
        RETURNF 11256 ;영원의 춘몽

    CASE 110 ;사구메
        RETURNF 11258 ;역전하는 휠 오브 포춘

    CASE 111 ;클라운피스
        RETURNF 11260 ;성조기의 피에로

    CASE 112 ;순호
        RETURNF 11262 ;퓨어 퓨리스　~ 마음이 있는 곳

    CASE 113 ;헤카티아
        RETURNF 11264 ;판데모닉 플래닛

    CASE 114 ;쿠루미
        RETURNF 10255 ;홍향곡　~ Scarlet Phoneme

    CASE 115 ;엘리
        RETURNF 10257 ;영전　~ Perdition crisis

    CASE 116 ;무게츠
        RETURNF 10266 ;메이드 환상　~ Icemilk Magic

    CASE 117 ;겐게츠
        RETURNF 10267 ;귀여운 악마　~ Innocence

    CASE 118 ;라바
        RETURNF 11302 ;한여름 요정의 꿈

    CASE 119 ;네무노
        RETURNF 11304 ;깊은 산속의 엔카운터

    CASE 120 ;아운
        RETURNF 11306 ;한 쌍의 신수

    CASE 121 ;나루미
        RETURNF 11308 ;마법의 삿갓 지장

    CASE 122 ;마이
        RETURNF 11310 ;크레이지 백댄서즈

    CASE 123 ;사토노
        RETURNF 11310 ;크레이지 백댄서즈

    CASE 124 ;오키나
        IF CFLAG:TARGET:탄막승부승리 != 1
            RETURNF 11312 ;비닉된 포 시즌스
        ELSE
            RETURNF 11314 ;비신 마타라　~ Hidden Star in All Seasons
        ENDIF

    CASE 125 ;조온
        RETURNF 0

    CASE 126 ;시온
        RETURNF 0

    CASE 127 ;에이카
        RETURNF 0

    CASE 128 ;우루미
        RETURNF 0

    CASE 129 ;쿠타카
        RETURNF 0

    CASE 130 ;야치에
        RETURNF 0

    CASE 131 ;마유미
        RETURNF 0

    CASE 132 ;케이키
        RETURNF 0

    CASE 133 ;사키
        RETURNF 0

    CASE 134 ;미요이
        RETURNF 0

    CASE 135 ;미케
        RETURNF 0

    CASE 136 ;타카네
        RETURNF 0

    CASE 137 ;코마쿠사
        RETURNF 0

    CASE 138 ;미스마루
        RETURNF 0

    CASE 139 ;츠카사
        RETURNF 0

    CASE 140 ;메구무
        RETURNF 0

    CASE 141 ;치마타
        RETURNF 0

    CASE 142 ;모모요
        RETURNF 0

    CASE 143 ;모브코
        RETURNF 0

    CASEELSE
        RETURNF 0
ENDSELECT

;-------------------------------------------------
;리버스에서 참조/변형한 애니메이션 구현 함수
;-------------------------------------------------
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;캐릭터 라인 표시·애니메─숀 함수 파일 「에 째─실마리응」0527판 동고, 동방 Project 로컬 함수 파일
;동방계 바리안트로 사용할 수 있을 것 같은 비주얼·분위기 향상계의 함수군입니다. 동방계 이외에서는… 어떨까. 어느 방해는 하지 않습니다만.
;이쪽은, 에 째─실마리응본체가 없으면 동작하지 않습니다
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡

;-------------------------------------------------
;동방 Project풍BGM 컷 인 함수@BGM_CUTIN
;   
;   ARG         BGM명을 호출할 캐릭터 번호;
;	ARG:1       스크롤 속도（디폴트라면 5）
;   ARG:2       페이드 인 시작시 공백의 개수 (디폴트면 50, -1을 넣으면 본인 문자열 길이 만큼)
;	ARG:3       참으로 하면 사라지려 할 때가 사이드 아웃에（디폴트라면 페이드 아웃）
;
;-------------------------------------------------
@BGM_CUTIN_KR(ARG, ARG:1 = 5, ARG:2 = 50, ARG:3)
#DIMS BGM_NAME
#DIMS BGM_PRINT

#LOCALSIZE 2

SIF ARG < 악보명개시번호
    ARG = BGM_NUM(ARG)
;「♪（홍·문장·DS·요전 타입）」, 「ＢＧＭ（영·풍 이후 타입）」
BGM_NAME = %\@ ARG >= 10400 ? % "BGM. "% # ♪ \@%%STR:ARG%

; ;색보존
; LOCAL:1 = GETCOLOR()
; RESETCOLOR

SIF ARG:2 == -1
    ARG:2 = STRLENS(BGM_NAME) + 4
BGM_PRINT = %" "*ARG:2+BGM_NAME%

; LOCALS:1 = %GETFONT()%
; SIF CHKFONT(ARGS:1)
; 	SETFONT ARGS:1

;표시 온
IF ANIME_CONFIG_KR("BGM_CUTIN")
	;스크롤 속도가 윈드우폭에 대해 너무 빠른 경우, 교정한다 (일단 보류?)
    ; IF ARG:2 == STRLENS(BGM_NAME) + 4
    ;     ARG:1 = ARG:1 > (ARG:2 / 10) ? ARG:2 / 10 # ARG:1
    ;     PRINTFORML {ARG:1}
	; ELSE
    ;    ARG:1 = ARG:1 >= ARG:2 ? ARG:2-1 # ARG:1
    ; ENDIF
	REDRAW 0
	LOCAL = 0
	;사이드 인
	FOR LOCAL, 0, ARG:2, ARG:1
		PRINTSINGLEFORM %SUBSTRING(BGM_PRINT , LOCAL)%
		TWAIT 2, 0
		CLEARLINE 1
	NEXT
	PRINTFORML %BGM_NAME%
	TWAIT 800, 0
	CLEARLINE 1

	IF ARG:3 == 1
		;사이드 아웃cx, 쓰지 않을꺼라 딱히 안건드림
		FOR LOCAL, 0, STRLENS(BGM_NAME)+4, ARG:1*2
			PRINTSINGLEFORM %SUBSTRING(BGM_PRINT , STRLENS(BGM_PRINT)+4-LOCAL)%
			TWAIT 2 , 0
			CLEARLINE 1
		NEXT
	ELSE
		;BGM애니메온이라면 페이드를 강요표시한다
		CALLF ANIME_CONFIG_KR("ONCE")
		;페이드 아웃
        ;CALL FADEOUT_KR(8, " "*(ARG:2-STRLENS(BGM_NAME)-4)+BGM_NAME)
		CALL FADEOUT_KR(8, BGM_NAME)
		CLEARLINE 1
	ENDIF
	REDRAW 1
;표시끄기
ELSE
	;PRINTFORMW %" "*(ARG:2-STRLENS(BGM_NAME)-4)+BGM_NAME%
	PRINTFORMW %BGM_NAME%
ENDIF
; SETFONT LOCALS:1
; SETCOLOR LOCAL:1
; RETURN RESULT

