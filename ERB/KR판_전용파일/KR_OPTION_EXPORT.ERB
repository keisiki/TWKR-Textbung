;-------------------------------------------------
; -KR- 옵션 내보내기/불러오기 함수
; 기본적으로 OPTION_SAVE_KR, KR_OPTION_SAVE_KR 변수를 다룬다
; 0~99 : 옵션에 사용되는 변수 저장
; * 경고 * 한번에 다중 변수를 다루는 옵션이 많아, index가 옵션 변호를 지칭하지 않는다
;-------------------------------------------------
@OPTION_EXPORT_KR
#DIM DYNAMIC L_COUNT 

PRINTFORML 현재 옵션값을 내보내시겠습니까?
PRINTFORML * 주의 * 내보낼 경우, 기존에 저장된 옵션은 삭제됩니다.
PRINTFORML * 주의 * 버전이 올라갔을 경우, 기본 세이브에서 옵션을 다시 내보내는 것을 강력히 권장합니다.
PRINTFORML [1] - 내보낸다
PRINTFORML [0] - 돌아간다
INPUT

IF RESULT == 1
    ; 내보내기 전에 충돌 대비를 위해 기존 값을 초기화
    FOR L_COUNT, 0, 99
        OPTION_SAVE_KR:L_COUNT = 0
        KR_OPTION_SAVE_KR:L_COUNT = 0
    NEXT

    ; CASE by CASE 변수 할당

    ; CASE 0 임신 유무
    OPTION_SAVE_KR:0 = FLAG:임신스위치

    ; CASE 1 자식의성별
    OPTION_SAVE_KR:1 = FLAG:자식의성별

    ; CASE 2 자식묘사
    OPTION_SAVE_KR:2 = FLAG:자식묘사

    ; CASE 3 더부살이이벤트
    OPTION_SAVE_KR:3 = FLAG:더부살이이벤트

    ; CASE 4 연회 발생
    OPTION_SAVE_KR:4 = FLAG:연회의유무

    ; CASE 5 상대 쪽의 고백
    OPTION_SAVE_KR:5 = FLAG:고백금지

    ; CASE 6 섹프계 함락에서 연모계 함락으로 변화
    OPTION_SAVE_KR:6 = FLAG:함락노선변화

    ; CASE 7 섹프계 함락에서 연모계 함락으로 변화
    OPTION_SAVE_KR:7 = FLAG:무지자동상실금지

    ; CASE 8 텍스트 설정
    OPTION_SAVE_KR:8 = FLAG:정경텍스트설정
    OPTION_SAVE_KR:9 = FLAG:구상텍스트설정

    ; CASE 9 구상색
    OPTION_SAVE_KR:10 = FLAG:구상색

    ; CASE 10 불결도 표시
    OPTION_SAVE_KR:11 = FLAG:쓰레기표시OFF

    ; CASE 11 카운터시 지문
    OPTION_SAVE_KR:12 = FLAG:카운터지문제어

    ; CASE 12 가슴 관련 텍스트 설정
    OPTION_SAVE_KR:13 = FLAG:Look표시용유방
    OPTION_SAVE_KR:14 = FLAG:Look표시용유두

    ; CASE 15 턴마다 나오는 ABLUP 생략
    OPTION_SAVE_KR:15 = FLAG:ABLUP생략

    ; CASE 16 첫키스 기록 상황 설정
    OPTION_SAVE_KR:16 = FLAG:FK판정

    ; CASE 17 이동시 멈춰 서기
    OPTION_SAVE_KR:17 = FLAG:멈춰서기

    ; CASE 18 캐릭터 만남시 의뢰 표시
    OPTION_SAVE_KR:18 = FLAG:의뢰패스

    ; CASE 19 소모품의 자동 구입
    OPTION_SAVE_KR:19 = FLAG:소모품자동구입

    ; CASE 20 자동 시간정지 이동
    OPTION_SAVE_KR:20 = FLAG:순간이동

    ; CASE 21 능력을 비교해서 덮쳐지지 않게 되는 판정
    OPTION_SAVE_KR:21 = FLAG:덮치기

    ; CASE 22 경고장사용
    OPTION_SAVE_KR:22 = FLAG:경고장사용

    ; CASE 23 내방모드
    OPTION_SAVE_KR:23 = FLAG:교류내방모드

    ; CASE 24 탈의시 명령 선택
    OPTION_SAVE_KR:24 = FLAG:탈의선택

    ; CASE 25 시간정지 탈의시 팬티 처리
    OPTION_SAVE_KR:25 = FLAG:팬티도둑
    
    ; CASE 26 일부 캐릭터의 니삭스 착용
    OPTION_SAVE_KR:26 = FLAG:니삭스착용

    ; CASE 27 야한 속옷을 추가한다
    OPTION_SAVE_KR:27 = FLAG:섹시팬티추가

    ; CASE 28 팬티 수집 상황 표시
    OPTION_SAVE_KR:28 = FLAG:팬티수집상황타입B

    ; CASE 29 지도 표시 타입
    OPTION_SAVE_KR:29 = RECOLOREDMAPS
    OPTION_SAVE_KR:30 = ANIMATERECOLOREDMAPS

    ; CASE 30 캐릭터리스트 표시 순서
    OPTION_SAVE_KR:31 = FLAG:정렬

    ; CASE 31 방뇨와 오줌싸개버릇의 유효화
    OPTION_SAVE_KR:32 = FLAG:오줌유효

    ; CASE 32 채집시 재추첨 기능
    OPTION_SAVE_KR:33 = FLAG:채집재추첨

    ; CASE 33 시간 날씨에 따른 배경색 추이
    OPTION_SAVE_KR:34 = FLAG:배경색추이

    ; CASE 34 체벌 카운터
    OPTION_SAVE_KR:35 = FLAG:카운터제한

    ; CASE 35 자동 애널 개발 허가
    OPTION_SAVE_KR:36 = FLAG:애널개발무효

    ; CASE 36 일상행동 중 바람치라 발생
    OPTION_SAVE_KR:37 = FLAG:바람치라발생

    ; CASE 37 오폭삽입의 발생
    OPTION_SAVE_KR:38 = FLAG:오폭무효

    ; CASE 38 임신 기간 설정
    OPTION_SAVE_KR:39 = FLAG:임신일정배율

    ; 내보내기 완료
    SAVEGLOBAL

    PRINTFORMW 옵션 내보내기를 완료했습니다.
ELSE
    PRINTFORMW 내보내기를 취소했습니다.
ENDIF


@OPTION_IMPORT_KR
PRINTFORML 현재 옵션값을 가져오시겠습니까?
PRINTFORML * 주의 * 내보낼 경우, 기존 옵션 정보는 덮어씌워집니다.
PRINTFORML * 주의 * 버전이 올라갔을 경우, 기본 세이브에서 옵션을 다시 내보낸 후 가져오시는 것을 강력히 추천드립니다.
PRINTFORML [1] - 가져온다
PRINTFORML [0] - 돌아간다
INPUT


IF RESULT == 1
    ; CASE by CASE 변수 할당

    ; CASE 0 임신 유무
    FLAG:임신스위치 = OPTION_SAVE_KR:0

    ; CASE 1 자식의성별
    FLAG:자식의성별 = OPTION_SAVE_KR:1

    ; CASE 2 자식묘사
    FLAG:자식묘사 = OPTION_SAVE_KR:2

    ; CASE 3 더부살이이벤트
    FLAG:더부살이이벤트 = OPTION_SAVE_KR:3

    ; CASE 4 연회 발생
    FLAG:연회의유무 = OPTION_SAVE_KR:4

    ; CASE 5 상대 쪽의 고백
    FLAG:고백금지 = OPTION_SAVE_KR:5

    ; CASE 6 섹프계 함락에서 연모계 함락으로 변화
    FLAG:함락노선변화 = OPTION_SAVE_KR:6

    ; CASE 7 섹프계 함락에서 연모계 함락으로 변화
    FLAG:무지자동상실금지 = OPTION_SAVE_KR:7

    ; CASE 8 텍스트 설정
    FLAG:정경텍스트설정 = OPTION_SAVE_KR:8
    FLAG:구상텍스트설정 = OPTION_SAVE_KR:9

    ; CASE 9 구상색
    FLAG:구상색 = OPTION_SAVE_KR:10

    ; CASE 10 불결도 표시
    FLAG:쓰레기표시OFF = OPTION_SAVE_KR:11

    ; CASE 11 카운터시 지문
    FLAG:카운터지문제어 = OPTION_SAVE_KR:12

    ; CASE 12 가슴 관련 텍스트 설정
    FLAG:Look표시용유방 = OPTION_SAVE_KR:13
    FLAG:Look표시용유두 = OPTION_SAVE_KR:14

    ; CASE 15 턴마다 나오는 ABLUP 생략
    FLAG:ABLUP생략 = OPTION_SAVE_KR:15

    ; CASE 16 첫키스 기록 상황 설정
    FLAG:FK판정 = OPTION_SAVE_KR:16

    ; CASE 17 이동시 멈춰 서기
    FLAG:멈춰서기 = OPTION_SAVE_KR:17

    ; CASE 18 캐릭터 만남시 의뢰 표시
    FLAG:의뢰패스 = OPTION_SAVE_KR:18

    ; CASE 19 소모품의 자동 구입
    FLAG:소모품자동구입 = OPTION_SAVE_KR:19

    ; CASE 20 자동 시간정지 이동
    FLAG:순간이동 = OPTION_SAVE_KR:20

    ; CASE 21 능력을 비교해서 덮쳐지지 않게 되는 판정
    FLAG:덮치기 = OPTION_SAVE_KR:21

    ; CASE 22 경고장사용
    FLAG:경고장사용 = OPTION_SAVE_KR:22

    ; CASE 23 내방모드
    FLAG:교류내방모드 = OPTION_SAVE_KR:23

    ; CASE 24 탈의시 명령 선택
    FLAG:탈의선택 = OPTION_SAVE_KR:24

    ; CASE 25 시간정지 탈의시 팬티 처리
    FLAG:팬티도둑 = OPTION_SAVE_KR:25

    ; CASE 26 일부 캐릭터의 니삭스 착용
    FLAG:니삭스착용 = OPTION_SAVE_KR:26

    ; CASE 27 야한 속옷을 추가한다
    FLAG:섹시팬티추가 = OPTION_SAVE_KR:27

    ; CASE 28 팬티 수집 상황 표시
    FLAG:팬티수집상황타입B = OPTION_SAVE_KR:28

    ; CASE 29 지도 표시 타입
    RECOLOREDMAPS = OPTION_SAVE_KR:29
    ANIMATERECOLOREDMAPS = OPTION_SAVE_KR:30

    ; CASE 30 캐릭터리스트 표시 순서
    FLAG:정렬 = OPTION_SAVE_KR:31

    ; CASE 31 방뇨와 오줌싸개버릇의 유효화
    FLAG:오줌유효 = OPTION_SAVE_KR:32

    ; CASE 32 채집시 재추첨 기능
    FLAG:채집재추첨 = OPTION_SAVE_KR:33

    ; CASE 33 시간 날씨에 따른 배경색 추이
    FLAG:배경색추이 = OPTION_SAVE_KR:34

    ; CASE 34 체벌 카운터
    FLAG:카운터제한 = OPTION_SAVE_KR:35

    ; CASE 35 자동 애널 개발 허가
    FLAG:애널개발무효 = OPTION_SAVE_KR:36

    ; CASE 36 일상행동 중 바람치라 발생
    FLAG:바람치라발생 = OPTION_SAVE_KR:37

    ; CASE 37 오폭삽입의 발생
    FLAG:오폭무효 = OPTION_SAVE_KR:38

    ; CASE 38 임신 기간 설정
    FLAG:임신일정배율 = OPTION_SAVE_KR:39

    PRINTFORMW 옵션 가져오기를 완료했습니다.
ELSE
    PRINTFORMW 가져오기를 취소했습니다.
ENDIF
